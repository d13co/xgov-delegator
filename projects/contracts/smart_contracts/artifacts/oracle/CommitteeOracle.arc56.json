{
    "name": "CommitteeOracle",
    "structs": {
        "SuperboxMeta": [
            {
                "name": "boxByteLengths",
                "type": "uint16[]"
            },
            {
                "name": "totalByteLength",
                "type": "uint64"
            },
            {
                "name": "maxBoxSize",
                "type": "uint64"
            },
            {
                "name": "valueSize",
                "type": "uint64"
            },
            {
                "name": "valueSchema",
                "type": "string"
            }
        ],
        "CommitteeMetadata": [
            {
                "name": "periodStart",
                "type": "uint32"
            },
            {
                "name": "periodEnd",
                "type": "uint32"
            },
            {
                "name": "totalMembers",
                "type": "uint32"
            },
            {
                "name": "totalVotes",
                "type": "uint32"
            },
            {
                "name": "xGovRegistryId",
                "type": "uint64"
            },
            {
                "name": "ingestedVotes",
                "type": "uint32"
            },
            {
                "name": "superboxPrefix",
                "type": "string"
            }
        ]
    },
    "methods": [
        {
            "name": "registerCommittee",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "Committee ID"
                },
                {
                    "type": "uint32",
                    "name": "periodStart",
                    "desc": "Period start"
                },
                {
                    "type": "uint32",
                    "name": "periodEnd",
                    "desc": "Period end"
                },
                {
                    "type": "uint32",
                    "name": "totalMembers",
                    "desc": "Total xGovs"
                },
                {
                    "type": "uint32",
                    "name": "totalVotes",
                    "desc": "Total votes in committee"
                },
                {
                    "type": "uint64",
                    "name": "xGovRegistryId"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Register a committee",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "unregisterCommittee",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "committee ID"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Delete committee. Must not have any xGovs",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "ingestXGovs",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "committee ID"
                },
                {
                    "type": "(uint32,address,uint32)[]",
                    "name": "xGovs",
                    "desc": "xGovs to ingest"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Ingest xGovs into a committee",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "uningestXGovs",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "committee ID"
                },
                {
                    "type": "uint64",
                    "name": "numXGovs",
                    "desc": "number of xGovs to uningest"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Uningest last N xGovs from committee",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getAccountId",
            "args": [
                {
                    "type": "address",
                    "name": "account",
                    "desc": "account to look up"
                }
            ],
            "returns": {
                "type": "uint32",
                "desc": "account ID or 0 if not found"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get account ID if exists, else return 0",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "logAccountIds",
            "args": [
                {
                    "type": "address[]",
                    "name": "accounts",
                    "desc": "accounts to log"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Log multiple accounts' IDs (or zero if not found)\nUsed to fetch account>ID quickly off-chain",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getCommitteeMetadata",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "Committee ID"
                },
                {
                    "type": "bool",
                    "name": "mustBeComplete",
                    "desc": "Whether committee must be complete (all votes ingested)"
                }
            ],
            "returns": {
                "type": "(uint32,uint32,uint32,uint32,uint64,uint32,string)",
                "struct": "CommitteeMetadata",
                "desc": "CommitteeMetadata"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get committee metadata",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "logCommitteeMetadata",
            "args": [
                {
                    "type": "byte[32][]",
                    "name": "committeeIds",
                    "desc": ""
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Log committee metadata for multiple committees",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getCommitteeSuperboxMeta",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": ""
                }
            ],
            "returns": {
                "type": "(uint16[],uint64,uint64,uint64,string)",
                "struct": "SuperboxMeta",
                "desc": "SuperboxMeta"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get committee superbox metadata",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getXGovVotingPower",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "Committee ID"
                },
                {
                    "type": "address",
                    "name": "account",
                    "desc": "xGov account"
                },
                {
                    "type": "uint32",
                    "name": "accountOffsetHint",
                    "desc": "Offset of account in committee superbox"
                }
            ],
            "returns": {
                "type": "uint32",
                "desc": "xGov voting power"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get xGov voting power, with required account offset hint (for opcode savings)",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "increaseBudget",
            "args": [
                {
                    "type": "uint64",
                    "name": "itxns",
                    "desc": "Number of no-op itxns to perform"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Utility to increase opcode budget by performing $itxns no-op itxns",
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 2,
                "bytes": 0
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "lastSuperboxPrefix": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "bGFzdFN1cGVyYm94UHJlZml4"
                },
                "lastAccountId": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "bGFzdEFjY291bnRJZA=="
                }
            },
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "committees": {
                    "keyType": "byte[32]",
                    "valueType": "CommitteeMetadata",
                    "prefix": "Yw=="
                },
                "accountIds": {
                    "keyType": "address",
                    "valueType": "uint32",
                    "prefix": "YQ=="
                }
            }
        }
    },
    "bareActions": {
        "create": [
            "NoOp"
        ],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        1293,
                        1545,
                        1601,
                        2210,
                        2277,
                        2310,
                        2483,
                        2541,
                        2600
                    ],
                    "errorMessage": "Box must have value"
                },
                {
                    "pc": [
                        1195
                    ],
                    "errorMessage": "ERR:DATALEN"
                },
                {
                    "pc": [
                        794
                    ],
                    "errorMessage": "ERR:NEMPTY"
                },
                {
                    "pc": [
                        786
                    ],
                    "errorMessage": "ERR:NEXIST"
                },
                {
                    "pc": [
                        410
                    ],
                    "errorMessage": "ERR:OOB"
                },
                {
                    "pc": [
                        654
                    ],
                    "errorMessage": "ERR:SBEXISTS"
                },
                {
                    "pc": [
                        359
                    ],
                    "errorMessage": "ERR:SBNEXIST"
                },
                {
                    "pc": [
                        98
                    ],
                    "errorMessage": "OnCompletion must be NoOp"
                },
                {
                    "pc": [
                        194
                    ],
                    "errorMessage": "OnCompletion must be NoOp && can only call when creating"
                },
                {
                    "pc": [
                        590,
                        711,
                        1021
                    ],
                    "errorMessage": "check GlobalState exists"
                },
                {
                    "pc": [
                        957,
                        1456,
                        2131,
                        2261
                    ],
                    "errorMessage": "index access is out of bounds"
                },
                {
                    "pc": [
                        1943,
                        1981,
                        2044
                    ],
                    "errorMessage": "index out of bounds"
                },
                {
                    "pc": [
                        394,
                        822,
                        1206,
                        1335,
                        2098,
                        2231
                    ],
                    "errorMessage": "invalid array length header"
                },
                {
                    "pc": [
                        2160
                    ],
                    "errorMessage": "invalid number of bytes for arc4.bool"
                },
                {
                    "pc": [
                        2109
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<account>"
                },
                {
                    "pc": [
                        2242
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<arc4.static_array<arc4.uint8, 32>>"
                },
                {
                    "pc": [
                        836
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<smart_contracts/oracle/types.algo.ts::XGovInput>"
                },
                {
                    "pc": [
                        479,
                        727,
                        813,
                        1787,
                        2081,
                        2152,
                        2303,
                        2327,
                        2335
                    ],
                    "errorMessage": "invalid number of bytes for arc4.static_array<arc4.uint8, 32>"
                },
                {
                    "pc": [
                        490,
                        501,
                        512,
                        523,
                        2346
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint32"
                },
                {
                    "pc": [
                        532,
                        1796
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint64"
                },
                {
                    "pc": [
                        1353
                    ],
                    "errorMessage": "max array length exceeded"
                },
                {
                    "pc": [
                        419
                    ],
                    "errorMessage": "never?"
                },
                {
                    "pc": [
                        245,
                        305
                    ],
                    "errorMessage": "overflow"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDIgMzIKICAgIGJ5dGVjYmxvY2sgImMiICJfbSIgIiIgImxhc3RTdXBlcmJveFByZWZpeCIgMHgzMDMxMzIzMzM0MzUzNjM3MzgzOSAweDE1MWY3Yzc1ICJsYXN0QWNjb3VudElkIiAiRVJSOkNfTlgiIGJhc2U2NChDNEVCUXc9PSkKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBibnogbWFpbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czoyMQogICAgLy8gbGFzdEFjY291bnRJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjIDYgLy8gImxhc3RBY2NvdW50SWQiCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NDMKICAgIC8vIGxhc3RTdXBlcmJveFByZWZpeCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzMgLy8gImxhc3RTdXBlcmJveFByZWZpeCIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAoKbWFpbl9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjM5CiAgICAvLyBleHBvcnQgY2xhc3MgQ29tbWl0dGVlT3JhY2xlIGV4dGVuZHMgQWNjb3VudElkQ29udHJhY3QgewogICAgdHhuIE51bUFwcEFyZ3MKICAgIGJ6IG1haW5fX19hbGdvdHNfXy5kZWZhdWx0Q3JlYXRlQDIwCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydAogICAgcHVzaGJ5dGVzcyAweGQ1MGJjNDNkIDB4ZjMwY2Y4NGQgMHhiYzIxNTUzOSAweDc0ZGM3MjBjIDB4OThmYTlmMmEgMHhlYzc0ZWRiZSAweDJmZDU0MTAwIDB4NmQ5ODNmMTAgMHgzNmJkMTVmMiAweDkwYTQ1ZmJhIDB4NDExOGVjYmYgLy8gbWV0aG9kICJyZWdpc3RlckNvbW1pdHRlZShieXRlWzMyXSx1aW50MzIsdWludDMyLHVpbnQzMix1aW50MzIsdWludDY0KXZvaWQiLCBtZXRob2QgInVucmVnaXN0ZXJDb21taXR0ZWUoYnl0ZVszMl0pdm9pZCIsIG1ldGhvZCAiaW5nZXN0WEdvdnMoYnl0ZVszMl0sKHVpbnQzMixhZGRyZXNzLHVpbnQzMilbXSl2b2lkIiwgbWV0aG9kICJ1bmluZ2VzdFhHb3ZzKGJ5dGVbMzJdLHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJnZXRBY2NvdW50SWQoYWRkcmVzcyl1aW50MzIiLCBtZXRob2QgImxvZ0FjY291bnRJZHMoYWRkcmVzc1tdKXZvaWQiLCBtZXRob2QgImdldENvbW1pdHRlZU1ldGFkYXRhKGJ5dGVbMzJdLGJvb2wpKHVpbnQzMix1aW50MzIsdWludDMyLHVpbnQzMix1aW50NjQsdWludDMyLHN0cmluZykiLCBtZXRob2QgImxvZ0NvbW1pdHRlZU1ldGFkYXRhKGJ5dGVbMzJdW10pdm9pZCIsIG1ldGhvZCAiZ2V0Q29tbWl0dGVlU3VwZXJib3hNZXRhKGJ5dGVbMzJdKSh1aW50MTZbXSx1aW50NjQsdWludDY0LHVpbnQ2NCxzdHJpbmcpIiwgbWV0aG9kICJnZXRYR292Vm90aW5nUG93ZXIoYnl0ZVszMl0sYWRkcmVzcyx1aW50MzIpdWludDMyIiwgbWV0aG9kICJpbmNyZWFzZUJ1ZGdldCh1aW50NjQpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIHJlZ2lzdGVyQ29tbWl0dGVlIHVucmVnaXN0ZXJDb21taXR0ZWUgaW5nZXN0WEdvdnMgdW5pbmdlc3RYR292cyBnZXRBY2NvdW50SWQgbG9nQWNjb3VudElkcyBnZXRDb21taXR0ZWVNZXRhZGF0YSBsb2dDb21taXR0ZWVNZXRhZGF0YSBnZXRDb21taXR0ZWVTdXBlcmJveE1ldGEgZ2V0WEdvdlZvdGluZ1Bvd2VyIGluY3JlYXNlQnVkZ2V0CiAgICBlcnIKCm1haW5fX19hbGdvdHNfXy5kZWZhdWx0Q3JlYXRlQDIwOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czozOQogICAgLy8gZXhwb3J0IGNsYXNzIENvbW1pdHRlZU9yYWNsZSBleHRlbmRzIEFjY291bnRJZENvbnRyYWN0IHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICAhCiAgICAmJgogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBtdXN0IGJlIE5vT3AgJiYgY2FuIG9ubHkgY2FsbCB3aGVuIGNyZWF0aW5nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gcHV5YS10czo6aXRvYShpOiB1aW50NjQpIC0+IGJ5dGVzOgppdG9hOgogICAgcHJvdG8gMSAxCiAgICBmcmFtZV9kaWcgLTEKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIDwKICAgIGJ6IGl0b2FfZWxzZV9ib2R5QDIKICAgIGJ5dGVjIDQgLy8gMHgzMDMxMzIzMzM0MzUzNjM3MzgzOQogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzEgLy8gMQogICAgZXh0cmFjdDMKICAgIHJldHN1YgoKaXRvYV9lbHNlX2JvZHlAMjoKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCAxMCAvLyAxMAogICAgLwogICAgY2FsbHN1YiBpdG9hCiAgICBmcmFtZV9kaWcgLTEKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgICUKICAgIGJ5dGVjIDQgLy8gMHgzMDMxMzIzMzM0MzUzNjM3MzgzOQogICAgc3dhcAogICAgaW50Y18xIC8vIDEKICAgIGV4dHJhY3QzCiAgICBjb25jYXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6OnUzMih2OiB1aW50NjQpIC0+IGJ5dGVzOgp1MzI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjQKICAgIC8vIGV4cG9ydCBmdW5jdGlvbiB1MzIodjogdWludDY0KSB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6NQogICAgLy8gcmV0dXJuIG5ldyBVaW50MzIodikKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIGludGNfMyAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA0IDQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvdHlwZXMuYWxnby50czo6Z2V0RW1wdHlDb21taXR0ZWVNZXRhZGF0YSgpIC0+IGJ5dGVzOgpnZXRFbXB0eUNvbW1pdHRlZU1ldGFkYXRhOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS90eXBlcy5hbGdvLnRzOjQ4CiAgICAvLyBwZXJpb2RTdGFydDogdTMyKDApLAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgdTMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL3R5cGVzLmFsZ28udHM6NDkKICAgIC8vIHBlcmlvZEVuZDogdTMyKDApLAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgdTMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL3R5cGVzLmFsZ28udHM6NTAKICAgIC8vIHRvdGFsTWVtYmVyczogdTMyKDApLAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgdTMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL3R5cGVzLmFsZ28udHM6NTEKICAgIC8vIHRvdGFsVm90ZXM6IHUzMigwKSwKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIHUzMgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS90eXBlcy5hbGdvLnRzOjUzCiAgICAvLyBpbmdlc3RlZFZvdGVzOiB1MzIoMCksCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiB1MzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvdHlwZXMuYWxnby50czo0Ny01NQogICAgLy8gcmV0dXJuIHsKICAgIC8vICAgcGVyaW9kU3RhcnQ6IHUzMigwKSwKICAgIC8vICAgcGVyaW9kRW5kOiB1MzIoMCksCiAgICAvLyAgIHRvdGFsTWVtYmVyczogdTMyKDApLAogICAgLy8gICB0b3RhbFZvdGVzOiB1MzIoMCksCiAgICAvLyAgIHhHb3ZSZWdpc3RyeUlkOiAwLAogICAgLy8gICBpbmdlc3RlZFZvdGVzOiB1MzIoMCksCiAgICAvLyAgIHN1cGVyYm94UHJlZml4OiAnJywKICAgIC8vIH0KICAgIHVuY292ZXIgNAogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS90eXBlcy5hbGdvLnRzOjUyCiAgICAvLyB4R292UmVnaXN0cnlJZDogMCwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL3R5cGVzLmFsZ28udHM6NDctNTUKICAgIC8vIHJldHVybiB7CiAgICAvLyAgIHBlcmlvZFN0YXJ0OiB1MzIoMCksCiAgICAvLyAgIHBlcmlvZEVuZDogdTMyKDApLAogICAgLy8gICB0b3RhbE1lbWJlcnM6IHUzMigwKSwKICAgIC8vICAgdG90YWxWb3RlczogdTMyKDApLAogICAgLy8gICB4R292UmVnaXN0cnlJZDogMCwKICAgIC8vICAgaW5nZXN0ZWRWb3RlczogdTMyKDApLAogICAgLy8gICBzdXBlcmJveFByZWZpeDogJycsCiAgICAvLyB9CiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgcHVzaGJ5dGVzIDB4MDAxZTAwMDAKICAgIGNvbmNhdAogICAgcmV0c3ViCgoKLy8gQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdHlwZXMuYWxnby50czo6YXUxNihudW06IHVpbnQ2NCkgLT4gYnl0ZXM6CmF1MTY6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdHlwZXMuYWxnby50czozMAogICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGF1MTYobnVtOiB1aW50NjQpIHsKICAgIHByb3RvIDEgMQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3R5cGVzLmFsZ28udHM6MzEKICAgIC8vIHJldHVybiBuZXcgVWludDE2KG51bSkKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICByZXRzdWIKCgovLyBAZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjppdG9hKGk6IHVpbnQ2NCkgLT4gYnl0ZXM6CkBkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6Oml0b2E6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czo5CiAgICAvLyBleHBvcnQgZnVuY3Rpb24gaXRvYShpOiB1aW50NjQpOiBzdHJpbmcgewogICAgcHJvdG8gMSAxCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czoxMgogICAgLy8gaWYgKGkgPCByYWRpeCkgewogICAgZnJhbWVfZGlnIC0xCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czoxMQogICAgLy8gY29uc3QgcmFkaXggPSBkaWdpdHMubGVuZ3RoCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czoxMgogICAgLy8gaWYgKGkgPCByYWRpeCkgewogICAgPAogICAgYnogQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czo6aXRvYV9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjEzCiAgICAvLyByZXR1cm4gZGlnaXRzLmF0KGkpLnRvU3RyaW5nKCkKICAgIGJ5dGVjIDQgLy8gIjAxMjM0NTY3ODkiCiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMSAvLyAxCiAgICBleHRyYWN0MwogICAgcmV0c3ViCgpAZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjppdG9hX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjE1CiAgICAvLyByZXR1cm4gaXRvYShpIC8gcmFkaXgpLmNvbmNhdChkaWdpdHMuYXQoaSAlIHJhZGl4KS50b1N0cmluZygpKQogICAgZnJhbWVfZGlnIC0xCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czoxMQogICAgLy8gY29uc3QgcmFkaXggPSBkaWdpdHMubGVuZ3RoCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czoxNQogICAgLy8gcmV0dXJuIGl0b2EoaSAvIHJhZGl4KS5jb25jYXQoZGlnaXRzLmF0KGkgJSByYWRpeCkudG9TdHJpbmcoKSkKICAgIC8KICAgIGNhbGxzdWIgQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czo6aXRvYQogICAgZnJhbWVfZGlnIC0xCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czoxMQogICAgLy8gY29uc3QgcmFkaXggPSBkaWdpdHMubGVuZ3RoCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czoxNQogICAgLy8gcmV0dXJuIGl0b2EoaSAvIHJhZGl4KS5jb25jYXQoZGlnaXRzLmF0KGkgJSByYWRpeCkudG9TdHJpbmcoKSkKICAgICUKICAgIGJ5dGVjIDQgLy8gIjAxMjM0NTY3ODkiCiAgICBzd2FwCiAgICBpbnRjXzEgLy8gMQogICAgZXh0cmFjdDMKICAgIGNvbmNhdAogICAgcmV0c3ViCgoKLy8gQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czo6c2JNZXRhQm94VmFsdWUobmFtZTogYnl0ZXMpIC0+IGJ5dGVzOgpzYk1ldGFCb3hWYWx1ZToKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjUzCiAgICAvLyBleHBvcnQgZnVuY3Rpb24gc2JNZXRhQm94VmFsdWUobmFtZTogc3RyaW5nKTogU3VwZXJib3hNZXRhIHsKICAgIHByb3RvIDEgMQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6NDUKICAgIC8vIHJldHVybiBtZXRhQm94TWFwKG5hbWUgKyAnX20nKQogICAgZnJhbWVfZGlnIC0xCiAgICBieXRlY18xIC8vICJfbSIKICAgIGNvbmNhdAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6NTUKICAgIC8vIGFzc2VydChtZXRhQm94LmV4aXN0cywgJ0VSUjpTQk5FWElTVCcpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEVSUjpTQk5FWElTVAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6NTYKICAgIC8vIHJldHVybiBtZXRhQm94LnZhbHVlCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIHJldHN1YgoKCi8vIEBkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6OnNiR2V0TG9jYXRpb24obmFtZTogYnl0ZXMsIHZhbHVlSW5kZXg6IHVpbnQ2NCkgLT4gYnl0ZXM6CnNiR2V0TG9jYXRpb246CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMDQKICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBzYkdldExvY2F0aW9uKG5hbWU6IHN0cmluZywgdmFsdWVJbmRleDogdWludDY0KTogW0JveE51bSwgQnl0ZU9mZnNldF0gewogICAgcHJvdG8gMiAxCiAgICBieXRlY18yIC8vICIiCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMDUKICAgIC8vIGNvbnN0IG1ldGEgPSBzYk1ldGFCb3hWYWx1ZShuYW1lKQogICAgZnJhbWVfZGlnIC0yCiAgICBjYWxsc3ViIHNiTWV0YUJveFZhbHVlCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMDYKICAgIC8vIGNvbnN0IHZhbHVlU2l6ZSA9IG1ldGEudmFsdWVTaXplLmFzVWludDY0KCkKICAgIGR1cAogICAgcHVzaGludCAxOCAvLyAxOAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIwNwogICAgLy8gY29uc3QgdG90YWxCb3hlcyA9IG1ldGEuYm94Qnl0ZUxlbmd0aHMubGVuZ3RoCiAgICBkaWcgMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBkaWcgMgogICAgcHVzaGludCAyNiAvLyAyNgogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAzCiAgICBjb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBjb3ZlciAyCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMTAKICAgIC8vIGxldCBieXRlSW5kZXg6IHVpbnQ2NCA9IHZhbHVlSW5kZXggKiB2YWx1ZVNpemUKICAgIGZyYW1lX2RpZyAtMQogICAgZGlnIDEKICAgICoKICAgIGR1cAogICAgY292ZXIgMwogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjEzCiAgICAvLyBhc3NlcnQoYnl0ZUluZGV4ICsgdmFsdWVTaXplIDw9IG1ldGEudG90YWxCeXRlTGVuZ3RoLmFzVWludDY0KCksICdFUlI6T09CJykKICAgICsKICAgIHN3YXAKICAgIGludGNfMiAvLyAyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgPD0KICAgIGFzc2VydCAvLyBFUlI6T09CCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMTUKICAgIC8vIGxldCBlbGFwc2VkQnl0ZXM6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMTYKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0b3RhbEJveGVzOyBpKyspIHsKICAgIGR1cAoKc2JHZXRMb2NhdGlvbl93aGlsZV90b3BAMToKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIxNgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRvdGFsQm94ZXM7IGkrKykgewogICAgZnJhbWVfZGlnIDUKICAgIGR1cAogICAgZnJhbWVfZGlnIDIKICAgIDwKICAgIGFzc2VydCAvLyBuZXZlcj8KICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIxNwogICAgLy8gY29uc3QgYm94U2l6ZSA9IG1ldGEuYm94Qnl0ZUxlbmd0aHNbaV0uYXNVaW50NjQoKQogICAgZnJhbWVfZGlnIDEKICAgIGV4dHJhY3QgMiAwCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gMgogICAgKgogICAgZXh0cmFjdF91aW50MTYKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMTgKICAgIC8vIGlmIChib3hTaXplICsgZWxhcHNlZEJ5dGVzID4gYnl0ZUluZGV4KSB7CiAgICBmcmFtZV9kaWcgNAogICAgKwogICAgZnJhbWVfZGlnIDMKICAgID4KICAgIGJ6IHNiR2V0TG9jYXRpb25fZWxzZV9ib2R5QDQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIyMAogICAgLy8gcmV0dXJuIFtpLCBieXRlSW5kZXggLSBlbGFwc2VkQnl0ZXNdCiAgICBmcmFtZV9kaWcgMwogICAgZnJhbWVfZGlnIDQKICAgIC0KICAgIGZyYW1lX2RpZyA1CiAgICBpdG9iCiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgpzYkdldExvY2F0aW9uX2Vsc2VfYm9keUA0OgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjIyCiAgICAvLyBlbGFwc2VkQnl0ZXMgKz0gYm94U2l6ZQogICAgZnJhbWVfZGlnIDQKICAgIGZyYW1lX2RpZyAwCiAgICArCiAgICBmcmFtZV9idXJ5IDQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIxNgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRvdGFsQm94ZXM7IGkrKykgewogICAgZnJhbWVfZGlnIDUKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDUKICAgIGIgc2JHZXRMb2NhdGlvbl93aGlsZV90b3BAMQoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OkNvbW1pdHRlZU9yYWNsZS5yZWdpc3RlckNvbW1pdHRlZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnJlZ2lzdGVyQ29tbWl0dGVlOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo1My02MAogICAgLy8gcHVibGljIHJlZ2lzdGVyQ29tbWl0dGVlKAogICAgLy8gICBjb21taXR0ZWVJZDogQ29tbWl0dGVlSWQsCiAgICAvLyAgIHBlcmlvZFN0YXJ0OiBVaW50MzIsCiAgICAvLyAgIHBlcmlvZEVuZDogVWludDMyLAogICAgLy8gICB0b3RhbE1lbWJlcnM6IFVpbnQzMiwKICAgIC8vICAgdG90YWxWb3RlczogVWludDMyLAogICAgLy8gICB4R292UmVnaXN0cnlJZDogdWludDY0LAogICAgLy8gKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGxlbgogICAgaW50Y18zIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NjEKICAgIC8vIHRoaXMuZW5zdXJlQ2FsbGVySXNBZG1pbigpCiAgICBjYWxsc3ViIGVuc3VyZUNhbGxlcklzQWRtaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NDEKICAgIC8vIGNvbW1pdHRlZXMgPSBCb3hNYXA8Q29tbWl0dGVlSWQsIENvbW1pdHRlZU1ldGFkYXRhPih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NjQKICAgIC8vIGVuc3VyZSghY29tbWl0dGVlQm94LmV4aXN0cywgZXJyQ29tbWl0dGVlRXhpc3RzKQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYnogcmVnaXN0ZXJDb21taXR0ZWVfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjY0CiAgICAvLyBlbnN1cmUoIWNvbW1pdHRlZUJveC5leGlzdHMsIGVyckNvbW1pdHRlZUV4aXN0cykKICAgIHB1c2hieXRlcyAiRVJSOkNfRVgiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKcmVnaXN0ZXJDb21taXR0ZWVfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo2NQogICAgLy8gZW5zdXJlKHBlcmlvZEVuZC5hc1VpbnQ2NCgpID4gcGVyaW9kU3RhcnQuYXNVaW50NjQoKSwgZXJyUGVyaW9kRW5kTGVzc1RoYW5TdGFydCkKICAgIGRpZyA0CiAgICBidG9pCiAgICBkaWcgNgogICAgYnRvaQogICAgPgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJueiByZWdpc3RlckNvbW1pdHRlZV9hZnRlcl9pZl9lbHNlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NjUKICAgIC8vIGVuc3VyZShwZXJpb2RFbmQuYXNVaW50NjQoKSA+IHBlcmlvZFN0YXJ0LmFzVWludDY0KCksIGVyclBlcmlvZEVuZExlc3NUaGFuU3RhcnQpCiAgICBwdXNoYnl0ZXMgIkVSUjpQRV9MVCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTAKICAgIC8vIGxvZyhjb2RlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjExCiAgICAvLyBlcnIoKQogICAgZXJyCgpyZWdpc3RlckNvbW1pdHRlZV9hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjcyCiAgICAvLyBpbmdlc3RlZFZvdGVzOiB1MzIoMCksCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiB1MzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NzMKICAgIC8vIHN1cGVyYm94UHJlZml4OiAnUycgKyB0aGlzLmxhc3RTdXBlcmJveFByZWZpeC52YWx1ZS50b1N0cmluZygpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NDMKICAgIC8vIGxhc3RTdXBlcmJveFByZWZpeCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzMgLy8gImxhc3RTdXBlcmJveFByZWZpeCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NzMKICAgIC8vIHN1cGVyYm94UHJlZml4OiAnUycgKyB0aGlzLmxhc3RTdXBlcmJveFByZWZpeC52YWx1ZS50b1N0cmluZygpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGNhbGxzdWIgaXRvYQogICAgcHVzaGJ5dGVzICJTIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjY2LTc0CiAgICAvLyBjb21taXR0ZWVCb3gudmFsdWUgPSB7CiAgICAvLyAgIHBlcmlvZFN0YXJ0LAogICAgLy8gICBwZXJpb2RFbmQsCiAgICAvLyAgIHRvdGFsTWVtYmVycywKICAgIC8vICAgdG90YWxWb3RlcywKICAgIC8vICAgeEdvdlJlZ2lzdHJ5SWQsCiAgICAvLyAgIGluZ2VzdGVkVm90ZXM6IHUzMigwKSwKICAgIC8vICAgc3VwZXJib3hQcmVmaXg6ICdTJyArIHRoaXMubGFzdFN1cGVyYm94UHJlZml4LnZhbHVlLnRvU3RyaW5nKCksCiAgICAvLyB9CiAgICBkaWcgNwogICAgZGlnIDcKICAgIGNvbmNhdAogICAgZGlnIDYKICAgIGNvbmNhdAogICAgZGlnIDUKICAgIGNvbmNhdAogICAgZGlnIDQKICAgIGl0b2IKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIGRpZyAxCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgcHVzaGJ5dGVzIDB4MDAxZQogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyAxCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo3NQogICAgLy8gc2JDcmVhdGUodGhpcy5nZXRDb21taXR0ZWVTQlByZWZpeChjb21taXR0ZWVJZCksIDIwNDgsIFhHT1ZfU1RPUkVEX1NJWkUsICdbdWludDMyLHVpbnQzMl0nKQogICAgZGlnIDYKICAgIGNhbGxzdWIgZ2V0Q29tbWl0dGVlU0JQcmVmaXgKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjQ1CiAgICAvLyByZXR1cm4gbWV0YUJveE1hcChuYW1lICsgJ19tJykKICAgIGJ5dGVjXzEgLy8gIl9tIgogICAgY29uY2F0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMgogICAgLy8gYXNzZXJ0KCFtZXRhQm94LmV4aXN0cywgJ0VSUjpTQkVYSVNUUycpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgIQogICAgYXNzZXJ0IC8vIEVSUjpTQkVYSVNUUwogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjMKICAgIC8vIG1ldGFCb3gudmFsdWUgPSBjbG9uZShtZXRhKQogICAgZHVwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjE0LTIwCiAgICAvLyBjb25zdCBtZXRhID0gbmV3IFN1cGVyYm94TWV0YSh7CiAgICAvLyAgIHRvdGFsQnl0ZUxlbmd0aDogYXU2NCgwKSwKICAgIC8vICAgbWF4Qm94U2l6ZTogYXU2NChtYXhCb3hTaXplKSwKICAgIC8vICAgYm94Qnl0ZUxlbmd0aHM6IG5ldyBEeW5hbWljQXJyYXk8VWludDE2PigpLAogICAgLy8gICB2YWx1ZVNpemU6IGF1NjQodmFsdWVTaXplKSwKICAgIC8vICAgdmFsdWVTY2hlbWE6IG5ldyBTdHIodmFsdWVTY2hlbWEpLAogICAgLy8gfSkKICAgIHB1c2hieXRlcyAweDAwMWMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgwMDAwMDAwMDAwMDAwMDAwMDgwMDFlMDAwMDAwMGY1Yjc1Njk2ZTc0MzMzMjJjNzU2OTZlNzQzMzMyNWQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIzCiAgICAvLyBtZXRhQm94LnZhbHVlID0gY2xvbmUobWV0YSkKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NzYKICAgIC8vIHRoaXMubGFzdFN1cGVyYm94UHJlZml4LnZhbHVlID0gdGhpcy5sYXN0U3VwZXJib3hQcmVmaXgudmFsdWUgKyAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo0MwogICAgLy8gbGFzdFN1cGVyYm94UHJlZml4ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMyAvLyAibGFzdFN1cGVyYm94UHJlZml4IgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo3NgogICAgLy8gdGhpcy5sYXN0U3VwZXJib3hQcmVmaXgudmFsdWUgPSB0aGlzLmxhc3RTdXBlcmJveFByZWZpeC52YWx1ZSArIDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo0MwogICAgLy8gbGFzdFN1cGVyYm94UHJlZml4ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMyAvLyAibGFzdFN1cGVyYm94UHJlZml4IgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo3NgogICAgLy8gdGhpcy5sYXN0U3VwZXJib3hQcmVmaXgudmFsdWUgPSB0aGlzLmxhc3RTdXBlcmJveFByZWZpeC52YWx1ZSArIDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjUzLTYwCiAgICAvLyBwdWJsaWMgcmVnaXN0ZXJDb21taXR0ZWUoCiAgICAvLyAgIGNvbW1pdHRlZUlkOiBDb21taXR0ZWVJZCwKICAgIC8vICAgcGVyaW9kU3RhcnQ6IFVpbnQzMiwKICAgIC8vICAgcGVyaW9kRW5kOiBVaW50MzIsCiAgICAvLyAgIHRvdGFsTWVtYmVyczogVWludDMyLAogICAgLy8gICB0b3RhbFZvdGVzOiBVaW50MzIsCiAgICAvLyAgIHhHb3ZSZWdpc3RyeUlkOiB1aW50NjQsCiAgICAvLyApOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUudW5yZWdpc3RlckNvbW1pdHRlZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnVucmVnaXN0ZXJDb21taXR0ZWU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjgzCiAgICAvLyBwdWJsaWMgdW5yZWdpc3RlckNvbW1pdHRlZShjb21taXR0ZWVJZDogQ29tbWl0dGVlSWQpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cG4gMgogICAgbGVuCiAgICBpbnRjXzMgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4NAogICAgLy8gdGhpcy5lbnN1cmVDYWxsZXJJc0FkbWluKCkKICAgIGNhbGxzdWIgZW5zdXJlQ2FsbGVySXNBZG1pbgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo0MQogICAgLy8gY29tbWl0dGVlcyA9IEJveE1hcDxDb21taXR0ZWVJZCwgQ29tbWl0dGVlTWV0YWRhdGE+KHsga2V5UHJlZml4OiAnYycgfSkKICAgIGJ5dGVjXzAgLy8gImMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4NwogICAgLy8gZW5zdXJlKGNvbW1pdHRlZUJveC5leGlzdHMsIGVyckNvbW1pdHRlZU5vdEV4aXN0cykKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJueiB1bnJlZ2lzdGVyQ29tbWl0dGVlX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4NwogICAgLy8gZW5zdXJlKGNvbW1pdHRlZUJveC5leGlzdHMsIGVyckNvbW1pdHRlZU5vdEV4aXN0cykKICAgIGJ5dGVjIDcgLy8gIkVSUjpDX05YIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCnVucmVnaXN0ZXJDb21taXR0ZWVfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4OAogICAgLy8gZW5zdXJlKGNvbW1pdHRlZUJveC52YWx1ZS5pbmdlc3RlZFZvdGVzID09PSB1MzIoMCksIGVyckluZ2VzdGVkVm90ZXNOb3RaZXJvKQogICAgZHVwCiAgICBwdXNoaW50cyAyNCA0IC8vIDI0LCA0CiAgICBib3hfZXh0cmFjdAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgdTMyCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJueiB1bnJlZ2lzdGVyQ29tbWl0dGVlX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4OAogICAgLy8gZW5zdXJlKGNvbW1pdHRlZUJveC52YWx1ZS5pbmdlc3RlZFZvdGVzID09PSB1MzIoMCksIGVyckluZ2VzdGVkVm90ZXNOb3RaZXJvKQogICAgcHVzaGJ5dGVzICJFUlI6SVZfTloiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKdW5yZWdpc3RlckNvbW1pdHRlZV9hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjg5CiAgICAvLyBjb21taXR0ZWVCb3guZGVsZXRlKCkKICAgIGR1cAogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjkwCiAgICAvLyBzYkRlbGV0ZVN1cGVyYm94KHRoaXMuZ2V0Q29tbWl0dGVlU0JQcmVmaXgoY29tbWl0dGVlSWQpKQogICAgZGlnIDEKICAgIGNhbGxzdWIgZ2V0Q29tbWl0dGVlU0JQcmVmaXgKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjQ1CiAgICAvLyByZXR1cm4gbWV0YUJveE1hcChuYW1lICsgJ19tJykKICAgIGJ5dGVjXzEgLy8gIl9tIgogICAgY29uY2F0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxOTIKICAgIC8vIGFzc2VydChtZXRhQm94LmV4aXN0cywgJ0VSUjpORVhJU1QnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBFUlI6TkVYSVNUCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxOTMKICAgIC8vIGFzc2VydChtZXRhQm94LnZhbHVlLnRvdGFsQnl0ZUxlbmd0aC5hc1VpbnQ2NCgpID09PSAwLCAnRVJSOk5FTVBUWScpCiAgICBkdXAKICAgIGludGNfMiAvLyAyCiAgICBwdXNoaW50IDggLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgICEKICAgIGFzc2VydCAvLyBFUlI6TkVNUFRZCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxOTUKICAgIC8vIG1ldGFCb3guZGVsZXRlKCkKICAgIGJveF9kZWwKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4MwogICAgLy8gcHVibGljIHVucmVnaXN0ZXJDb21taXR0ZWUoY29tbWl0dGVlSWQ6IENvbW1pdHRlZUlkKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLmluZ2VzdFhHb3ZzW3JvdXRpbmddKCkgLT4gdm9pZDoKaW5nZXN0WEdvdnM6CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiAxMgogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiAxMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo5OAogICAgLy8gcHVibGljIGluZ2VzdFhHb3ZzKGNvbW1pdHRlZUlkOiBDb21taXR0ZWVJZCwgeEdvdnM6IFhHb3ZJbnB1dFtdKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGxlbgogICAgaW50Y18zIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgZHVwCiAgICBjb3ZlciAzCiAgICBkdXAKICAgIHB1c2hpbnQgNDAgLy8gNDAKICAgICoKICAgIGludGNfMiAvLyAyCiAgICArCiAgICB1bmNvdmVyIDIKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvdHlwZXMuYWxnby50czo6WEdvdklucHV0PgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo5OQogICAgLy8gdGhpcy5lbnN1cmVDYWxsZXJJc0FkbWluKCkKICAgIGNhbGxzdWIgZW5zdXJlQ2FsbGVySXNBZG1pbgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMDEKICAgIC8vIGNvbnN0IGNvbW1pdHRlZSA9IHRoaXMubXVzdEdldENvbW1pdHRlZShjb21taXR0ZWVJZCkKICAgIGRpZyAxCiAgICBjYWxsc3ViIG11c3RHZXRDb21taXR0ZWUKICAgIGR1cAogICAgY292ZXIgMgogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMDIKICAgIC8vIGNvbnN0IHN1cGVyYm94TmFtZSA9IHRoaXMuZ2V0Q29tbWl0dGVlU0JQcmVmaXgoY29tbWl0dGVlSWQpCiAgICB1bmNvdmVyIDIKICAgIGNhbGxzdWIgZ2V0Q29tbWl0dGVlU0JQcmVmaXgKICAgIGR1cAogICAgY292ZXIgMwogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6NDUKICAgIC8vIHJldHVybiBtZXRhQm94TWFwKG5hbWUgKyAnX20nKQogICAgYnl0ZWNfMSAvLyAiX20iCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czozNgogICAgLy8gcmV0dXJuIHNiTWV0YS52YWx1ZS50b3RhbEJ5dGVMZW5ndGguYXNVaW50NjQoKSAvIFhHT1ZfU1RPUkVEX1NJWkUKICAgIGludGNfMiAvLyAyCiAgICBwdXNoaW50IDggLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIHB1c2hpbnQgOCAvLyA4CiAgICAvCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTA3CiAgICAvLyBlbnN1cmUoaW5nZXN0ZWRBY2NvdW50cyArIHhHb3ZzLmxlbmd0aCA8PSBjb21taXR0ZWUudG90YWxNZW1iZXJzLmFzVWludDY0KCksIGVyclRvdGFsWEdvdnNFeGNlZWRlZCkKICAgICsKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50MzIKICAgIDw9CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IGluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VANjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTA3CiAgICAvLyBlbnN1cmUoaW5nZXN0ZWRBY2NvdW50cyArIHhHb3ZzLmxlbmd0aCA8PSBjb21taXR0ZWUudG90YWxNZW1iZXJzLmFzVWludDY0KCksIGVyclRvdGFsWEdvdnNFeGNlZWRlZCkKICAgIHB1c2hieXRlcyAiRVJSOlRYX1hDIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VANjQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEwOQogICAgLy8gbGV0IGxhc3RBY2NvdW50SWQgPSB1MzIoMCkKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIHUzMgogICAgYnVyeSAyOAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMTAKICAgIC8vIGlmIChpbmdlc3RlZEFjY291bnRzID4gMCkgewogICAgZGlnIDEKICAgIGJ6IGluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMTEKICAgIC8vIGNvbnN0IGxhc3RYR292ID0gdGhpcy5nZXRTdG9yZWRYR292QXQoc3VwZXJib3hOYW1lLCBpbmdlc3RlZEFjY291bnRzIC0gMSkKICAgIGRpZyAxCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZGlnIDQKICAgIHN3YXAKICAgIGNhbGxzdWIgZ2V0U3RvcmVkWEdvdkF0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjExMgogICAgLy8gbGFzdEFjY291bnRJZCA9IGxhc3RYR292LmFjY291bnRJZAogICAgZXh0cmFjdCAwIDQKICAgIGJ1cnkgMjgKCmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTE1CiAgICAvLyBsZXQgaW5nZXN0ZWRWb3RlcyA9IGNvbW1pdHRlZS5pbmdlc3RlZFZvdGVzLmFzVWludDY0KCkKICAgIGRpZyA0CiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICBleHRyYWN0X3VpbnQzMgogICAgYnVyeSAxNQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMTYKICAgIC8vIGxldCB3cml0ZUJ1ZmZlciA9IEJ5dGVzYGAKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGJ1cnkgMjQKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDE0Cgppbmdlc3RYR292c19mb3JfaGVhZGVyQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjExNwogICAgLy8gZm9yIChjb25zdCB4R292IG9mIGNsb25lKHhHb3ZzKSkgewogICAgZGlnIDEzCiAgICBkaWcgNgogICAgPAogICAgYnogaW5nZXN0WEdvdnNfYWZ0ZXJfZm9yQDcKICAgIGRpZyA2CiAgICBleHRyYWN0IDIgMAogICAgZGlnIDE0CiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICAqCiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgYnVyeSAyNgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMTctMTE4CiAgICAvLyBmb3IgKGNvbnN0IHhHb3Ygb2YgY2xvbmUoeEdvdnMpKSB7CiAgICAvLyAgIGNvbnN0IGFjY291bnRXaXRoSWQ6IEFjY291bnRXaXRoSWQgPSB7IGFjY291bnQ6IHhHb3YuYWNjb3VudCwgYWNjb3VudElkOiB4R292LmFjY291bnRJZCB9CiAgICBkdXAKICAgIGV4dHJhY3QgNCAzMgogICAgc3dhcAogICAgZXh0cmFjdCAwIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTE4CiAgICAvLyBjb25zdCBhY2NvdW50V2l0aElkOiBBY2NvdW50V2l0aElkID0geyBhY2NvdW50OiB4R292LmFjY291bnQsIGFjY291bnRJZDogeEdvdi5hY2NvdW50SWQgfQogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGJ1cnkgMzQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo2OAogICAgLy8gbGV0IGFjY291bnRJZCA9IHRoaXMuZ2V0QWNjb3VudElkSWZFeGlzdHMoYWNjb3VudC5hY2NvdW50KQogICAgZXh0cmFjdCA0IDMyCiAgICBkdXAKICAgIGJ1cnkgMzYKICAgIGNhbGxzdWIgZ2V0QWNjb3VudElkSWZFeGlzdHMKICAgIGR1cAogICAgYnVyeSAzNQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjY5CiAgICAvLyBpZiAoYWNjb3VudElkLmFzVWludDY0KCkgPT09IDApIHsKICAgIGJ0b2kKICAgIGJueiBpbmdlc3RYR292c19lbHNlX2JvZHlAMzQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czoyMgogICAgLy8gYWNjb3VudElkcyA9IEJveE1hcDxBY2NvdW50LCBVaW50MzI+KHsga2V5UHJlZml4OiAnYScgfSkKICAgIHB1c2hieXRlcyAiYSIKICAgIGRpZyAzNQogICAgY29uY2F0CiAgICBkdXAKICAgIGJ1cnkgMzMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czozMgogICAgLy8gZW5zdXJlKCFib3guZXhpc3RzLCBlcnJBY2NvdW50RXhpc3RzKQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYnogaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA1OAogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjMyCiAgICAvLyBlbnN1cmUoIWJveC5leGlzdHMsIGVyckFjY291bnRFeGlzdHMpCiAgICBwdXNoYnl0ZXMgIkVSUjpBX0VYIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VANTg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MzMKICAgIC8vIHRoaXMubGFzdEFjY291bnRJZC52YWx1ZSsrCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjIxCiAgICAvLyBsYXN0QWNjb3VudElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWMgNiAvLyAibGFzdEFjY291bnRJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czozMwogICAgLy8gdGhpcy5sYXN0QWNjb3VudElkLnZhbHVlKysKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjIxCiAgICAvLyBsYXN0QWNjb3VudElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWMgNiAvLyAibGFzdEFjY291bnRJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czozMwogICAgLy8gdGhpcy5sYXN0QWNjb3VudElkLnZhbHVlKysKICAgIGRpZyAxCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjM0CiAgICAvLyBjb25zdCBhY2NvdW50SWQgPSB1MzIodGhpcy5sYXN0QWNjb3VudElkLnZhbHVlKQogICAgY2FsbHN1YiB1MzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czozNQogICAgLy8gYm94LnZhbHVlID0gYWNjb3VudElkCiAgICBkaWcgMzIKICAgIGRpZyAxCiAgICBib3hfcHV0Cgppbmdlc3RYR292c19hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo6QWNjb3VudElkQ29udHJhY3QuZ2V0T3JDcmVhdGVBY2NvdW50SWRAMzU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEyMAogICAgLy8geEdvdi5hY2NvdW50SWQgPSB0aGlzLmdldE9yQ3JlYXRlQWNjb3VudElkKGFjY291bnRXaXRoSWQpCiAgICBkaWcgMjUKICAgIHN3YXAKICAgIHJlcGxhY2UyIDAKICAgIGR1cAogICAgYnVyeSAyNAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMjIKICAgIC8vIGVuc3VyZSh4R292LmFjY291bnRJZC5hc1VpbnQ2NCgpID4gbGFzdEFjY291bnRJZC5hc1VpbnQ2NCgpLCBlcnJPdXRPZk9yZGVyKQogICAgZHVwCiAgICBleHRyYWN0IDAgNAogICAgYnVyeSAyOAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDMyCiAgICBkaWcgMjgKICAgIGJ0b2kKICAgID4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6OQogICAgLy8gaWYgKCFjb25kKSB7CiAgICBibnogaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA1MAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMjIKICAgIC8vIGVuc3VyZSh4R292LmFjY291bnRJZC5hc1VpbnQ2NCgpID4gbGFzdEFjY291bnRJZC5hc1VpbnQ2NCgpLCBlcnJPdXRPZk9yZGVyKQogICAgcHVzaGJ5dGVzICJFUlI6T09PIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VANTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEyNgogICAgLy8gdm90ZXM6IHhHb3Yudm90ZXMsCiAgICBkaWcgMjIKICAgIGR1cAogICAgZXh0cmFjdCAzNiA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEyNC0xMjcKICAgIC8vIGNvbnN0IHhHb3ZTdG9yZWQ6IEFjY291bnRJZFdpdGhWb3RlcyA9IHsKICAgIC8vICAgYWNjb3VudElkOiB4R292LmFjY291bnRJZCwKICAgIC8vICAgdm90ZXM6IHhHb3Yudm90ZXMsCiAgICAvLyB9CiAgICBkaWcgMjgKICAgIGR1cAogICAgY292ZXIgMwogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEyOQogICAgLy8gd3JpdGVCdWZmZXIgPSB3cml0ZUJ1ZmZlci5jb25jYXQoZW5jb2RlQXJjNCh4R292U3RvcmVkKSkKICAgIGRpZyAyNgogICAgc3dhcAogICAgY29uY2F0CiAgICBidXJ5IDI2CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEyNgogICAgLy8gdm90ZXM6IHhHb3Yudm90ZXMsCiAgICBwdXNoaW50IDM2IC8vIDM2CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEzMQogICAgLy8gaW5nZXN0ZWRWb3RlcyArPSB4R292LnZvdGVzLmFzVWludDY0KCkKICAgIGV4dHJhY3RfdWludDMyCiAgICBkaWcgMTYKICAgICsKICAgIGJ1cnkgMTYKICAgIGRpZyAxNAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMTUKICAgIGJ1cnkgMjgKICAgIGIgaW5nZXN0WEdvdnNfZm9yX2hlYWRlckA0Cgppbmdlc3RYR292c19lbHNlX2JvZHlAMzQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6NzIKICAgIC8vIGVuc3VyZUV4dHJhKGFjY291bnRJZCA9PT0gYWNjb3VudC5hY2NvdW50SWQsIGVyckFjY291bnRJZE1pc21hdGNoLCBhY2NvdW50LmFjY291bnRJZC5ieXRlcykKICAgIGRpZyAzMgogICAgZXh0cmFjdCAwIDQKICAgIGR1cAogICAgYnVyeSAzMAogICAgZGlnIDM0CiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxNgogICAgLy8gaWYgKCFjb25kKSB7CiAgICBibnogaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA1NAogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxNwogICAgLy8gbG9nKGV4dHJhKQogICAgZGlnIDI4CiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo3MgogICAgLy8gZW5zdXJlRXh0cmEoYWNjb3VudElkID09PSBhY2NvdW50LmFjY291bnRJZCwgZXJyQWNjb3VudElkTWlzbWF0Y2gsIGFjY291bnQuYWNjb3VudElkLmJ5dGVzKQogICAgcHVzaGJ5dGVzICJFUlI6SUQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjE4CiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxOQogICAgLy8gZXJyKCkKICAgIGVycgoKaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA1NDoKICAgIGRpZyAzMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMjAKICAgIC8vIHhHb3YuYWNjb3VudElkID0gdGhpcy5nZXRPckNyZWF0ZUFjY291bnRJZChhY2NvdW50V2l0aElkKQogICAgYiBpbmdlc3RYR292c19hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo6QWNjb3VudElkQ29udHJhY3QuZ2V0T3JDcmVhdGVBY2NvdW50SWRAMzUKCmluZ2VzdFhHb3ZzX2FmdGVyX2ZvckA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMzUKICAgIC8vIGVuc3VyZShpbmdlc3RlZFZvdGVzIDw9IGNvbW1pdHRlZS50b3RhbFZvdGVzLmFzVWludDY0KCksIGVyclRvdGFsVm90ZXNFeGNlZWRlZCkKICAgIGRpZyA0CiAgICBwdXNoaW50IDEyIC8vIDEyCiAgICBleHRyYWN0X3VpbnQzMgogICAgZGlnIDE1CiAgICA+PQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJueiBpbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDQ2CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEzNQogICAgLy8gZW5zdXJlKGluZ2VzdGVkVm90ZXMgPD0gY29tbWl0dGVlLnRvdGFsVm90ZXMuYXNVaW50NjQoKSwgZXJyVG90YWxWb3Rlc0V4Y2VlZGVkKQogICAgcHVzaGJ5dGVzICJFUlI6VFZfWEMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA0NjoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjMzCiAgICAvLyBjb25zdCBtZXRhID0gc2JNZXRhQm94VmFsdWUobmFtZSkKICAgIGRpZyAzCiAgICBjYWxsc3ViIHNiTWV0YUJveFZhbHVlCiAgICBkdXAKICAgIGJ1cnkgMjcKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjM0CiAgICAvLyBjb25zdCBtYXhCb3hTaXplID0gbWV0YS5tYXhCb3hTaXplLmFzVWludDY0KCkKICAgIGR1cAogICAgcHVzaGludCAxMCAvLyAxMAogICAgZXh0cmFjdF91aW50NjQKICAgIGJ1cnkgMTQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjM1CiAgICAvLyBjb25zdCB2YWx1ZVNpemUgPSBtZXRhLnZhbHVlU2l6ZS5hc1VpbnQ2NCgpCiAgICBkdXAKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgMTEKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjM4CiAgICAvLyBhc3NlcnQoZGF0YS5sZW5ndGggJSB2YWx1ZVNpemUgPT09IDAsICdFUlI6REFUQUxFTicpCiAgICBkaWcgMjUKICAgIGxlbgogICAgZHVwCiAgICBidXJ5IDEzCiAgICBzd2FwCiAgICAlCiAgICAhCiAgICBhc3NlcnQgLy8gRVJSOkRBVEFMRU4KICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjQwCiAgICAvLyBsZXQgY3VycmVudEJveE51bTogdWludDY0ID0gbWV0YS5ib3hCeXRlTGVuZ3Rocy5sZW5ndGggPT09IDAgPyAwIDogbWV0YS5ib3hCeXRlTGVuZ3Rocy5sZW5ndGggLSAxCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDEKICAgIHB1c2hpbnQgMjYgLy8gMjYKICAgIGV4dHJhY3RfdWludDE2CiAgICBzdWJzdHJpbmczCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgZHVwCiAgICBidXJ5IDIzCiAgICBibnogaW5nZXN0WEdvdnNfdGVybmFyeV9mYWxzZUAxMgogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTcKCmluZ2VzdFhHb3ZzX3Rlcm5hcnlfbWVyZ2VAMTM6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo0MgogICAgLy8gbGV0IGRhdGFXcml0dGVuOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxNgoKaW5nZXN0WEdvdnNfd2hpbGVfdG9wQDE0OgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NDQKICAgIC8vIHdoaWxlIChkYXRhV3JpdHRlbiA8IGRhdGEubGVuZ3RoKSB7CiAgICBkaWcgMTUKICAgIGRpZyAxMAogICAgPAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NDQtNTgKICAgIC8vIHdoaWxlIChkYXRhV3JpdHRlbiA8IGRhdGEubGVuZ3RoKSB7CiAgICAvLyAgIGNvbnN0IGRhdGFCb3ggPSBzYkRhdGFCb3hSZWYobmFtZSwgY3VycmVudEJveE51bSkKICAgIC8vICAgY29uc3QgY2h1bmtXcml0dGVuID0gYXBwZW5kQm94KGRhdGFCb3gsIGRhdGEuc2xpY2UoZGF0YVdyaXR0ZW4sIGRhdGFXcml0dGVuICsgbWF4Qm94U2l6ZSksIG1heEJveFNpemUsIHZhbHVlU2l6ZSkKICAgIC8vIAogICAgLy8gICBpZiAobWV0YS5ib3hCeXRlTGVuZ3Rocy5sZW5ndGggPT09IGN1cnJlbnRCb3hOdW0pIHsKICAgIC8vICAgICAvLyBuZXcgYm94CiAgICAvLyAgICAgbWV0YS5ib3hCeXRlTGVuZ3Rocy5wdXNoKGF1MTYoY2h1bmtXcml0dGVuKSkKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICAvLyBleGlzdGluZyBib3gKICAgIC8vICAgICBtZXRhLmJveEJ5dGVMZW5ndGhzW2N1cnJlbnRCb3hOdW1dID0gYXUxNihtZXRhLmJveEJ5dGVMZW5ndGhzW2N1cnJlbnRCb3hOdW1dLmFzVWludDY0KCkgKyBjaHVua1dyaXR0ZW4pCiAgICAvLyAgIH0KICAgIC8vIAogICAgLy8gICBkYXRhV3JpdHRlbiArPSBjaHVua1dyaXR0ZW4KICAgIC8vICAgY3VycmVudEJveE51bSsrCiAgICAvLyB9CiAgICBieiBpbmdlc3RYR292c19hZnRlcl93aGlsZUAzMAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6MjUKICAgIC8vIHJldHVybiBCeXRlcyhuYW1lKS5jb25jYXQoQnl0ZXMoaXRvYShudW0pKSkKICAgIGRpZyAxNgogICAgY2FsbHN1YiBAZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjppdG9hCiAgICBkaWcgNAogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGJ1cnkgMzEKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjQ2CiAgICAvLyBjb25zdCBjaHVua1dyaXR0ZW4gPSBhcHBlbmRCb3goZGF0YUJveCwgZGF0YS5zbGljZShkYXRhV3JpdHRlbiwgZGF0YVdyaXR0ZW4gKyBtYXhCb3hTaXplKSwgbWF4Qm94U2l6ZSwgdmFsdWVTaXplKQogICAgZGlnIDE2CiAgICBkdXAKICAgIGRpZyAxMgogICAgZHVwCiAgICBjb3ZlciAzCiAgICA+PQogICAgZGlnIDEKICAgIGRpZyAzCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgc3dhcAogICAgZGlnIDE2CiAgICArCiAgICBkdXAKICAgIGRpZyAzCiAgICA+PQogICAgc3dhcAogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgZHVwCiAgICBkaWcgMgogICAgPAogICAgZGlnIDIKICAgIHN3YXAKICAgIHNlbGVjdAogICAgZGlnIDI2CiAgICBjb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICBidXJ5IDMyCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo3NwogICAgLy8gaWYgKGJveC5leGlzdHMpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYnogaW5nZXN0WEdvdnNfZWxzZV9ib2R5QDIzCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo3OQogICAgLy8gbGV0IGNhcGFjaXR5OiB1aW50NjQgPSBtYXhCb3hTaXplIC0gYm94Lmxlbmd0aAogICAgZGlnIDI5CiAgICBib3hfbGVuCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZGlnIDEzCiAgICBzd2FwCiAgICAtCiAgICBkdXAKICAgIGJ1cnkgMjAKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjgxCiAgICAvLyBpZiAoY2FwYWNpdHkgPCB2YWx1ZVNpemUpIHJldHVybiAwCiAgICBkaWcgOQogICAgPAogICAgYnogaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUAxOAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTgKCmluZ2VzdFhHb3ZzX2FmdGVyX2lubGluZWRfQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo6YXBwZW5kQm94QDI2OgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NDgKICAgIC8vIGlmIChtZXRhLmJveEJ5dGVMZW5ndGhzLmxlbmd0aCA9PT0gY3VycmVudEJveE51bSkgewogICAgZGlnIDI1CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBidXJ5IDIyCiAgICBkdXAKICAgIHB1c2hpbnQgMjYgLy8gMjYKICAgIGV4dHJhY3RfdWludDE2CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIHN3YXAKICAgIGNvdmVyIDIKICAgIHN1YnN0cmluZzMKICAgIGR1cAogICAgY292ZXIgMgogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGR1cAogICAgYnVyeSAyNAogICAgZGlnIDE5CiAgICA9PQogICAgYnogaW5nZXN0WEdvdnNfZWxzZV9ib2R5QDI4CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo1MAogICAgLy8gbWV0YS5ib3hCeXRlTGVuZ3Rocy5wdXNoKGF1MTYoY2h1bmtXcml0dGVuKSkKICAgIGRpZyAxOQogICAgY2FsbHN1YiBhdTE2CiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIGNvbmNhdCAvLyBvbiBlcnJvcjogbWF4IGFycmF5IGxlbmd0aCBleGNlZWRlZAogICAgZGlnIDIyCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHJlcGxhY2UyIDAKICAgIGRpZyAyNwogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDI0CiAgICBkdXAKICAgIGNvdmVyIDUKICAgIGV4dHJhY3QzCiAgICBkaWcgMQogICAgY29uY2F0CiAgICBkaWcgMgogICAgbGVuCiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgNQogICAgZHVwCiAgICBjb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHN1YnN0cmluZzMKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgY29uY2F0CiAgICBkaWcgMQogICAgdW5jb3ZlciA0CiAgICAtCiAgICB1bmNvdmVyIDMKICAgIGxlbgogICAgdW5jb3ZlciAzCiAgICArCiAgICBzd2FwCiAgICAtCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMjYKICAgIGJ1cnkgMjYKCmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAMjk6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo1NgogICAgLy8gZGF0YVdyaXR0ZW4gKz0gY2h1bmtXcml0dGVuCiAgICBkaWcgMTUKICAgIGRpZyAxOAogICAgKwogICAgYnVyeSAxNgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NTcKICAgIC8vIGN1cnJlbnRCb3hOdW0rKwogICAgZGlnIDE2CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxNwogICAgYiBpbmdlc3RYR292c193aGlsZV90b3BAMTQKCmluZ2VzdFhHb3ZzX2Vsc2VfYm9keUAyODoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjUzCiAgICAvLyBtZXRhLmJveEJ5dGVMZW5ndGhzW2N1cnJlbnRCb3hOdW1dID0gYXUxNihtZXRhLmJveEJ5dGVMZW5ndGhzW2N1cnJlbnRCb3hOdW1dLmFzVWludDY0KCkgKyBjaHVua1dyaXR0ZW4pCiAgICBzd2FwCiAgICBkdXAKICAgIGV4dHJhY3QgMiAwCiAgICBkaWcgMTkKICAgIGludGNfMiAvLyAyCiAgICAqCiAgICBzd2FwCiAgICBkaWcgMQogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAyMQogICAgKwogICAgY2FsbHN1YiBhdTE2CiAgICBzd2FwCiAgICBpbnRjXzIgLy8gMgogICAgKwogICAgc3dhcAogICAgcmVwbGFjZTMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkaWcgMjcKICAgIGR1cAogICAgY292ZXIgMgogICAgaW50Y18wIC8vIDAKICAgIGRpZyAyNAogICAgZHVwCiAgICBjb3ZlciA1CiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIGNvbmNhdAogICAgZGlnIDIKICAgIGxlbgogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDUKICAgIGR1cAogICAgY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDEKICAgIHVuY292ZXIgNAogICAgLQogICAgdW5jb3ZlciAzCiAgICBsZW4KICAgIHVuY292ZXIgMwogICAgKwogICAgc3dhcAogICAgLQogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHJlcGxhY2UyIDI2CiAgICBidXJ5IDI2CiAgICBiIGluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAMjkKCmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAMTg6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo4MwogICAgLy8gaWYgKGNhcGFjaXR5ICUgdmFsdWVTaXplICE9PSAwKSB7CiAgICBkaWcgMTgKICAgIGRpZyA5CiAgICAlCiAgICBkdXAKICAgIGJ1cnkgMTIKICAgIGJ6IGluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAMjAKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjg0CiAgICAvLyBjYXBhY2l0eSAtPSBjYXBhY2l0eSAlIHZhbHVlU2l6ZQogICAgZGlnIDE4CiAgICBkaWcgMTEKICAgIC0KICAgIGJ1cnkgMTkKCmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAMjA6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo4NgogICAgLy8gaWYgKGRhdGEubGVuZ3RoID4gY2FwYWNpdHkpIHsKICAgIGRpZyAzMAogICAgbGVuCiAgICBkdXAKICAgIGRpZyAyMAogICAgPgogICAgYnogaW5nZXN0WEdvdnNfZWxzZV9ib2R5QDIyCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo4OAogICAgLy8gY29uc3Qgb3JpZ2luYWxCb3hMZW5ndGggPSBib3gubGVuZ3RoCiAgICBkaWcgMzAKICAgIGR1cAogICAgYm94X2xlbgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjg5CiAgICAvLyBib3gucmVzaXplKGJveC5sZW5ndGggKyBjYXBhY2l0eSkKICAgIGR1cAogICAgZGlnIDIyCiAgICBkdXAKICAgIGNvdmVyIDMKICAgICsKICAgIGRpZyAzCiAgICBzd2FwCiAgICBib3hfcmVzaXplCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo5MAogICAgLy8gYm94LnJlcGxhY2Uob3JpZ2luYWxCb3hMZW5ndGgsIGRhdGEuc2xpY2UoMCwgY2FwYWNpdHkpKQogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgNAogICAgZHVwCiAgICBjb3ZlciAyCiAgICA+PQogICAgaW50Y18wIC8vIDAKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgZGlnIDMKICAgIGRpZyAyCiAgICA+PQogICAgZGlnIDQKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIGRpZyAzNQogICAgY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgdW5jb3ZlciAzCiAgICBjb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgYnVyeSAxOAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NDYKICAgIC8vIGNvbnN0IGNodW5rV3JpdHRlbiA9IGFwcGVuZEJveChkYXRhQm94LCBkYXRhLnNsaWNlKGRhdGFXcml0dGVuLCBkYXRhV3JpdHRlbiArIG1heEJveFNpemUpLCBtYXhCb3hTaXplLCB2YWx1ZVNpemUpCiAgICBiIGluZ2VzdFhHb3ZzX2FmdGVyX2lubGluZWRfQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo6YXBwZW5kQm94QDI2Cgppbmdlc3RYR292c19lbHNlX2JvZHlAMjI6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo5NAogICAgLy8gY29uc3Qgb3JpZ2luYWxCb3hMZW5ndGggPSBib3gubGVuZ3RoCiAgICBkaWcgMzAKICAgIGR1cAogICAgYm94X2xlbgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjk1CiAgICAvLyBib3gucmVzaXplKGJveC5sZW5ndGggKyBkYXRhLmxlbmd0aCkKICAgIGR1cAogICAgZGlnIDMKICAgICsKICAgIGRpZyAyCiAgICBzd2FwCiAgICBib3hfcmVzaXplCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo5NgogICAgLy8gYm94LnJlcGxhY2Uob3JpZ2luYWxCb3hMZW5ndGgsIGRhdGEpCiAgICBkaWcgMzMKICAgIGJveF9yZXBsYWNlCiAgICBidXJ5IDE4CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo0NgogICAgLy8gY29uc3QgY2h1bmtXcml0dGVuID0gYXBwZW5kQm94KGRhdGFCb3gsIGRhdGEuc2xpY2UoZGF0YVdyaXR0ZW4sIGRhdGFXcml0dGVuICsgbWF4Qm94U2l6ZSksIG1heEJveFNpemUsIHZhbHVlU2l6ZSkKICAgIGIgaW5nZXN0WEdvdnNfYWZ0ZXJfaW5saW5lZF9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjphcHBlbmRCb3hAMjYKCmluZ2VzdFhHb3ZzX2Vsc2VfYm9keUAyMzoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjEwMwogICAgLy8gaWYgKGNhcGFjaXR5ICUgdmFsdWVTaXplICE9PSAwKSB7CiAgICBkaWcgMTIKICAgIGRpZyA5CiAgICAlCiAgICBkdXAKICAgIGJ1cnkgMTMKICAgIGJueiBpbmdlc3RYR292c19pZl9ib2R5QDI0CiAgICBkaWcgMTIKCmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAMjU6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxMDYKICAgIC8vIGNvbnN0IGRhdGFUb1dyaXRlID0gZGF0YS5zbGljZSgwLCBjYXBhY2l0eSkKICAgIGRpZyAzMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMQogICAgPj0KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIHVuY292ZXIgMwogICAgZHVwCiAgICBkaWcgMwogICAgPj0KICAgIHN3YXAKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIHN1YnN0cmluZzMKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjEwNwogICAgLy8gYm94LnZhbHVlID0gZGF0YVRvV3JpdGUKICAgIGRpZyAzMAogICAgZHVwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIGRpZyAxCiAgICBib3hfcHV0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxMDgKICAgIC8vIHJldHVybiBkYXRhVG9Xcml0ZS5sZW5ndGgKICAgIGxlbgogICAgYnVyeSAxOAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NDYKICAgIC8vIGNvbnN0IGNodW5rV3JpdHRlbiA9IGFwcGVuZEJveChkYXRhQm94LCBkYXRhLnNsaWNlKGRhdGFXcml0dGVuLCBkYXRhV3JpdHRlbiArIG1heEJveFNpemUpLCBtYXhCb3hTaXplLCB2YWx1ZVNpemUpCiAgICBiIGluZ2VzdFhHb3ZzX2FmdGVyX2lubGluZWRfQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo6YXBwZW5kQm94QDI2Cgppbmdlc3RYR292c19pZl9ib2R5QDI0OgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTA0CiAgICAvLyBjYXBhY2l0eSAtPSBjYXBhY2l0eSAlIHZhbHVlU2l6ZQogICAgZGlnIDEyCiAgICBkaWcgMTIKICAgIC0KICAgIGIgaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUAyNQoKaW5nZXN0WEdvdnNfYWZ0ZXJfd2hpbGVAMzA6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo1OQogICAgLy8gbWV0YS50b3RhbEJ5dGVMZW5ndGggPSBhdTY0KG1ldGEudG90YWxCeXRlTGVuZ3RoLmFzVWludDY0KCkgKyBkYXRhV3JpdHRlbikKICAgIGRpZyAyNQogICAgZHVwCiAgICBpbnRjXzIgLy8gMgogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxNwogICAgKwogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3R5cGVzLmFsZ28udHM6MzUKICAgIC8vIHJldHVybiBuZXcgVWludDY0KG51bSkKICAgIGl0b2IKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjU5CiAgICAvLyBtZXRhLnRvdGFsQnl0ZUxlbmd0aCA9IGF1NjQobWV0YS50b3RhbEJ5dGVMZW5ndGguYXNVaW50NjQoKSArIGRhdGFXcml0dGVuKQogICAgcmVwbGFjZTIgMgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NjIKICAgIC8vIG1ldGFCb3guZGVsZXRlKCkKICAgIGRpZyAzCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NjMKICAgIC8vIG1ldGFCb3gudmFsdWUgPSBjbG9uZShtZXRhKQogICAgZHVwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIGRpZyAxCiAgICBib3hfcHV0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo2NQogICAgLy8gcmV0dXJuIG1ldGEudG90YWxCeXRlTGVuZ3RoLmFzVWludDY0KCkKICAgIGV4dHJhY3QgMiA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEzNwogICAgLy8gbG9nKHNiQXBwZW5kKHN1cGVyYm94TmFtZSwgd3JpdGVCdWZmZXIpKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEzOQogICAgLy8gY29tbWl0dGVlLmluZ2VzdGVkVm90ZXMgPSB1MzIoaW5nZXN0ZWRWb3RlcykKICAgIGRpZyAxNAogICAgY2FsbHN1YiB1MzIKICAgIGRpZyA1CiAgICBzd2FwCiAgICByZXBsYWNlMiAyNAogICAgZHVwCiAgICBidXJ5IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTQxCiAgICAvLyBpZiAoaW5nZXN0ZWRBY2NvdW50cyArIHhHb3ZzLmxlbmd0aCA9PT0gY29tbWl0dGVlLnRvdGFsTWVtYmVycy5hc1VpbnQ2NCgpKSB7CiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50MzIKICAgIGRpZyAxCiAgICA9PQogICAgYnogaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE0MgogICAgLy8gZW5zdXJlKGNvbW1pdHRlZS5pbmdlc3RlZFZvdGVzID09PSBjb21taXR0ZWUudG90YWxWb3RlcywgZXJyVG90YWxWb3Rlc01pc21hdGNoKQogICAgZGlnIDQKICAgIGR1cAogICAgZXh0cmFjdCAyNCA0CiAgICBzd2FwCiAgICBleHRyYWN0IDEyIDQKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IGluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAOQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNDIKICAgIC8vIGVuc3VyZShjb21taXR0ZWUuaW5nZXN0ZWRWb3RlcyA9PT0gY29tbWl0dGVlLnRvdGFsVm90ZXMsIGVyclRvdGFsVm90ZXNNaXNtYXRjaCkKICAgIHB1c2hieXRlcyAiRVJSOlRWX01NIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NDEKICAgIC8vIGNvbW1pdHRlZXMgPSBCb3hNYXA8Q29tbWl0dGVlSWQsIENvbW1pdHRlZU1ldGFkYXRhPih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgZGlnIDgKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNDQKICAgIC8vIHRoaXMuY29tbWl0dGVlcyhjb21taXR0ZWVJZCkudmFsdWUgPSBjbG9uZShjb21taXR0ZWUpCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgZGlnIDUKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OTgKICAgIC8vIHB1YmxpYyBpbmdlc3RYR292cyhjb21taXR0ZWVJZDogQ29tbWl0dGVlSWQsIHhHb3ZzOiBYR292SW5wdXRbXSk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKaW5nZXN0WEdvdnNfdGVybmFyeV9mYWxzZUAxMjoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjQwCiAgICAvLyBsZXQgY3VycmVudEJveE51bTogdWludDY0ID0gbWV0YS5ib3hCeXRlTGVuZ3Rocy5sZW5ndGggPT09IDAgPyAwIDogbWV0YS5ib3hCeXRlTGVuZ3Rocy5sZW5ndGggLSAxCiAgICBkaWcgMjEKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBidXJ5IDE3CiAgICBiIGluZ2VzdFhHb3ZzX3Rlcm5hcnlfbWVyZ2VAMTMKCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUudW5pbmdlc3RYR292c1tyb3V0aW5nXSgpIC0+IHZvaWQ6CnVuaW5nZXN0WEdvdnM6CiAgICBieXRlY18yIC8vICIiCiAgICBkdXBuIDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTUyCiAgICAvLyBwdWJsaWMgdW5pbmdlc3RYR292cyhjb21taXR0ZWVJZDogQ29tbWl0dGVlSWQsIG51bVhHb3ZzOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cG4gMgogICAgbGVuCiAgICBpbnRjXzMgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgOCAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTUzCiAgICAvLyB0aGlzLmVuc3VyZUNhbGxlcklzQWRtaW4oKQogICAgY2FsbHN1YiBlbnN1cmVDYWxsZXJJc0FkbWluCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE1NQogICAgLy8gY29uc3QgY29tbWl0dGVlID0gdGhpcy5tdXN0R2V0Q29tbWl0dGVlKGNvbW1pdHRlZUlkKQogICAgZHVwCiAgICBjYWxsc3ViIG11c3RHZXRDb21taXR0ZWUKICAgIGNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTU2CiAgICAvLyBjb25zdCBzdXBlcmJveE5hbWUgPSB0aGlzLmdldENvbW1pdHRlZVNCUHJlZml4KGNvbW1pdHRlZUlkKQogICAgY2FsbHN1YiBnZXRDb21taXR0ZWVTQlByZWZpeAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czo0NQogICAgLy8gcmV0dXJuIG1ldGFCb3hNYXAobmFtZSArICdfbScpCiAgICBieXRlY18xIC8vICJfbSIKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjM2CiAgICAvLyByZXR1cm4gc2JNZXRhLnZhbHVlLnRvdGFsQnl0ZUxlbmd0aC5hc1VpbnQ2NCgpIC8gWEdPVl9TVE9SRURfU0laRQogICAgaW50Y18yIC8vIDIKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBib3hfZXh0cmFjdAogICAgYnRvaQogICAgcHVzaGludCA4IC8vIDgKICAgIC8KICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNTkKICAgIC8vIGVuc3VyZShudW1YR292cyA8PSB0b3RhbFhHb3ZzLCBlcnJOdW1YR292c0V4Y2VlZGVkKQogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6OQogICAgLy8gaWYgKCFjb25kKSB7CiAgICBibnogdW5pbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDE3CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE1OQogICAgLy8gZW5zdXJlKG51bVhHb3ZzIDw9IHRvdGFsWEdvdnMsIGVyck51bVhHb3ZzRXhjZWVkZWQpCiAgICBwdXNoYnl0ZXMgIkVSUjpOWF9YQyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTAKICAgIC8vIGxvZyhjb2RlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjExCiAgICAvLyBlcnIoKQogICAgZXJyCgp1bmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAMTc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE2MAogICAgLy8gbGV0IGluZ2VzdGVkVm90ZXMgPSBjb21taXR0ZWUuaW5nZXN0ZWRWb3Rlcy5hc1VpbnQ2NCgpCiAgICBkaWcgMwogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50MzIKICAgIGJ1cnkgOQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNjEKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IHRvdGFsWEdvdnMgLSAxOyBpID49IHRvdGFsWEdvdnMgLSBudW1YR292czsgaS0tKSB7CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBidXJ5IDEwCgp1bmluZ2VzdFhHb3ZzX3doaWxlX3RvcEAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNjEKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IHRvdGFsWEdvdnMgLSAxOyBpID49IHRvdGFsWEdvdnMgLSBudW1YR292czsgaS0tKSB7CiAgICBkdXAKICAgIGRpZyA1CiAgICAtCiAgICBkaWcgMTAKICAgIDw9CiAgICBieiB1bmluZ2VzdFhHb3ZzX2FmdGVyX3doaWxlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTYyCiAgICAvLyBjb25zdCB4R292U3RvcmVkID0gdGhpcy5nZXRTdG9yZWRYR292QXQoc3VwZXJib3hOYW1lLCBpKQogICAgZGlnIDIKICAgIGR1cAogICAgZGlnIDExCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGNhbGxzdWIgZ2V0U3RvcmVkWEdvdkF0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE2MwogICAgLy8gaW5nZXN0ZWRWb3RlcyAtPSB4R292U3RvcmVkLnZvdGVzLmFzVWludDY0KCkKICAgIHB1c2hpbnQgNCAvLyA0CiAgICBleHRyYWN0X3VpbnQzMgogICAgZGlnIDExCiAgICBzd2FwCiAgICAtCiAgICBidXJ5IDExCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxMzEKICAgIC8vIGNvbnN0IFtib3hOdW0sIGJ5dGVPZmZzZXRdID0gc2JHZXRMb2NhdGlvbihuYW1lLCB2YWx1ZUluZGV4KQogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGNhbGxzdWIgc2JHZXRMb2NhdGlvbgogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgY292ZXIgMgogICAgY292ZXIgMwogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBidXJ5IDE0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czoyNQogICAgLy8gcmV0dXJuIEJ5dGVzKG5hbWUpLmNvbmNhdChCeXRlcyhpdG9hKG51bSkpKQogICAgZHVwCiAgICBjYWxsc3ViIEBkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6Oml0b2EKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgY29uY2F0CiAgICBjb3ZlciAyCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxMzQKICAgIC8vIGNvbnN0IHZhbHVlU2l6ZSA9IG1ldGEudmFsdWUudmFsdWVTaXplLmFzVWludDY0KCkKICAgIGRpZyA0CiAgICBkdXAKICAgIHB1c2hpbnRzIDE4IDggLy8gMTgsIDgKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGJ1cnkgMTIKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjEzNQogICAgLy8gY29uc3QgcHJldkJveEJ5dGVMZW5ndGggPSBtZXRhLnZhbHVlLmJveEJ5dGVMZW5ndGhzW2JveE51bV0uYXNVaW50NjQoKQogICAgZHVwCiAgICBwdXNoaW50IDI4IC8vIDI4CiAgICBpbnRjXzIgLy8gMgogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIGRpZyAyCiAgICA+CiAgICBhc3NlcnQgLy8gaW5kZXggb3V0IG9mIGJvdW5kcwogICAgc3dhcAogICAgaW50Y18yIC8vIDIKICAgICoKICAgIHB1c2hpbnQgMzAgLy8gMzAKICAgICsKICAgIGR1cAogICAgYnVyeSAxNwogICAgaW50Y18yIC8vIDIKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICBkdXAKICAgIGJ1cnkgMTIKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjEzNwogICAgLy8gaWYgKHByZXZCb3hCeXRlTGVuZ3RoID09PSB2YWx1ZVNpemUpIHsKICAgID09CiAgICBieiB1bmluZ2VzdFhHb3ZzX2Vsc2VfYm9keUA3CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxMzkKICAgIC8vIGRhdGFCb3guZGVsZXRlKCkKICAgIHN3YXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTQxCiAgICAvLyBtZXRhLnZhbHVlLmJveEJ5dGVMZW5ndGhzW2JveE51bV0gPSBhdTE2KDApCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBhdTE2CiAgICBkaWcgMwogICAgZHVwCiAgICBwdXNoaW50IDI4IC8vIDI4CiAgICBpbnRjXzIgLy8gMgogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIHVuY292ZXIgMwogICAgPgogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIGRpZyAxMwogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQoKdW5pbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDg6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxNTIKICAgIC8vIG1ldGEudmFsdWUudG90YWxCeXRlTGVuZ3RoID0gYXU2NChtZXRhLnZhbHVlLnRvdGFsQnl0ZUxlbmd0aC5hc1VpbnQ2NCgpIC0gdmFsdWVTaXplKQogICAgZGlnIDEKICAgIGR1cAogICAgaW50Y18yIC8vIDIKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBib3hfZXh0cmFjdAogICAgYnRvaQogICAgZGlnIDgKICAgIC0KICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi90eXBlcy5hbGdvLnRzOjM1CiAgICAvLyByZXR1cm4gbmV3IFVpbnQ2NChudW0pCiAgICBpdG9iCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxNTIKICAgIC8vIG1ldGEudmFsdWUudG90YWxCeXRlTGVuZ3RoID0gYXU2NChtZXRhLnZhbHVlLnRvdGFsQnl0ZUxlbmd0aC5hc1VpbnQ2NCgpIC0gdmFsdWVTaXplKQogICAgaW50Y18yIC8vIDIKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE2MQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gdG90YWxYR292cyAtIDE7IGkgPj0gdG90YWxYR292cyAtIG51bVhHb3ZzOyBpLS0pIHsKICAgIGRpZyA5CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgYnVyeSAxMAogICAgYiB1bmluZ2VzdFhHb3ZzX3doaWxlX3RvcEAyCgp1bmluZ2VzdFhHb3ZzX2Vsc2VfYm9keUA3OgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTQ0CiAgICAvLyBkYXRhQm94LnNwbGljZShieXRlT2Zmc2V0LCB2YWx1ZVNpemUsIEJ5dGVzYGApCiAgICBzd2FwCiAgICBkdXAKICAgIGRpZyAxMwogICAgZGlnIDEwCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGJveF9zcGxpY2UKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjE0NgogICAgLy8gZGF0YUJveC5yZXNpemUocHJldkJveEJ5dGVMZW5ndGggLSB2YWx1ZVNpemUpCiAgICBkaWcgMTAKICAgIHN3YXAKICAgIC0KICAgIHN3YXAKICAgIGRpZyAxCiAgICBib3hfcmVzaXplCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxNDgKICAgIC8vIG1ldGEudmFsdWUuYm94Qnl0ZUxlbmd0aHNbYm94TnVtXSA9IGF1MTYocHJldkJveEJ5dGVMZW5ndGggLSB2YWx1ZVNpemUpCiAgICBjYWxsc3ViIGF1MTYKICAgIGRpZyAzCiAgICBkdXAKICAgIHB1c2hpbnQgMjggLy8gMjgKICAgIGludGNfMiAvLyAyCiAgICBib3hfZXh0cmFjdAogICAgYnRvaQogICAgdW5jb3ZlciAzCiAgICA+CiAgICBhc3NlcnQgLy8gaW5kZXggb3V0IG9mIGJvdW5kcwogICAgZGlnIDEzCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICBiIHVuaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA4Cgp1bmluZ2VzdFhHb3ZzX2FmdGVyX3doaWxlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE2NgogICAgLy8gY29tbWl0dGVlLmluZ2VzdGVkVm90ZXMgPSB1MzIoaW5nZXN0ZWRWb3RlcykKICAgIGRpZyA4CiAgICBjYWxsc3ViIHUzMgogICAgZGlnIDQKICAgIHN3YXAKICAgIHJlcGxhY2UyIDI0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjQxCiAgICAvLyBjb21taXR0ZWVzID0gQm94TWFwPENvbW1pdHRlZUlkLCBDb21taXR0ZWVNZXRhZGF0YT4oeyBrZXlQcmVmaXg6ICdjJyB9KQogICAgYnl0ZWNfMCAvLyAiYyIKICAgIGRpZyA3CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTY3CiAgICAvLyB0aGlzLmNvbW1pdHRlZXMoY29tbWl0dGVlSWQpLnZhbHVlID0gY2xvbmUoY29tbWl0dGVlKQogICAgZHVwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTUyCiAgICAvLyBwdWJsaWMgdW5pbmdlc3RYR292cyhjb21taXR0ZWVJZDogQ29tbWl0dGVlSWQsIG51bVhHb3ZzOiB1aW50NjQpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUuZ2V0QWNjb3VudElkW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0QWNjb3VudElkOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNzUKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE3NwogICAgLy8gcmV0dXJuIHRoaXMuZ2V0QWNjb3VudElkSWZFeGlzdHMoYWNjb3VudCkKICAgIGNhbGxzdWIgZ2V0QWNjb3VudElkSWZFeGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTc1CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGJ5dGVjIDUgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUubG9nQWNjb3VudElkc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmxvZ0FjY291bnRJZHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE4NQogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgaW50Y18yIC8vIDIKICAgICsKICAgIHN3YXAKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFjY291bnQ+CiAgICBpbnRjXzAgLy8gMAoKbG9nQWNjb3VudElkc19mb3JfaGVhZGVyQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE4NwogICAgLy8gZm9yIChjb25zdCBhY2NvdW50IG9mIGFjY291bnRzKSB7CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBieiBsb2dBY2NvdW50SWRzX2FmdGVyX2ZvckA1CiAgICBkaWcgMgogICAgZXh0cmFjdCAyIDAKICAgIGRpZyAxCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTg4CiAgICAvLyBsb2codGhpcy5nZXRBY2NvdW50SWRJZkV4aXN0cyhhY2NvdW50KS5ieXRlcykKICAgIGNhbGxzdWIgZ2V0QWNjb3VudElkSWZFeGlzdHMKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMQogICAgYiBsb2dBY2NvdW50SWRzX2Zvcl9oZWFkZXJAMgoKbG9nQWNjb3VudElkc19hZnRlcl9mb3JANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTg1CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUuZ2V0Q29tbWl0dGVlTWV0YWRhdGFbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRDb21taXR0ZWVNZXRhZGF0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTk4CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmJvb2wKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NDEKICAgIC8vIGNvbW1pdHRlZXMgPSBCb3hNYXA8Q29tbWl0dGVlSWQsIENvbW1pdHRlZU1ldGFkYXRhPih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjAxCiAgICAvLyBpZiAoY29tbWl0dGVlQm94LmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBnZXRDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjAyCiAgICAvLyBpZiAobXVzdEJlQ29tcGxldGUpIHsKICAgIGRpZyAxCiAgICBieiBnZXRDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjAzCiAgICAvLyBlbnN1cmUoY29tbWl0dGVlQm94LnZhbHVlLmluZ2VzdGVkVm90ZXMgPT09IGNvbW1pdHRlZUJveC52YWx1ZS50b3RhbFZvdGVzLCBlcnJDb21taXR0ZWVJbmNvbXBsZXRlKQogICAgZHVwbiAyCiAgICBwdXNoaW50cyAyNCA0IC8vIDI0LCA0CiAgICBib3hfZXh0cmFjdAogICAgc3dhcAogICAgcHVzaGludHMgMTIgNCAvLyAxMiwgNAogICAgYm94X2V4dHJhY3QKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IGdldENvbW1pdHRlZU1ldGFkYXRhX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMDMKICAgIC8vIGVuc3VyZShjb21taXR0ZWVCb3gudmFsdWUuaW5nZXN0ZWRWb3RlcyA9PT0gY29tbWl0dGVlQm94LnZhbHVlLnRvdGFsVm90ZXMsIGVyckNvbW1pdHRlZUluY29tcGxldGUpCiAgICBwdXNoYnl0ZXMgIkVSUjpDX05DIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCmdldENvbW1pdHRlZU1ldGFkYXRhX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjA1CiAgICAvLyByZXR1cm4gY29tbWl0dGVlQm94LnZhbHVlCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCgpnZXRDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OkNvbW1pdHRlZU9yYWNsZS5nZXRDb21taXR0ZWVNZXRhZGF0YUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxOTgKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYnl0ZWMgNSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKZ2V0Q29tbWl0dGVlTWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMDcKICAgIC8vIHJldHVybiBnZXRFbXB0eUNvbW1pdHRlZU1ldGFkYXRhKCkKICAgIGNhbGxzdWIgZ2V0RW1wdHlDb21taXR0ZWVNZXRhZGF0YQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxOTgKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYiBnZXRDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OkNvbW1pdHRlZU9yYWNsZS5nZXRDb21taXR0ZWVNZXRhZGF0YUA2CgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLmxvZ0NvbW1pdHRlZU1ldGFkYXRhW3JvdXRpbmddKCkgLT4gdm9pZDoKbG9nQ29tbWl0dGVlTWV0YWRhdGE6CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMTQKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwbiAyCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBzd2FwCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4+CiAgICBpbnRjXzAgLy8gMAoKbG9nQ29tbWl0dGVlTWV0YWRhdGFfZm9yX2hlYWRlckAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMTYKICAgIC8vIGZvciAoY29uc3QgY29tbWl0dGVlSWQgb2YgY29tbWl0dGVlSWRzKSB7CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBieiBsb2dDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9mb3JAOAogICAgZGlnIDIKICAgIGV4dHJhY3QgMiAwCiAgICBkaWcgMQogICAgaW50Y18zIC8vIDMyCiAgICAqCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo0MQogICAgLy8gY29tbWl0dGVlcyA9IEJveE1hcDxDb21taXR0ZWVJZCwgQ29tbWl0dGVlTWV0YWRhdGE+KHsga2V5UHJlZml4OiAnYycgfSkKICAgIGJ5dGVjXzAgLy8gImMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgYnVyeSA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjIxOAogICAgLy8gaWYgKG1ldGFkYXRhLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBsb2dDb21taXR0ZWVNZXRhZGF0YV9lbHNlX2JvZHlANQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMTkKICAgIC8vIGxvZyhlbmNvZGVBcmM0KG1ldGFkYXRhLnZhbHVlKSkKICAgIGRpZyAzCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgbG9nCgpsb2dDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDY6CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEKICAgIGIgbG9nQ29tbWl0dGVlTWV0YWRhdGFfZm9yX2hlYWRlckAyCgpsb2dDb21taXR0ZWVNZXRhZGF0YV9lbHNlX2JvZHlANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjIxCiAgICAvLyBsb2coZW5jb2RlQXJjNChnZXRFbXB0eUNvbW1pdHRlZU1ldGFkYXRhKCkpKQogICAgY2FsbHN1YiBnZXRFbXB0eUNvbW1pdHRlZU1ldGFkYXRhCiAgICBsb2cKICAgIGIgbG9nQ29tbWl0dGVlTWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUA2Cgpsb2dDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9mb3JAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjE0CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUuZ2V0Q29tbWl0dGVlU3VwZXJib3hNZXRhW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0Q29tbWl0dGVlU3VwZXJib3hNZXRhOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMzEKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjIzMwogICAgLy8gY29uc3Qgc3VwZXJib3hOYW1lID0gdGhpcy5nZXRDb21taXR0ZWVTQlByZWZpeChjb21taXR0ZWVJZCkKICAgIGNhbGxzdWIgZ2V0Q29tbWl0dGVlU0JQcmVmaXgKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjQ1CiAgICAvLyByZXR1cm4gbWV0YUJveE1hcChuYW1lICsgJ19tJykKICAgIGJ5dGVjXzEgLy8gIl9tIgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjIzNAogICAgLy8gcmV0dXJuIHNiTWV0YUJveChzdXBlcmJveE5hbWUpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMzEKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYnl0ZWMgNSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OkNvbW1pdHRlZU9yYWNsZS5nZXRYR292Vm90aW5nUG93ZXJbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRYR292Vm90aW5nUG93ZXI6CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyNDQKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwbiAyCiAgICBsZW4KICAgIGludGNfMyAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgY292ZXIgMwogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjQ2CiAgICAvLyB0aGlzLm11c3RHZXRDb21taXR0ZWUoY29tbWl0dGVlSWQpCiAgICBzd2FwCiAgICBjYWxsc3ViIG11c3RHZXRDb21taXR0ZWUKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyNDgKICAgIC8vIGNvbnN0IGFjY291bnRJZCA9IHRoaXMuZ2V0QWNjb3VudElkSWZFeGlzdHMoYWNjb3VudCkKICAgIGNhbGxzdWIgZ2V0QWNjb3VudElkSWZFeGlzdHMKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyNDkKICAgIC8vIGVuc3VyZShhY2NvdW50SWQuYXNVaW50NjQoKSAhPT0gMCwgZXJyQWNjb3VudE5vdEV4aXN0cykKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6OQogICAgLy8gaWYgKCFjb25kKSB7CiAgICBibnogZ2V0WEdvdlZvdGluZ1Bvd2VyX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyNDkKICAgIC8vIGVuc3VyZShhY2NvdW50SWQuYXNVaW50NjQoKSAhPT0gMCwgZXJyQWNjb3VudE5vdEV4aXN0cykKICAgIHB1c2hieXRlcyAiRVJSOkFfTlgiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKZ2V0WEdvdlZvdGluZ1Bvd2VyX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjUxCiAgICAvLyBjb25zdCB4R292ID0gdGhpcy5nZXRTdG9yZWRYR292QXQodGhpcy5nZXRDb21taXR0ZWVTQlByZWZpeChjb21taXR0ZWVJZCksIGFjY291bnRPZmZzZXRIaW50LmFzVWludDY0KCkpCiAgICBkaWcgMgogICAgY2FsbHN1YiBnZXRDb21taXR0ZWVTQlByZWZpeAogICAgZGlnIDIKICAgIGJ0b2kKICAgIGNhbGxzdWIgZ2V0U3RvcmVkWEdvdkF0CiAgICBkdXAKICAgIGJ1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyNTIKICAgIC8vIGVuc3VyZUV4dHJhKHhHb3YuYWNjb3VudElkID09PSBhY2NvdW50SWQsIGVyckFjY291bnRIaW50TWlzbWF0Y2gsIGFjY291bnRJZC5ieXRlcykKICAgIGV4dHJhY3QgMCA0CiAgICBkaWcgMQogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTYKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IGdldFhHb3ZWb3RpbmdQb3dlcl9hZnRlcl9pZl9lbHNlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTcKICAgIC8vIGxvZyhleHRyYSkKICAgIGR1cAogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI1MgogICAgLy8gZW5zdXJlRXh0cmEoeEdvdi5hY2NvdW50SWQgPT09IGFjY291bnRJZCwgZXJyQWNjb3VudEhpbnRNaXNtYXRjaCwgYWNjb3VudElkLmJ5dGVzKQogICAgcHVzaGJ5dGVzICJFUlI6QUgiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjE4CiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxOQogICAgLy8gZXJyKCkKICAgIGVycgoKZ2V0WEdvdlZvdGluZ1Bvd2VyX2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjU0CiAgICAvLyByZXR1cm4geEdvdi52b3RlcwogICAgZGlnIDMKICAgIGV4dHJhY3QgNCA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI0NAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBieXRlYyA1IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjpBY2NvdW50SWRDb250cmFjdC5pbmNyZWFzZUJ1ZGdldFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmluY3JlYXNlQnVkZ2V0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjg5CiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo5MgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGl0eG5zOyBpKyspIHsKICAgIGludGNfMCAvLyAwCgppbmNyZWFzZUJ1ZGdldF93aGlsZV90b3BAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo5MgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGl0eG5zOyBpKyspIHsKICAgIGR1cAogICAgZGlnIDIKICAgIDwKICAgIGJ6IGluY3JlYXNlQnVkZ2V0X2FmdGVyX3doaWxlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo5My05OQogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHByb3ZhbFByb2dyYW06IGVtcHR5LmNsZWFyU3RhdGVQcm9ncmFtLCAvLyBpbnRlbnRpb25hbGx5IHVzaW5nIGNsZWFyIHN0YXRlIHByb2dyYW0gZm9yICJyZXR1cm4gdHJ1ZSIKICAgIC8vICAgICBjbGVhclN0YXRlUHJvZ3JhbTogZW1wdHkuY2xlYXJTdGF0ZVByb2dyYW0sCiAgICAvLyAgICAgb25Db21wbGV0aW9uOiBPbkNvbXBsZXRlQWN0aW9uLkRlbGV0ZUFwcGxpY2F0aW9uLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo5NwogICAgLy8gb25Db21wbGV0aW9uOiBPbkNvbXBsZXRlQWN0aW9uLkRlbGV0ZUFwcGxpY2F0aW9uLAogICAgcHVzaGludCA1IC8vIDUKICAgIGl0eG5fZmllbGQgT25Db21wbGV0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6OTEKICAgIC8vIGNvbnN0IGVtcHR5ID0gY29tcGlsZShFbXB0eUNvbnRyYWN0KQogICAgYnl0ZWMgOCAvLyBiYXNlNjQoQzRFQlF3PT0pCiAgICBpdHhuX2ZpZWxkIENsZWFyU3RhdGVQcm9ncmFtUGFnZXMKICAgIGJ5dGVjIDggLy8gYmFzZTY0KEM0RUJRdz09KQogICAgaXR4bl9maWVsZCBBcHByb3ZhbFByb2dyYW1QYWdlcwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjkzLTk4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcHJvdmFsUHJvZ3JhbTogZW1wdHkuY2xlYXJTdGF0ZVByb2dyYW0sIC8vIGludGVudGlvbmFsbHkgdXNpbmcgY2xlYXIgc3RhdGUgcHJvZ3JhbSBmb3IgInJldHVybiB0cnVlIgogICAgLy8gICAgIGNsZWFyU3RhdGVQcm9ncmFtOiBlbXB0eS5jbGVhclN0YXRlUHJvZ3JhbSwKICAgIC8vICAgICBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uRGVsZXRlQXBwbGljYXRpb24sCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6OTMtOTkKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwcm92YWxQcm9ncmFtOiBlbXB0eS5jbGVhclN0YXRlUHJvZ3JhbSwgLy8gaW50ZW50aW9uYWxseSB1c2luZyBjbGVhciBzdGF0ZSBwcm9ncmFtIGZvciAicmV0dXJuIHRydWUiCiAgICAvLyAgICAgY2xlYXJTdGF0ZVByb2dyYW06IGVtcHR5LmNsZWFyU3RhdGVQcm9ncmFtLAogICAgLy8gICAgIG9uQ29tcGxldGlvbjogT25Db21wbGV0ZUFjdGlvbi5EZWxldGVBcHBsaWNhdGlvbiwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjkyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgaXR4bnM7IGkrKykgewogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIGluY3JlYXNlQnVkZ2V0X3doaWxlX3RvcEAyCgppbmNyZWFzZUJ1ZGdldF9hZnRlcl93aGlsZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjg5CiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUubXVzdEdldENvbW1pdHRlZShjb21taXR0ZWVJZDogYnl0ZXMpIC0+IGJ5dGVzOgptdXN0R2V0Q29tbWl0dGVlOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyNjIKICAgIC8vIHByaXZhdGUgbXVzdEdldENvbW1pdHRlZShjb21taXR0ZWVJZDogQ29tbWl0dGVlSWQpOiBDb21taXR0ZWVNZXRhZGF0YSB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NDEKICAgIC8vIGNvbW1pdHRlZXMgPSBCb3hNYXA8Q29tbWl0dGVlSWQsIENvbW1pdHRlZU1ldGFkYXRhPih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyNjQKICAgIC8vIGVuc3VyZShjb21taXR0ZWVCb3guZXhpc3RzLCBlcnJDb21taXR0ZWVOb3RFeGlzdHMpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6OQogICAgLy8gaWYgKCFjb25kKSB7CiAgICBibnogbXVzdEdldENvbW1pdHRlZV9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjY0CiAgICAvLyBlbnN1cmUoY29tbWl0dGVlQm94LmV4aXN0cywgZXJyQ29tbWl0dGVlTm90RXhpc3RzKQogICAgYnl0ZWMgNyAvLyAiRVJSOkNfTlgiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKbXVzdEdldENvbW1pdHRlZV9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI2NQogICAgLy8gcmV0dXJuIGNvbW1pdHRlZUJveC52YWx1ZQogICAgZnJhbWVfZGlnIDAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBzd2FwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUuZ2V0Q29tbWl0dGVlU0JQcmVmaXgoY29tbWl0dGVlSWQ6IGJ5dGVzKSAtPiBieXRlczoKZ2V0Q29tbWl0dGVlU0JQcmVmaXg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI3MwogICAgLy8gcHJpdmF0ZSBnZXRDb21taXR0ZWVTQlByZWZpeChjb21taXR0ZWVJZDogQ29tbWl0dGVlSWQpOiBzdHJpbmcgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI3NAogICAgLy8gcmV0dXJuIHRoaXMubXVzdEdldENvbW1pdHRlZShjb21taXR0ZWVJZCkuc3VwZXJib3hQcmVmaXgKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBtdXN0R2V0Q29tbWl0dGVlCiAgICBkdXAKICAgIHB1c2hpbnQgMjggLy8gMjgKICAgIGV4dHJhY3RfdWludDE2CiAgICBkaWcgMQogICAgbGVuCiAgICBzdWJzdHJpbmczCiAgICBleHRyYWN0IDIgMAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLmdldFN0b3JlZFhHb3ZBdChzdXBlcmJveE5hbWU6IGJ5dGVzLCBpbmRleDogdWludDY0KSAtPiBieXRlczoKZ2V0U3RvcmVkWEdvdkF0OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyODMKICAgIC8vIHByaXZhdGUgZ2V0U3RvcmVkWEdvdkF0KHN1cGVyYm94TmFtZTogc3RyaW5nLCBpbmRleDogdWludDY0KTogQWNjb3VudElkV2l0aFZvdGVzIHsKICAgIHByb3RvIDIgMQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjM2CiAgICAvLyBjb25zdCBbYm94TnVtLCBieXRlT2Zmc2V0XSA9IHNiR2V0TG9jYXRpb24obmFtZSwgdmFsdWVJbmRleCkKICAgIGZyYW1lX2RpZyAtMgogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIHNiR2V0TG9jYXRpb24KICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBzd2FwCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjI1CiAgICAvLyByZXR1cm4gQnl0ZXMobmFtZSkuY29uY2F0KEJ5dGVzKGl0b2EobnVtKSkpCiAgICBzd2FwCiAgICBjYWxsc3ViIEBkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6Oml0b2EKICAgIGZyYW1lX2RpZyAtMgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMzgKICAgIC8vIGNvbnN0IHZhbHVlU2l6ZSA9IHNiTWV0YUJveFZhbHVlKG5hbWUpLnZhbHVlU2l6ZS5hc1VpbnQ2NCgpCiAgICBmcmFtZV9kaWcgLTIKICAgIGNhbGxzdWIgc2JNZXRhQm94VmFsdWUKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMzkKICAgIC8vIHJldHVybiBib3gudmFsdWUuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIHZhbHVlU2l6ZSkKICAgIHN3YXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkdXAKICAgIGxlbgogICAgZGlnIDMKICAgIGRpZyAxCiAgICA+PQogICAgZGlnIDQKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgdW5jb3ZlciA0CiAgICB1bmNvdmVyIDQKICAgICsKICAgIGR1cAogICAgZGlnIDMKICAgID49CiAgICBzd2FwCiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBkaWcgMgogICAgc3dhcAogICAgc2VsZWN0CiAgICBzdWJzdHJpbmczCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI4NQogICAgLy8gcmV0dXJuIGRlY29kZUFyYzQ8QWNjb3VudElkV2l0aFZvdGVzPih4R292RGF0YSkKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo6QWNjb3VudElkQ29udHJhY3QuZ2V0QWNjb3VudElkSWZFeGlzdHMoYWNjb3VudDogYnl0ZXMpIC0+IGJ5dGVzOgpnZXRBY2NvdW50SWRJZkV4aXN0czoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo0NAogICAgLy8gcHJvdGVjdGVkIGdldEFjY291bnRJZElmRXhpc3RzKGFjY291bnQ6IEFjY291bnQpOiBVaW50MzIgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MjIKICAgIC8vIGFjY291bnRJZHMgPSBCb3hNYXA8QWNjb3VudCwgVWludDMyPih7IGtleVByZWZpeDogJ2EnIH0pCiAgICBwdXNoYnl0ZXMgImEiCiAgICBmcmFtZV9kaWcgLTEKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6NDYKICAgIC8vIGlmIChib3guZXhpc3RzKSByZXR1cm4gYm94LnZhbHVlCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IGdldEFjY291bnRJZElmRXhpc3RzX2Vsc2VfYm9keUAyCiAgICBmcmFtZV9kaWcgMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHN3YXAKICAgIHJldHN1YgoKZ2V0QWNjb3VudElkSWZFeGlzdHNfZWxzZV9ib2R5QDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6NDcKICAgIC8vIGVsc2UgcmV0dXJuIHUzMigwKQogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgdTMyCiAgICBzd2FwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6OkFjY291bnRJZENvbnRyYWN0LmVuc3VyZUNhbGxlcklzQWRtaW4oKSAtPiB2b2lkOgplbnN1cmVDYWxsZXJJc0FkbWluOgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjgyCiAgICAvLyBlbnN1cmUoVHhuLnNlbmRlciA9PT0gR2xvYmFsLmNyZWF0b3JBZGRyZXNzLCBlcnJVbmF1dGhvcml6ZWQpCiAgICB0eG4gU2VuZGVyCiAgICBnbG9iYWwgQ3JlYXRvckFkZHJlc3MKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IGVuc3VyZUNhbGxlcklzQWRtaW5fYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6ODIKICAgIC8vIGVuc3VyZShUeG4uc2VuZGVyID09PSBHbG9iYWwuY3JlYXRvckFkZHJlc3MsIGVyclVuYXV0aG9yaXplZCkKICAgIHB1c2hieXRlcyAiRVJSOkFVVEgiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKZW5zdXJlQ2FsbGVySXNBZG1pbl9hZnRlcl9pZl9lbHNlQDM6CiAgICByZXRzdWIK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CyAEAAECICYJAWMCX20AEmxhc3RTdXBlcmJveFByZWZpeAowMTIzNDU2Nzg5BBUffHUNbGFzdEFjY291bnRJZAhFUlI6Q19OWAQLgQFDMRhAAAcnBiJnKyJnMRtBAFwxGRREMRhEggsE1QvEPQTzDPhNBLwhVTkEdNxyDASY+p8qBOx07b4EL9VBAARtmD8QBDa9FfIEkKRfugRBGOy/NhoAjgsBHQIVAmUGNgdgB3IHpwf2CD4IVAi5ADEZFDEYFBBEI0OKAQGL/4EKDEEABycEi/8jWImL/4EKCoj/5ov/gQoYJwRMI1hQiYoBAYv/FkmTJQ5EVwQEiSKI/+0iiP/pIoj/5SKI/+EiiP/dTwRPBFBPA1BPAlAiFlBMUIAEAB4AAFCJigEBi/8WSZOBEA5EVwYCiYoBAYv/gQoMQQAHJwSL/yNYiYv/gQoKiP/mi/+BChgnBEwjWFCJigEBi/8pUEm9RQFEvkiJigIBKov+iP/oSYESW0sBIllLAoEaWUsDTgJSSU4DIllOAov/SwELSU4DCEwkWw5EIkmLBUmLAgxEiwFXAgBMJAtZSYwAiwQIiwMNQQAOiwOLBAmLBRZMFlCMAImLBIsACIwEiwUjCIwFQv/GNhoBRwIVJRJENhoCSU4CFYEEEkQ2GgNJTgIVgQQSRDYaBElOAhWBBBJENhoFSU4CFYEEEkQ2GgZJFYEIEkQXTIgIFyhMUEm9RQFBAAyACEVSUjpDX0VYsABLBBdLBhcNQAANgAlFUlI6UEVfTFSwACKI/qAiK2VEiP5zgAFTTFBLB0sHUEsGUEsFUEsEFlBPAlBLARUWVwYCTwJQTIACAB5QTFBLAUm8SEy/SwaIBy8pUEm9RQEUREm8SIAvABwAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAgAHgAAAA9bdWludDMyLHVpbnQzMl2/IitlRCMIK0xnI0M2GgFHAhUlEkSIB1YoTFBJvUUBQAAEJwewAEmDAhgEuiKI/fgSQAANgAlFUlI6SVZfTlqwAEm8SEsBiAaqKVBJvUUBREkkgQi6FxREvEgjQyJHDCpHDTYaAUcCFSUSRDYaAklOAkkiWUlOA0mBKAskCE8CFRJEiAbpSwGIBlFJTgJOA08CiAZfSU4DKVBJTgMkgQi6F4EICklOAwhJTwKBCFoOQAANgAlFUlI6VFhfWEOwACKI/WVFHEsBQQAPSwEjCUsETIgGM1cABEUcSwSBGFpFDypFGCJFDksNSwYMQQDESwZXAgBLDoEoC4EoWElFGklXBCBMVwAETFBJRSJXBCBJRSSIBj5JRSMXQAB3gAFhSyNQSUUhvUUBQQAMgAhFUlI6QV9FWLAAIicGZUQjCCcGSwFniPzjSyBLAb9LGUxcAElFGElXAARFHCJaSxwXDUAAC4AHRVJSOk9PT7AASxZJVyQESxxJTgNMUEsaTFBFGoEkWksQCEUQSw4jCEUPRRxC/1RLIFcABElFHksiEkAADUscsIAGRVJSOklEsABLIUL/mEsEgQxaSw8PQAANgAlFUlI6VFZfWEOwAEsDiPzKSUUbSYEKW0UOSYESW0lFC0sZFUlFDUwYFERJIllLAYEaWVIiWUlFF0ACKiJFESJFEEsPSwoMQQHFSxCI/GZLBExQSUUfSxBJSwxJTgMPSwFLA08CTUxLEAhJSwMPTE8DTwJNSUsCDEsCTE1LGk4CUkUgvUUBQQFISx29REsNTAlJRRRLCQxBAM4iRRJLGUkiWUlOAkUWSYEaWUlOA0xOAlJJTgIiWUlFGEsTEkEAWEsTiPvgTwJMUEsWIwgWVwYCXABLG0lOAiJLGElOBVhLAVBLAhVPA08FSU4DTwJSTwJMUEsBTwQJTwMVTwMITAkWVwYCXBpFGksPSxIIRRBLECMIRRFC/ypMSVcCAEsTJAtMSwFZSxUIiPt6TCQITF1LG0lOAiJLGElOBVhLAVBLAhVPA08FSU4DTwJSTwJMUEsBTwQJTwMVTwMITAkWVwYCXBpFGkL/oEsSSwkYSUUMQQAHSxJLCwlFE0seFUlLFA1BADhLHkm9RElLFklOAwhLA0zTIk8ESU4CDyJLAk8CTUsDSwIPSwRPA08CTUsjTgJSTwNOArtFEkL+4UseSb1ESUsDCEsCTNNLIbtFEkL+zEsMSwkYSUUNQAArSwxLH0kVIksBDyJLAk8CTU8DSUsDD0xPA08CTVJLHkm8SEsBvxVFEkL+lksMSwwJQv/PSxlJJFtLEQgWXAJLA0m8SEm8SEsBv1cCCLBLDoj6PEsFTFwYSUUGgQhaSwESQQAbSwRJVxgETFcMBBJAAA2ACUVSUjpUVl9NTbAAKEsIUEm8SEsFvyNDSxUjCUURQv3QKkcFNhoBRwIVJRJENhoCSRWBCBJEF0lPAogDJUmIAo5OAogCoUlOAilQSU4CJIEIuheBCApJTgIOQAANgAlFUlI6TlhfWEOwAEsDgRhaRQlJIwlFCklLBQlLCg5BALZLAklLC0lOA4gCcIEEWksLTAlFC0lPAoj6AkkiW0lOAk4DgQhbRQ5JiPm8TwJMUE4CSwRJgwISCLoXSU4DRQxJgRwkuhdLAg1ETCQLgR4ISUURJLoXSUUMEkEAMEy8SCKI+XRLA0mBHCS6F08DDURLDU8Cu0sBSSSBCLoXSwgJFiRMu0sJIwlFCkL/akxJSw1LCklOAyrSSwpMCUxLAdOI+TVLA0mBHCS6F08DDURLDU8Cu0L/vksIiPjhSwRMXBgoSwdQSbxITL8jQzYaAUkVJRJEiAHwJwVMULAjQzYaAUcCIllJTgIlCyQITBUSRCJJSwIMQQAZSwJXAgBLAUlOAiULJViIAb6wIwhFAUL/4CNDNhoBSRUlEkQ2GgJJFSMSRCJTTChMUEm9RQFBACxLAUEAHUcCgwIYBLpMgwIMBLoSQAAMgAhFUlI6Q19OQ7AASb5EJwVMULAjQ4j4TUL/8yI2GgFHAiJZSU4CJQskCEwVEkQiSUsCDEEAK0sCVwIASwElCyVYKExQSUUFvUUBQQANSwO+RLBJIwhFAUL/1Yj4CLBC//EjQzYaAUkVJRJEiACzKVC+RCcFTFCwI0MiNhoBRwIVJRJENhoCSRUlEkQ2GgNJTgMVgQQSREyIAG9IiADiSRdAAAyACEVSUjpBX05YsABLAogAbUsCF4gAe0lFBVcABEsBEkAADEmwgAZFUlI6QUiwAEsDVwQEJwVMULAjQzYaARciSUsCDEEAHbGBBbIZJwiyQicIskCBBrIQIrIBs0kjCEUBQv/cI0OKAQEoi/9QSb1FAUAABCcHsACLAL5ETImKAQGL/4j/4EmBHFlLARVSVwIAiYoCAYv+i/+I95dJIltMgQhbTIj3V4v+TFCL/oj3dIESW0y+REkVSwNLAQ9LBEsCTwJNTwRPBAhJSwMPTE8DTwJNSUsCDEsCTE1SiYoBAYABYYv/UEm9RQFBAAaLAL5ETIkiiPa8TIkxADIJEkAADIAIRVJSOkFVVEiwAIk=",
        "clear": "C4EBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 3,
            "patch": 2
        }
    },
    "events": [],
    "templateVariables": {}
}