{
    "name": "CommitteeOracle",
    "structs": {
        "SuperboxMeta": [
            {
                "name": "boxByteLengths",
                "type": "uint16[]"
            },
            {
                "name": "totalByteLength",
                "type": "uint64"
            },
            {
                "name": "maxBoxSize",
                "type": "uint64"
            },
            {
                "name": "valueSize",
                "type": "uint64"
            },
            {
                "name": "valueSchema",
                "type": "string"
            }
        ],
        "CommitteeMetadata": [
            {
                "name": "periodStart",
                "type": "uint32"
            },
            {
                "name": "periodEnd",
                "type": "uint32"
            },
            {
                "name": "totalMembers",
                "type": "uint32"
            },
            {
                "name": "totalVotes",
                "type": "uint32"
            },
            {
                "name": "xGovRegistryId",
                "type": "uint64"
            },
            {
                "name": "ingestedVotes",
                "type": "uint32"
            },
            {
                "name": "superboxPrefix",
                "type": "string"
            }
        ]
    },
    "methods": [
        {
            "name": "registerCommittee",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "Committee ID"
                },
                {
                    "type": "uint32",
                    "name": "periodStart",
                    "desc": "Period start"
                },
                {
                    "type": "uint32",
                    "name": "periodEnd",
                    "desc": "Period end"
                },
                {
                    "type": "uint32",
                    "name": "totalMembers",
                    "desc": "Total xGovs"
                },
                {
                    "type": "uint32",
                    "name": "totalVotes",
                    "desc": "Total votes in committee"
                },
                {
                    "type": "uint64",
                    "name": "xGovRegistryId"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Register a committee",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "unregisterCommittee",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "committee ID"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Delete committee. Must not have any xGovs",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "ingestXGovs",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "committee ID"
                },
                {
                    "type": "(uint32,address,uint32)[]",
                    "name": "xGovs",
                    "desc": "xGovs to ingest"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Ingest xGovs into a committee",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "uningestXGovs",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "committee ID"
                },
                {
                    "type": "uint64",
                    "name": "numXGovs",
                    "desc": "number of xGovs to uningest"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Uningest last N xGovs from committee",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getAccountId",
            "args": [
                {
                    "type": "address",
                    "name": "account"
                }
            ],
            "returns": {
                "type": "uint32"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "logAccountIds",
            "args": [
                {
                    "type": "address[]",
                    "name": "accounts",
                    "desc": "accounts to log"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Log multiple accounts' IDs (or zero if not found)\nUsed to fetch account>ID quickly off-chain",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getCommitteeMetadata",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId"
                },
                {
                    "type": "bool",
                    "name": "mustBeComplete"
                }
            ],
            "returns": {
                "type": "(uint32,uint32,uint32,uint32,uint64,uint32,string)",
                "struct": "CommitteeMetadata"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "logCommitteeMetadata",
            "args": [
                {
                    "type": "byte[32][]",
                    "name": "committeeIds"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getCommitteeSuperboxMeta",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId"
                }
            ],
            "returns": {
                "type": "(uint16[],uint64,uint64,uint64,string)",
                "struct": "SuperboxMeta"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getXGovVotingPower",
            "args": [
                {
                    "type": "byte[32]",
                    "name": "committeeId",
                    "desc": "Committee ID"
                },
                {
                    "type": "address",
                    "name": "account",
                    "desc": "xGov account"
                },
                {
                    "type": "uint32",
                    "name": "accountOffsetHint",
                    "desc": "Offset of account in committee superbox"
                }
            ],
            "returns": {
                "type": "uint32",
                "desc": "xGov voting power"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get xGov voting power, with required account offset hint (for opcode savings)",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "increaseBudget",
            "args": [
                {
                    "type": "uint64",
                    "name": "itxns"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 2,
                "bytes": 0
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "lastSuperboxPrefix": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "bGFzdFN1cGVyYm94UHJlZml4"
                },
                "lastAccountId": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "bGFzdEFjY291bnRJZA=="
                }
            },
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "committees": {
                    "keyType": "byte[32]",
                    "valueType": "CommitteeMetadata",
                    "prefix": "Yw=="
                },
                "accountIds": {
                    "keyType": "address",
                    "valueType": "uint32",
                    "prefix": "YQ=="
                }
            }
        }
    },
    "bareActions": {
        "create": [
            "NoOp"
        ],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        1280,
                        1532,
                        1588,
                        2197,
                        2264,
                        2297,
                        2470,
                        2528,
                        2587
                    ],
                    "errorMessage": "Box must have value"
                },
                {
                    "pc": [
                        1182
                    ],
                    "errorMessage": "ERR:DATALEN"
                },
                {
                    "pc": [
                        794
                    ],
                    "errorMessage": "ERR:NEMPTY"
                },
                {
                    "pc": [
                        786
                    ],
                    "errorMessage": "ERR:NEXIST"
                },
                {
                    "pc": [
                        410
                    ],
                    "errorMessage": "ERR:OOB"
                },
                {
                    "pc": [
                        654
                    ],
                    "errorMessage": "ERR:SBEXISTS"
                },
                {
                    "pc": [
                        359
                    ],
                    "errorMessage": "ERR:SBNEXIST"
                },
                {
                    "pc": [
                        98
                    ],
                    "errorMessage": "OnCompletion must be NoOp"
                },
                {
                    "pc": [
                        194
                    ],
                    "errorMessage": "OnCompletion must be NoOp && can only call when creating"
                },
                {
                    "pc": [
                        590,
                        711,
                        1008
                    ],
                    "errorMessage": "check GlobalState exists"
                },
                {
                    "pc": [
                        957,
                        1443,
                        2118,
                        2248
                    ],
                    "errorMessage": "index access is out of bounds"
                },
                {
                    "pc": [
                        1930,
                        1968,
                        2031
                    ],
                    "errorMessage": "index out of bounds"
                },
                {
                    "pc": [
                        394,
                        822,
                        1193,
                        1322,
                        2085,
                        2218
                    ],
                    "errorMessage": "invalid array length header"
                },
                {
                    "pc": [
                        2147
                    ],
                    "errorMessage": "invalid number of bytes for arc4.bool"
                },
                {
                    "pc": [
                        2096
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<account>"
                },
                {
                    "pc": [
                        2229
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<arc4.static_array<arc4.uint8, 32>>"
                },
                {
                    "pc": [
                        836
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<smart_contracts/oracle/types.algo.ts::XGovInput>"
                },
                {
                    "pc": [
                        479,
                        727,
                        813,
                        1774,
                        2068,
                        2139,
                        2290,
                        2314,
                        2322
                    ],
                    "errorMessage": "invalid number of bytes for arc4.static_array<arc4.uint8, 32>"
                },
                {
                    "pc": [
                        490,
                        501,
                        512,
                        523,
                        2333
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint32"
                },
                {
                    "pc": [
                        532,
                        1783
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint64"
                },
                {
                    "pc": [
                        1340
                    ],
                    "errorMessage": "max array length exceeded"
                },
                {
                    "pc": [
                        419
                    ],
                    "errorMessage": "never?"
                },
                {
                    "pc": [
                        245,
                        305
                    ],
                    "errorMessage": "overflow"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDIgMzIKICAgIGJ5dGVjYmxvY2sgImMiICJfbSIgIiIgImxhc3RTdXBlcmJveFByZWZpeCIgMHgzMDMxMzIzMzM0MzUzNjM3MzgzOSAweDE1MWY3Yzc1ICJsYXN0QWNjb3VudElkIiAiRVJSOkNfTlgiIGJhc2U2NChDNEVCUXc9PSkKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBibnogbWFpbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo5CiAgICAvLyBsYXN0QWNjb3VudElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWMgNiAvLyAibGFzdEFjY291bnRJZCIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo0MAogICAgLy8gbGFzdFN1cGVyYm94UHJlZml4ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMyAvLyAibGFzdFN1cGVyYm94UHJlZml4IgogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CgptYWluX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MzgKICAgIC8vIGV4cG9ydCBjbGFzcyBDb21taXR0ZWVPcmFjbGUgZXh0ZW5kcyBBY2NvdW50SWRDb250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9fX2FsZ290c19fLmRlZmF1bHRDcmVhdGVAMjAKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0CiAgICBwdXNoYnl0ZXNzIDB4ZDUwYmM0M2QgMHhmMzBjZjg0ZCAweGJjMjE1NTM5IDB4NzRkYzcyMGMgMHg5OGZhOWYyYSAweGVjNzRlZGJlIDB4MmZkNTQxMDAgMHg2ZDk4M2YxMCAweDM2YmQxNWYyIDB4OTBhNDVmYmEgMHg0MTE4ZWNiZiAvLyBtZXRob2QgInJlZ2lzdGVyQ29tbWl0dGVlKGJ5dGVbMzJdLHVpbnQzMix1aW50MzIsdWludDMyLHVpbnQzMix1aW50NjQpdm9pZCIsIG1ldGhvZCAidW5yZWdpc3RlckNvbW1pdHRlZShieXRlWzMyXSl2b2lkIiwgbWV0aG9kICJpbmdlc3RYR292cyhieXRlWzMyXSwodWludDMyLGFkZHJlc3MsdWludDMyKVtdKXZvaWQiLCBtZXRob2QgInVuaW5nZXN0WEdvdnMoYnl0ZVszMl0sdWludDY0KXZvaWQiLCBtZXRob2QgImdldEFjY291bnRJZChhZGRyZXNzKXVpbnQzMiIsIG1ldGhvZCAibG9nQWNjb3VudElkcyhhZGRyZXNzW10pdm9pZCIsIG1ldGhvZCAiZ2V0Q29tbWl0dGVlTWV0YWRhdGEoYnl0ZVszMl0sYm9vbCkodWludDMyLHVpbnQzMix1aW50MzIsdWludDMyLHVpbnQ2NCx1aW50MzIsc3RyaW5nKSIsIG1ldGhvZCAibG9nQ29tbWl0dGVlTWV0YWRhdGEoYnl0ZVszMl1bXSl2b2lkIiwgbWV0aG9kICJnZXRDb21taXR0ZWVTdXBlcmJveE1ldGEoYnl0ZVszMl0pKHVpbnQxNltdLHVpbnQ2NCx1aW50NjQsdWludDY0LHN0cmluZykiLCBtZXRob2QgImdldFhHb3ZWb3RpbmdQb3dlcihieXRlWzMyXSxhZGRyZXNzLHVpbnQzMil1aW50MzIiLCBtZXRob2QgImluY3JlYXNlQnVkZ2V0KHVpbnQ2NCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggcmVnaXN0ZXJDb21taXR0ZWUgdW5yZWdpc3RlckNvbW1pdHRlZSBpbmdlc3RYR292cyB1bmluZ2VzdFhHb3ZzIGdldEFjY291bnRJZCBsb2dBY2NvdW50SWRzIGdldENvbW1pdHRlZU1ldGFkYXRhIGxvZ0NvbW1pdHRlZU1ldGFkYXRhIGdldENvbW1pdHRlZVN1cGVyYm94TWV0YSBnZXRYR292Vm90aW5nUG93ZXIgaW5jcmVhc2VCdWRnZXQKICAgIGVycgoKbWFpbl9fX2FsZ290c19fLmRlZmF1bHRDcmVhdGVAMjA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjM4CiAgICAvLyBleHBvcnQgY2xhc3MgQ29tbWl0dGVlT3JhY2xlIGV4dGVuZHMgQWNjb3VudElkQ29udHJhY3QgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcCAmJiBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBwdXlhLXRzOjppdG9hKGk6IHVpbnQ2NCkgLT4gYnl0ZXM6Cml0b2E6CiAgICBwcm90byAxIDEKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCAxMCAvLyAxMAogICAgPAogICAgYnogaXRvYV9lbHNlX2JvZHlAMgogICAgYnl0ZWMgNCAvLyAweDMwMzEzMjMzMzQzNTM2MzczODM5CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMSAvLyAxCiAgICBleHRyYWN0MwogICAgcmV0c3ViCgppdG9hX2Vsc2VfYm9keUAyOgogICAgZnJhbWVfZGlnIC0xCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICAvCiAgICBjYWxsc3ViIGl0b2EKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCAxMCAvLyAxMAogICAgJQogICAgYnl0ZWMgNCAvLyAweDMwMzEzMjMzMzQzNTM2MzczODM5CiAgICBzd2FwCiAgICBpbnRjXzEgLy8gMQogICAgZXh0cmFjdDMKICAgIGNvbmNhdAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo6dTMyKHY6IHVpbnQ2NCkgLT4gYnl0ZXM6CnUzMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6NAogICAgLy8gZXhwb3J0IGZ1bmN0aW9uIHUzMih2OiB1aW50NjQpIHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo1CiAgICAvLyByZXR1cm4gbmV3IFVpbnQzMih2KQogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgaW50Y18zIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBleHRyYWN0IDQgNAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS90eXBlcy5hbGdvLnRzOjpnZXRFbXB0eUNvbW1pdHRlZU1ldGFkYXRhKCkgLT4gYnl0ZXM6CmdldEVtcHR5Q29tbWl0dGVlTWV0YWRhdGE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL3R5cGVzLmFsZ28udHM6MzkKICAgIC8vIHBlcmlvZFN0YXJ0OiB1MzIoMCksCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiB1MzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvdHlwZXMuYWxnby50czo0MAogICAgLy8gcGVyaW9kRW5kOiB1MzIoMCksCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiB1MzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvdHlwZXMuYWxnby50czo0MQogICAgLy8gdG90YWxNZW1iZXJzOiB1MzIoMCksCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiB1MzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvdHlwZXMuYWxnby50czo0MgogICAgLy8gdG90YWxWb3RlczogdTMyKDApLAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgdTMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL3R5cGVzLmFsZ28udHM6NDQKICAgIC8vIGluZ2VzdGVkVm90ZXM6IHUzMigwKSwKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIHUzMgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS90eXBlcy5hbGdvLnRzOjM4LTQ2CiAgICAvLyByZXR1cm4gewogICAgLy8gICBwZXJpb2RTdGFydDogdTMyKDApLAogICAgLy8gICBwZXJpb2RFbmQ6IHUzMigwKSwKICAgIC8vICAgdG90YWxNZW1iZXJzOiB1MzIoMCksCiAgICAvLyAgIHRvdGFsVm90ZXM6IHUzMigwKSwKICAgIC8vICAgeEdvdlJlZ2lzdHJ5SWQ6IDAsCiAgICAvLyAgIGluZ2VzdGVkVm90ZXM6IHUzMigwKSwKICAgIC8vICAgc3VwZXJib3hQcmVmaXg6ICcnLAogICAgLy8gfQogICAgdW5jb3ZlciA0CiAgICB1bmNvdmVyIDQKICAgIGNvbmNhdAogICAgdW5jb3ZlciAzCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL3R5cGVzLmFsZ28udHM6NDMKICAgIC8vIHhHb3ZSZWdpc3RyeUlkOiAwLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvdHlwZXMuYWxnby50czozOC00NgogICAgLy8gcmV0dXJuIHsKICAgIC8vICAgcGVyaW9kU3RhcnQ6IHUzMigwKSwKICAgIC8vICAgcGVyaW9kRW5kOiB1MzIoMCksCiAgICAvLyAgIHRvdGFsTWVtYmVyczogdTMyKDApLAogICAgLy8gICB0b3RhbFZvdGVzOiB1MzIoMCksCiAgICAvLyAgIHhHb3ZSZWdpc3RyeUlkOiAwLAogICAgLy8gICBpbmdlc3RlZFZvdGVzOiB1MzIoMCksCiAgICAvLyAgIHN1cGVyYm94UHJlZml4OiAnJywKICAgIC8vIH0KICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBwdXNoYnl0ZXMgMHgwMDFlMDAwMAogICAgY29uY2F0CiAgICByZXRzdWIKCgovLyBAZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi90eXBlcy5hbGdvLnRzOjphdTE2KG51bTogdWludDY0KSAtPiBieXRlczoKYXUxNjoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi90eXBlcy5hbGdvLnRzOjMwCiAgICAvLyBleHBvcnQgZnVuY3Rpb24gYXUxNihudW06IHVpbnQ2NCkgewogICAgcHJvdG8gMSAxCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdHlwZXMuYWxnby50czozMQogICAgLy8gcmV0dXJuIG5ldyBVaW50MTYobnVtKQogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCAxNiAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA2IDIKICAgIHJldHN1YgoKCi8vIEBkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6Oml0b2EoaTogdWludDY0KSAtPiBieXRlczoKQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czo6aXRvYToKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjkKICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBpdG9hKGk6IHVpbnQ2NCk6IHN0cmluZyB7CiAgICBwcm90byAxIDEKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjEyCiAgICAvLyBpZiAoaSA8IHJhZGl4KSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjExCiAgICAvLyBjb25zdCByYWRpeCA9IGRpZ2l0cy5sZW5ndGgKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjEyCiAgICAvLyBpZiAoaSA8IHJhZGl4KSB7CiAgICA8CiAgICBieiBAZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjppdG9hX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6MTMKICAgIC8vIHJldHVybiBkaWdpdHMuYXQoaSkudG9TdHJpbmcoKQogICAgYnl0ZWMgNCAvLyAiMDEyMzQ1Njc4OSIKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18xIC8vIDEKICAgIGV4dHJhY3QzCiAgICByZXRzdWIKCkBkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6Oml0b2FfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6MTUKICAgIC8vIHJldHVybiBpdG9hKGkgLyByYWRpeCkuY29uY2F0KGRpZ2l0cy5hdChpICUgcmFkaXgpLnRvU3RyaW5nKCkpCiAgICBmcmFtZV9kaWcgLTEKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjExCiAgICAvLyBjb25zdCByYWRpeCA9IGRpZ2l0cy5sZW5ndGgKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjE1CiAgICAvLyByZXR1cm4gaXRvYShpIC8gcmFkaXgpLmNvbmNhdChkaWdpdHMuYXQoaSAlIHJhZGl4KS50b1N0cmluZygpKQogICAgLwogICAgY2FsbHN1YiBAZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjppdG9hCiAgICBmcmFtZV9kaWcgLTEKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjExCiAgICAvLyBjb25zdCByYWRpeCA9IGRpZ2l0cy5sZW5ndGgKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjE1CiAgICAvLyByZXR1cm4gaXRvYShpIC8gcmFkaXgpLmNvbmNhdChkaWdpdHMuYXQoaSAlIHJhZGl4KS50b1N0cmluZygpKQogICAgJQogICAgYnl0ZWMgNCAvLyAiMDEyMzQ1Njc4OSIKICAgIHN3YXAKICAgIGludGNfMSAvLyAxCiAgICBleHRyYWN0MwogICAgY29uY2F0CiAgICByZXRzdWIKCgovLyBAZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjpzYk1ldGFCb3hWYWx1ZShuYW1lOiBieXRlcykgLT4gYnl0ZXM6CnNiTWV0YUJveFZhbHVlOgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6NTMKICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBzYk1ldGFCb3hWYWx1ZShuYW1lOiBzdHJpbmcpOiBTdXBlcmJveE1ldGEgewogICAgcHJvdG8gMSAxCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czo0NQogICAgLy8gcmV0dXJuIG1ldGFCb3hNYXAobmFtZSArICdfbScpCiAgICBmcmFtZV9kaWcgLTEKICAgIGJ5dGVjXzEgLy8gIl9tIgogICAgY29uY2F0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czo1NQogICAgLy8gYXNzZXJ0KG1ldGFCb3guZXhpc3RzLCAnRVJSOlNCTkVYSVNUJykKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gRVJSOlNCTkVYSVNUCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czo1NgogICAgLy8gcmV0dXJuIG1ldGFCb3gudmFsdWUKICAgIGJveF9nZXQKICAgIHBvcAogICAgcmV0c3ViCgoKLy8gQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo6c2JHZXRMb2NhdGlvbihuYW1lOiBieXRlcywgdmFsdWVJbmRleDogdWludDY0KSAtPiBieXRlczoKc2JHZXRMb2NhdGlvbjoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIwNAogICAgLy8gZXhwb3J0IGZ1bmN0aW9uIHNiR2V0TG9jYXRpb24obmFtZTogc3RyaW5nLCB2YWx1ZUluZGV4OiB1aW50NjQpOiBbQm94TnVtLCBCeXRlT2Zmc2V0XSB7CiAgICBwcm90byAyIDEKICAgIGJ5dGVjXzIgLy8gIiIKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIwNQogICAgLy8gY29uc3QgbWV0YSA9IHNiTWV0YUJveFZhbHVlKG5hbWUpCiAgICBmcmFtZV9kaWcgLTIKICAgIGNhbGxzdWIgc2JNZXRhQm94VmFsdWUKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIwNgogICAgLy8gY29uc3QgdmFsdWVTaXplID0gbWV0YS52YWx1ZVNpemUuYXNVaW50NjQoKQogICAgZHVwCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjA3CiAgICAvLyBjb25zdCB0b3RhbEJveGVzID0gbWV0YS5ib3hCeXRlTGVuZ3Rocy5sZW5ndGgKICAgIGRpZyAxCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAyCiAgICBwdXNoaW50IDI2IC8vIDI2CiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDMKICAgIGNvdmVyIDIKICAgIHN1YnN0cmluZzMKICAgIGR1cAogICAgY292ZXIgMwogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGNvdmVyIDIKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIxMAogICAgLy8gbGV0IGJ5dGVJbmRleDogdWludDY0ID0gdmFsdWVJbmRleCAqIHZhbHVlU2l6ZQogICAgZnJhbWVfZGlnIC0xCiAgICBkaWcgMQogICAgKgogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMTMKICAgIC8vIGFzc2VydChieXRlSW5kZXggKyB2YWx1ZVNpemUgPD0gbWV0YS50b3RhbEJ5dGVMZW5ndGguYXNVaW50NjQoKSwgJ0VSUjpPT0InKQogICAgKwogICAgc3dhcAogICAgaW50Y18yIC8vIDIKICAgIGV4dHJhY3RfdWludDY0CiAgICA8PQogICAgYXNzZXJ0IC8vIEVSUjpPT0IKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIxNQogICAgLy8gbGV0IGVsYXBzZWRCeXRlczogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIxNgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRvdGFsQm94ZXM7IGkrKykgewogICAgZHVwCgpzYkdldExvY2F0aW9uX3doaWxlX3RvcEAxOgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjE2CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdG90YWxCb3hlczsgaSsrKSB7CiAgICBmcmFtZV9kaWcgNQogICAgZHVwCiAgICBmcmFtZV9kaWcgMgogICAgPAogICAgYXNzZXJ0IC8vIG5ldmVyPwogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjE3CiAgICAvLyBjb25zdCBib3hTaXplID0gbWV0YS5ib3hCeXRlTGVuZ3Roc1tpXS5hc1VpbnQ2NCgpCiAgICBmcmFtZV9kaWcgMQogICAgZXh0cmFjdCAyIDAKICAgIHN3YXAKICAgIGludGNfMiAvLyAyCiAgICAqCiAgICBleHRyYWN0X3VpbnQxNgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIxOAogICAgLy8gaWYgKGJveFNpemUgKyBlbGFwc2VkQnl0ZXMgPiBieXRlSW5kZXgpIHsKICAgIGZyYW1lX2RpZyA0CiAgICArCiAgICBmcmFtZV9kaWcgMwogICAgPgogICAgYnogc2JHZXRMb2NhdGlvbl9lbHNlX2JvZHlANAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjIwCiAgICAvLyByZXR1cm4gW2ksIGJ5dGVJbmRleCAtIGVsYXBzZWRCeXRlc10KICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9kaWcgNAogICAgLQogICAgZnJhbWVfZGlnIDUKICAgIGl0b2IKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCnNiR2V0TG9jYXRpb25fZWxzZV9ib2R5QDQ6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMjIKICAgIC8vIGVsYXBzZWRCeXRlcyArPSBib3hTaXplCiAgICBmcmFtZV9kaWcgNAogICAgZnJhbWVfZGlnIDAKICAgICsKICAgIGZyYW1lX2J1cnkgNAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjE2CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdG90YWxCb3hlczsgaSsrKSB7CiAgICBmcmFtZV9kaWcgNQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgNQogICAgYiBzYkdldExvY2F0aW9uX3doaWxlX3RvcEAxCgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLnJlZ2lzdGVyQ29tbWl0dGVlW3JvdXRpbmddKCkgLT4gdm9pZDoKcmVnaXN0ZXJDb21taXR0ZWU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjUwLTU3CiAgICAvLyBwdWJsaWMgcmVnaXN0ZXJDb21taXR0ZWUoCiAgICAvLyAgIGNvbW1pdHRlZUlkOiBTdGF0aWNCeXRlczwzMj4sCiAgICAvLyAgIHBlcmlvZFN0YXJ0OiBVaW50MzIsCiAgICAvLyAgIHBlcmlvZEVuZDogVWludDMyLAogICAgLy8gICB0b3RhbE1lbWJlcnM6IFVpbnQzMiwKICAgIC8vICAgdG90YWxWb3RlczogVWludDMyLAogICAgLy8gICB4R292UmVnaXN0cnlJZDogdWludDY0LAogICAgLy8gKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGxlbgogICAgaW50Y18zIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NTgKICAgIC8vIHRoaXMuZW5zdXJlQ2FsbGVySXNBZG1pbigpCiAgICBjYWxsc3ViIGVuc3VyZUNhbGxlcklzQWRtaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MzkKICAgIC8vIGNvbW1pdHRlZXMgPSBCb3hNYXA8U3RhdGljQnl0ZXM8MzI+LCBDb21taXR0ZWVNZXRhZGF0YT4oeyBrZXlQcmVmaXg6ICdjJyB9KQogICAgYnl0ZWNfMCAvLyAiYyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjYxCiAgICAvLyBlbnN1cmUoIWNvbW1pdHRlZUJveC5leGlzdHMsIGVyckNvbW1pdHRlZUV4aXN0cykKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJ6IHJlZ2lzdGVyQ29tbWl0dGVlX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo2MQogICAgLy8gZW5zdXJlKCFjb21taXR0ZWVCb3guZXhpc3RzLCBlcnJDb21taXR0ZWVFeGlzdHMpCiAgICBwdXNoYnl0ZXMgIkVSUjpDX0VYIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCnJlZ2lzdGVyQ29tbWl0dGVlX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NjIKICAgIC8vIGVuc3VyZShwZXJpb2RFbmQuYXNVaW50NjQoKSA+IHBlcmlvZFN0YXJ0LmFzVWludDY0KCksIGVyclBlcmlvZEVuZExlc3NUaGFuU3RhcnQpCiAgICBkaWcgNAogICAgYnRvaQogICAgZGlnIDYKICAgIGJ0b2kKICAgID4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6OQogICAgLy8gaWYgKCFjb25kKSB7CiAgICBibnogcmVnaXN0ZXJDb21taXR0ZWVfYWZ0ZXJfaWZfZWxzZUA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjYyCiAgICAvLyBlbnN1cmUocGVyaW9kRW5kLmFzVWludDY0KCkgPiBwZXJpb2RTdGFydC5hc1VpbnQ2NCgpLCBlcnJQZXJpb2RFbmRMZXNzVGhhblN0YXJ0KQogICAgcHVzaGJ5dGVzICJFUlI6UEVfTFQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKcmVnaXN0ZXJDb21taXR0ZWVfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo2OQogICAgLy8gaW5nZXN0ZWRWb3RlczogdTMyKDApLAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgdTMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjcwCiAgICAvLyBzdXBlcmJveFByZWZpeDogJ1MnICsgdGhpcy5sYXN0U3VwZXJib3hQcmVmaXgudmFsdWUudG9TdHJpbmcoKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjQwCiAgICAvLyBsYXN0U3VwZXJib3hQcmVmaXggPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlY18zIC8vICJsYXN0U3VwZXJib3hQcmVmaXgiCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjcwCiAgICAvLyBzdXBlcmJveFByZWZpeDogJ1MnICsgdGhpcy5sYXN0U3VwZXJib3hQcmVmaXgudmFsdWUudG9TdHJpbmcoKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBjYWxsc3ViIGl0b2EKICAgIHB1c2hieXRlcyAiUyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo2My03MQogICAgLy8gY29tbWl0dGVlQm94LnZhbHVlID0gewogICAgLy8gICBwZXJpb2RTdGFydCwKICAgIC8vICAgcGVyaW9kRW5kLAogICAgLy8gICB0b3RhbE1lbWJlcnMsCiAgICAvLyAgIHRvdGFsVm90ZXMsCiAgICAvLyAgIHhHb3ZSZWdpc3RyeUlkLAogICAgLy8gICBpbmdlc3RlZFZvdGVzOiB1MzIoMCksCiAgICAvLyAgIHN1cGVyYm94UHJlZml4OiAnUycgKyB0aGlzLmxhc3RTdXBlcmJveFByZWZpeC52YWx1ZS50b1N0cmluZygpLAogICAgLy8gfQogICAgZGlnIDcKICAgIGRpZyA3CiAgICBjb25jYXQKICAgIGRpZyA2CiAgICBjb25jYXQKICAgIGRpZyA1CiAgICBjb25jYXQKICAgIGRpZyA0CiAgICBpdG9iCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBkaWcgMQogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIHB1c2hieXRlcyAweDAwMWUKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBkaWcgMQogICAgZHVwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NzIKICAgIC8vIHNiQ3JlYXRlKHRoaXMuZ2V0Q29tbWl0dGVlU0JOYW1lKGNvbW1pdHRlZUlkKSwgMjA0OCwgWEdPVl9TVE9SRURfU0laRSwgJ1t1aW50MzIsdWludDMyXScpCiAgICBkaWcgNgogICAgY2FsbHN1YiBnZXRDb21taXR0ZWVTQk5hbWUKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjQ1CiAgICAvLyByZXR1cm4gbWV0YUJveE1hcChuYW1lICsgJ19tJykKICAgIGJ5dGVjXzEgLy8gIl9tIgogICAgY29uY2F0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMgogICAgLy8gYXNzZXJ0KCFtZXRhQm94LmV4aXN0cywgJ0VSUjpTQkVYSVNUUycpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgIQogICAgYXNzZXJ0IC8vIEVSUjpTQkVYSVNUUwogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjMKICAgIC8vIG1ldGFCb3gudmFsdWUgPSBjbG9uZShtZXRhKQogICAgZHVwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjE0LTIwCiAgICAvLyBjb25zdCBtZXRhID0gbmV3IFN1cGVyYm94TWV0YSh7CiAgICAvLyAgIHRvdGFsQnl0ZUxlbmd0aDogYXU2NCgwKSwKICAgIC8vICAgbWF4Qm94U2l6ZTogYXU2NChtYXhCb3hTaXplKSwKICAgIC8vICAgYm94Qnl0ZUxlbmd0aHM6IG5ldyBEeW5hbWljQXJyYXk8VWludDE2PigpLAogICAgLy8gICB2YWx1ZVNpemU6IGF1NjQodmFsdWVTaXplKSwKICAgIC8vICAgdmFsdWVTY2hlbWE6IG5ldyBTdHIodmFsdWVTY2hlbWEpLAogICAgLy8gfSkKICAgIHB1c2hieXRlcyAweDAwMWMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgwMDAwMDAwMDAwMDAwMDAwMDgwMDFlMDAwMDAwMGY1Yjc1Njk2ZTc0MzMzMjJjNzU2OTZlNzQzMzMyNWQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjIzCiAgICAvLyBtZXRhQm94LnZhbHVlID0gY2xvbmUobWV0YSkKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6NzMKICAgIC8vIHRoaXMubGFzdFN1cGVyYm94UHJlZml4LnZhbHVlID0gdGhpcy5sYXN0U3VwZXJib3hQcmVmaXgudmFsdWUgKyAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo0MAogICAgLy8gbGFzdFN1cGVyYm94UHJlZml4ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMyAvLyAibGFzdFN1cGVyYm94UHJlZml4IgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo3MwogICAgLy8gdGhpcy5sYXN0U3VwZXJib3hQcmVmaXgudmFsdWUgPSB0aGlzLmxhc3RTdXBlcmJveFByZWZpeC52YWx1ZSArIDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo0MAogICAgLy8gbGFzdFN1cGVyYm94UHJlZml4ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMyAvLyAibGFzdFN1cGVyYm94UHJlZml4IgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo3MwogICAgLy8gdGhpcy5sYXN0U3VwZXJib3hQcmVmaXgudmFsdWUgPSB0aGlzLmxhc3RTdXBlcmJveFByZWZpeC52YWx1ZSArIDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjUwLTU3CiAgICAvLyBwdWJsaWMgcmVnaXN0ZXJDb21taXR0ZWUoCiAgICAvLyAgIGNvbW1pdHRlZUlkOiBTdGF0aWNCeXRlczwzMj4sCiAgICAvLyAgIHBlcmlvZFN0YXJ0OiBVaW50MzIsCiAgICAvLyAgIHBlcmlvZEVuZDogVWludDMyLAogICAgLy8gICB0b3RhbE1lbWJlcnM6IFVpbnQzMiwKICAgIC8vICAgdG90YWxWb3RlczogVWludDMyLAogICAgLy8gICB4R292UmVnaXN0cnlJZDogdWludDY0LAogICAgLy8gKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLnVucmVnaXN0ZXJDb21taXR0ZWVbcm91dGluZ10oKSAtPiB2b2lkOgp1bnJlZ2lzdGVyQ29tbWl0dGVlOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4MAogICAgLy8gcHVibGljIHVucmVnaXN0ZXJDb21taXR0ZWUoY29tbWl0dGVlSWQ6IFN0YXRpY0J5dGVzPDMyPik6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwbiAyCiAgICBsZW4KICAgIGludGNfMyAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjgxCiAgICAvLyB0aGlzLmVuc3VyZUNhbGxlcklzQWRtaW4oKQogICAgY2FsbHN1YiBlbnN1cmVDYWxsZXJJc0FkbWluCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjM5CiAgICAvLyBjb21taXR0ZWVzID0gQm94TWFwPFN0YXRpY0J5dGVzPDMyPiwgQ29tbWl0dGVlTWV0YWRhdGE+KHsga2V5UHJlZml4OiAnYycgfSkKICAgIGJ5dGVjXzAgLy8gImMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4NAogICAgLy8gZW5zdXJlKGNvbW1pdHRlZUJveC5leGlzdHMsIGVyckNvbW1pdHRlZU5vdEV4aXN0cykKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJueiB1bnJlZ2lzdGVyQ29tbWl0dGVlX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4NAogICAgLy8gZW5zdXJlKGNvbW1pdHRlZUJveC5leGlzdHMsIGVyckNvbW1pdHRlZU5vdEV4aXN0cykKICAgIGJ5dGVjIDcgLy8gIkVSUjpDX05YIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCnVucmVnaXN0ZXJDb21taXR0ZWVfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4NQogICAgLy8gZW5zdXJlKGNvbW1pdHRlZUJveC52YWx1ZS5pbmdlc3RlZFZvdGVzID09PSB1MzIoMCksIGVyckluZ2VzdGVkVm90ZXNOb3RaZXJvKQogICAgZHVwCiAgICBwdXNoaW50cyAyNCA0IC8vIDI0LCA0CiAgICBib3hfZXh0cmFjdAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgdTMyCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJueiB1bnJlZ2lzdGVyQ29tbWl0dGVlX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo4NQogICAgLy8gZW5zdXJlKGNvbW1pdHRlZUJveC52YWx1ZS5pbmdlc3RlZFZvdGVzID09PSB1MzIoMCksIGVyckluZ2VzdGVkVm90ZXNOb3RaZXJvKQogICAgcHVzaGJ5dGVzICJFUlI6SVZfTloiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKdW5yZWdpc3RlckNvbW1pdHRlZV9hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjg2CiAgICAvLyBjb21taXR0ZWVCb3guZGVsZXRlKCkKICAgIGR1cAogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjg3CiAgICAvLyBzYkRlbGV0ZVN1cGVyYm94KHRoaXMuZ2V0Q29tbWl0dGVlU0JOYW1lKGNvbW1pdHRlZUlkKSkKICAgIGRpZyAxCiAgICBjYWxsc3ViIGdldENvbW1pdHRlZVNCTmFtZQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6NDUKICAgIC8vIHJldHVybiBtZXRhQm94TWFwKG5hbWUgKyAnX20nKQogICAgYnl0ZWNfMSAvLyAiX20iCiAgICBjb25jYXQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjE5MgogICAgLy8gYXNzZXJ0KG1ldGFCb3guZXhpc3RzLCAnRVJSOk5FWElTVCcpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEVSUjpORVhJU1QKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjE5MwogICAgLy8gYXNzZXJ0KG1ldGFCb3gudmFsdWUudG90YWxCeXRlTGVuZ3RoLmFzVWludDY0KCkgPT09IDAsICdFUlI6TkVNUFRZJykKICAgIGR1cAogICAgaW50Y18yIC8vIDIKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBib3hfZXh0cmFjdAogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIEVSUjpORU1QVFkKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjE5NQogICAgLy8gbWV0YUJveC5kZWxldGUoKQogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjgwCiAgICAvLyBwdWJsaWMgdW5yZWdpc3RlckNvbW1pdHRlZShjb21taXR0ZWVJZDogU3RhdGljQnl0ZXM8MzI+KTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLmluZ2VzdFhHb3ZzW3JvdXRpbmddKCkgLT4gdm9pZDoKaW5nZXN0WEdvdnM6CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiAxMQogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiAxMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo5NQogICAgLy8gcHVibGljIGluZ2VzdFhHb3ZzKGNvbW1pdHRlZUlkOiBTdGF0aWNCeXRlczwzMj4sIHhHb3ZzOiBYR292SW5wdXRbXSk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwbiAyCiAgICBsZW4KICAgIGludGNfMyAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGR1cAogICAgY292ZXIgMwogICAgZHVwCiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICAqCiAgICBpbnRjXzIgLy8gMgogICAgKwogICAgdW5jb3ZlciAyCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxzbWFydF9jb250cmFjdHMvb3JhY2xlL3R5cGVzLmFsZ28udHM6OlhHb3ZJbnB1dD4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OTYKICAgIC8vIHRoaXMuZW5zdXJlQ2FsbGVySXNBZG1pbigpCiAgICBjYWxsc3ViIGVuc3VyZUNhbGxlcklzQWRtaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OTgKICAgIC8vIGNvbnN0IGNvbW1pdHRlZSA9IHRoaXMubXVzdEdldENvbW1pdHRlZShjb21taXR0ZWVJZCkKICAgIGRpZyAxCiAgICBjYWxsc3ViIG11c3RHZXRDb21taXR0ZWUKICAgIGR1cAogICAgY292ZXIgMgogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo5OQogICAgLy8gY29uc3Qgc3VwZXJib3hOYW1lID0gdGhpcy5nZXRDb21taXR0ZWVTQk5hbWUoY29tbWl0dGVlSWQpCiAgICB1bmNvdmVyIDIKICAgIGNhbGxzdWIgZ2V0Q29tbWl0dGVlU0JOYW1lCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjQ1CiAgICAvLyByZXR1cm4gbWV0YUJveE1hcChuYW1lICsgJ19tJykKICAgIGJ5dGVjXzEgLy8gIl9tIgogICAgY29uY2F0CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MzUKICAgIC8vIHJldHVybiBzYk1ldGEudmFsdWUudG90YWxCeXRlTGVuZ3RoLmFzVWludDY0KCkgLyBYR09WX1NUT1JFRF9TSVpFCiAgICBpbnRjXzIgLy8gMgogICAgcHVzaGludCA4IC8vIDgKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICBwdXNoaW50IDggLy8gOAogICAgLwogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEwNAogICAgLy8gZW5zdXJlKGluZ2VzdGVkQWNjb3VudHMgKyB4R292cy5sZW5ndGggPD0gY29tbWl0dGVlLnRvdGFsTWVtYmVycy5hc1VpbnQ2NCgpLCBlcnJUb3RhbFhHb3ZzRXhjZWVkZWQpCiAgICArCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3RfdWludDMyCiAgICA8PQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJueiBpbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEwNAogICAgLy8gZW5zdXJlKGluZ2VzdGVkQWNjb3VudHMgKyB4R292cy5sZW5ndGggPD0gY29tbWl0dGVlLnRvdGFsTWVtYmVycy5hc1VpbnQ2NCgpLCBlcnJUb3RhbFhHb3ZzRXhjZWVkZWQpCiAgICBwdXNoYnl0ZXMgIkVSUjpUWF9YQyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTAKICAgIC8vIGxvZyhjb2RlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjExCiAgICAvLyBlcnIoKQogICAgZXJyCgppbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDY0OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMDYKICAgIC8vIGxldCBsYXN0QWNjb3VudElkID0gdTMyKDApCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiB1MzIKICAgIGJ1cnkgMjgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTA3CiAgICAvLyBpZiAoaW5nZXN0ZWRBY2NvdW50cyA+IDApIHsKICAgIGRpZyAxCiAgICBieiBpbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTA4CiAgICAvLyBjb25zdCBsYXN0WEdvdiA9IHRoaXMuZ2V0U3RvcmVkWEdvdkF0KHN1cGVyYm94TmFtZSwgaW5nZXN0ZWRBY2NvdW50cyAtIDEpCiAgICBkaWcgMQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGRpZyA0CiAgICBzd2FwCiAgICBjYWxsc3ViIGdldFN0b3JlZFhHb3ZBdAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMDkKICAgIC8vIGxhc3RBY2NvdW50SWQgPSBsYXN0WEdvdi5hY2NvdW50SWQKICAgIGV4dHJhY3QgMCA0CiAgICBidXJ5IDI4Cgppbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjExMgogICAgLy8gbGV0IGluZ2VzdGVkVm90ZXMgPSBjb21taXR0ZWUuaW5nZXN0ZWRWb3Rlcy5hc1VpbnQ2NCgpCiAgICBkaWcgNAogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50MzIKICAgIGJ1cnkgMTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTEzCiAgICAvLyBsZXQgd3JpdGVCdWZmZXIgPSBCeXRlc2BgCiAgICBieXRlY18yIC8vICIiCiAgICBidXJ5IDI0CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxNAoKaW5nZXN0WEdvdnNfZm9yX2hlYWRlckA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMTQKICAgIC8vIGZvciAoY29uc3QgeEdvdiBvZiBjbG9uZSh4R292cykpIHsKICAgIGRpZyAxMwogICAgZGlnIDYKICAgIDwKICAgIGJ6IGluZ2VzdFhHb3ZzX2FmdGVyX2ZvckA3CiAgICBkaWcgNgogICAgZXh0cmFjdCAyIDAKICAgIGRpZyAxNAogICAgcHVzaGludCA0MCAvLyA0MAogICAgKgogICAgcHVzaGludCA0MCAvLyA0MAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGJ1cnkgMjYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjQyCiAgICAvLyBsZXQgYWNjb3VudElkID0gdGhpcy5nZXRBY2NvdW50SWRJZkV4aXN0cyh4R292LmFjY291bnQpCiAgICBleHRyYWN0IDQgMzIKICAgIGR1cAogICAgYnVyeSAzNQogICAgY2FsbHN1YiBnZXRBY2NvdW50SWRJZkV4aXN0cwogICAgZHVwCiAgICBidXJ5IDM0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI0MwogICAgLy8gaWYgKGFjY291bnRJZC5hc1VpbnQ2NCgpID09PSAwKSB7CiAgICBidG9pCiAgICBibnogaW5nZXN0WEdvdnNfZWxzZV9ib2R5QDM0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MTAKICAgIC8vIGFjY291bnRJZHMgPSBCb3hNYXA8QWNjb3VudCwgVWludDMyPih7IGtleVByZWZpeDogJ2EnIH0pCiAgICBwdXNoYnl0ZXMgImEiCiAgICBkaWcgMzQKICAgIGNvbmNhdAogICAgZHVwCiAgICBidXJ5IDMzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MjAKICAgIC8vIGVuc3VyZSghYm94LmV4aXN0cywgZXJyQWNjb3VudEV4aXN0cykKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJ6IGluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VANTgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czoyMAogICAgLy8gZW5zdXJlKCFib3guZXhpc3RzLCBlcnJBY2NvdW50RXhpc3RzKQogICAgcHVzaGJ5dGVzICJFUlI6QV9FWCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTAKICAgIC8vIGxvZyhjb2RlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjExCiAgICAvLyBlcnIoKQogICAgZXJyCgppbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDU4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjIxCiAgICAvLyB0aGlzLmxhc3RBY2NvdW50SWQudmFsdWUrKwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czo5CiAgICAvLyBsYXN0QWNjb3VudElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWMgNiAvLyAibGFzdEFjY291bnRJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czoyMQogICAgLy8gdGhpcy5sYXN0QWNjb3VudElkLnZhbHVlKysKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjkKICAgIC8vIGxhc3RBY2NvdW50SWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlYyA2IC8vICJsYXN0QWNjb3VudElkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjIxCiAgICAvLyB0aGlzLmxhc3RBY2NvdW50SWQudmFsdWUrKwogICAgZGlnIDEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MjIKICAgIC8vIGNvbnN0IGFjY291bnRJZCA9IHUzMih0aGlzLmxhc3RBY2NvdW50SWQudmFsdWUpCiAgICBjYWxsc3ViIHUzMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjIzCiAgICAvLyBib3gudmFsdWUgPSBhY2NvdW50SWQKICAgIGRpZyAzMgogICAgZGlnIDEKICAgIGJveF9wdXQKCmluZ2VzdFhHb3ZzX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLmdldE9yQ3JlYXRlQWNjb3VudElkQDM1OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMTYKICAgIC8vIHhHb3YuYWNjb3VudElkID0gdGhpcy5nZXRPckNyZWF0ZUFjY291bnRJZCh4R292KQogICAgZGlnIDI1CiAgICBzd2FwCiAgICByZXBsYWNlMiAwCiAgICBkdXAKICAgIGJ1cnkgMjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTE4CiAgICAvLyBlbnN1cmUoeEdvdi5hY2NvdW50SWQuYXNVaW50NjQoKSA+IGxhc3RBY2NvdW50SWQuYXNVaW50NjQoKSwgZXJyT3V0T2ZPcmRlcikKICAgIGR1cAogICAgZXh0cmFjdCAwIDQKICAgIGJ1cnkgMjgKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQzMgogICAgZGlnIDI4CiAgICBidG9pCiAgICA+CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IGluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VANTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTE4CiAgICAvLyBlbnN1cmUoeEdvdi5hY2NvdW50SWQuYXNVaW50NjQoKSA+IGxhc3RBY2NvdW50SWQuYXNVaW50NjQoKSwgZXJyT3V0T2ZPcmRlcikKICAgIHB1c2hieXRlcyAiRVJSOk9PTyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTAKICAgIC8vIGxvZyhjb2RlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjExCiAgICAvLyBlcnIoKQogICAgZXJyCgppbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDUwOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMjIKICAgIC8vIHZvdGVzOiB4R292LnZvdGVzLAogICAgZGlnIDIyCiAgICBkdXAKICAgIGV4dHJhY3QgMzYgNAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMjAtMTIzCiAgICAvLyBjb25zdCB4R292U3RvcmVkOiBYR292U3RvcmVkID0gewogICAgLy8gICBhY2NvdW50SWQ6IHhHb3YuYWNjb3VudElkLAogICAgLy8gICB2b3RlczogeEdvdi52b3RlcywKICAgIC8vIH0KICAgIGRpZyAyOAogICAgZHVwCiAgICBjb3ZlciAzCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTI1CiAgICAvLyB3cml0ZUJ1ZmZlciA9IHdyaXRlQnVmZmVyLmNvbmNhdChlbmNvZGVBcmM0KHhHb3ZTdG9yZWQpKQogICAgZGlnIDI2CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ1cnkgMjYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTIyCiAgICAvLyB2b3RlczogeEdvdi52b3RlcywKICAgIHB1c2hpbnQgMzYgLy8gMzYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTI3CiAgICAvLyBpbmdlc3RlZFZvdGVzICs9IHhHb3Yudm90ZXMuYXNVaW50NjQoKQogICAgZXh0cmFjdF91aW50MzIKICAgIGRpZyAxNgogICAgKwogICAgYnVyeSAxNgogICAgZGlnIDE0CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxNQogICAgYnVyeSAyOAogICAgYiBpbmdlc3RYR292c19mb3JfaGVhZGVyQDQKCmluZ2VzdFhHb3ZzX2Vsc2VfYm9keUAzNDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjQ2CiAgICAvLyBlbnN1cmVFeHRyYShhY2NvdW50SWQgPT09IHhHb3YuYWNjb3VudElkLCBlcnJBY2NvdW50SWRNaXNtYXRjaCwgeEdvdi5hY2NvdW50SWQuYnl0ZXMpCiAgICBkaWcgMjQKICAgIGV4dHJhY3QgMCA0CiAgICBkdXAKICAgIGJ1cnkgMzAKICAgIGRpZyAzMwogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTYKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IGluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VANTQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTcKICAgIC8vIGxvZyhleHRyYSkKICAgIGRpZyAyOAogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI0NgogICAgLy8gZW5zdXJlRXh0cmEoYWNjb3VudElkID09PSB4R292LmFjY291bnRJZCwgZXJyQWNjb3VudElkTWlzbWF0Y2gsIHhHb3YuYWNjb3VudElkLmJ5dGVzKQogICAgcHVzaGJ5dGVzICJFUlI6SUQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjE4CiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxOQogICAgLy8gZXJyKCkKICAgIGVycgoKaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA1NDoKICAgIGRpZyAzMgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMTYKICAgIC8vIHhHb3YuYWNjb3VudElkID0gdGhpcy5nZXRPckNyZWF0ZUFjY291bnRJZCh4R292KQogICAgYiBpbmdlc3RYR292c19hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OkNvbW1pdHRlZU9yYWNsZS5nZXRPckNyZWF0ZUFjY291bnRJZEAzNQoKaW5nZXN0WEdvdnNfYWZ0ZXJfZm9yQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEzMQogICAgLy8gZW5zdXJlKGluZ2VzdGVkVm90ZXMgPD0gY29tbWl0dGVlLnRvdGFsVm90ZXMuYXNVaW50NjQoKSwgZXJyVG90YWxWb3Rlc0V4Y2VlZGVkKQogICAgZGlnIDQKICAgIHB1c2hpbnQgMTIgLy8gMTIKICAgIGV4dHJhY3RfdWludDMyCiAgICBkaWcgMTUKICAgID49CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IGluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VANDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTMxCiAgICAvLyBlbnN1cmUoaW5nZXN0ZWRWb3RlcyA8PSBjb21taXR0ZWUudG90YWxWb3Rlcy5hc1VpbnQ2NCgpLCBlcnJUb3RhbFZvdGVzRXhjZWVkZWQpCiAgICBwdXNoYnl0ZXMgIkVSUjpUVl9YQyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTAKICAgIC8vIGxvZyhjb2RlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjExCiAgICAvLyBlcnIoKQogICAgZXJyCgppbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDQ2OgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MzMKICAgIC8vIGNvbnN0IG1ldGEgPSBzYk1ldGFCb3hWYWx1ZShuYW1lKQogICAgZGlnIDMKICAgIGNhbGxzdWIgc2JNZXRhQm94VmFsdWUKICAgIGR1cAogICAgYnVyeSAyNwogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MzQKICAgIC8vIGNvbnN0IG1heEJveFNpemUgPSBtZXRhLm1heEJveFNpemUuYXNVaW50NjQoKQogICAgZHVwCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgYnVyeSAxNAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MzUKICAgIC8vIGNvbnN0IHZhbHVlU2l6ZSA9IG1ldGEudmFsdWVTaXplLmFzVWludDY0KCkKICAgIGR1cAogICAgcHVzaGludCAxOCAvLyAxOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxMQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MzgKICAgIC8vIGFzc2VydChkYXRhLmxlbmd0aCAlIHZhbHVlU2l6ZSA9PT0gMCwgJ0VSUjpEQVRBTEVOJykKICAgIGRpZyAyNQogICAgbGVuCiAgICBkdXAKICAgIGJ1cnkgMTMKICAgIHN3YXAKICAgICUKICAgICEKICAgIGFzc2VydCAvLyBFUlI6REFUQUxFTgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NDAKICAgIC8vIGxldCBjdXJyZW50Qm94TnVtOiB1aW50NjQgPSBtZXRhLmJveEJ5dGVMZW5ndGhzLmxlbmd0aCA9PT0gMCA/IDAgOiBtZXRhLmJveEJ5dGVMZW5ndGhzLmxlbmd0aCAtIDEKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBkaWcgMQogICAgcHVzaGludCAyNiAvLyAyNgogICAgZXh0cmFjdF91aW50MTYKICAgIHN1YnN0cmluZzMKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBkdXAKICAgIGJ1cnkgMjMKICAgIGJueiBpbmdlc3RYR292c190ZXJuYXJ5X2ZhbHNlQDEyCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxNwoKaW5nZXN0WEdvdnNfdGVybmFyeV9tZXJnZUAxMzoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjQyCiAgICAvLyBsZXQgZGF0YVdyaXR0ZW46IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDE2Cgppbmdlc3RYR292c193aGlsZV90b3BAMTQ6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo0NAogICAgLy8gd2hpbGUgKGRhdGFXcml0dGVuIDwgZGF0YS5sZW5ndGgpIHsKICAgIGRpZyAxNQogICAgZGlnIDEwCiAgICA8CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo0NC01OAogICAgLy8gd2hpbGUgKGRhdGFXcml0dGVuIDwgZGF0YS5sZW5ndGgpIHsKICAgIC8vICAgY29uc3QgZGF0YUJveCA9IHNiRGF0YUJveFJlZihuYW1lLCBjdXJyZW50Qm94TnVtKQogICAgLy8gICBjb25zdCBjaHVua1dyaXR0ZW4gPSBhcHBlbmRCb3goZGF0YUJveCwgZGF0YS5zbGljZShkYXRhV3JpdHRlbiwgZGF0YVdyaXR0ZW4gKyBtYXhCb3hTaXplKSwgbWF4Qm94U2l6ZSwgdmFsdWVTaXplKQogICAgLy8gCiAgICAvLyAgIGlmIChtZXRhLmJveEJ5dGVMZW5ndGhzLmxlbmd0aCA9PT0gY3VycmVudEJveE51bSkgewogICAgLy8gICAgIC8vIG5ldyBib3gKICAgIC8vICAgICBtZXRhLmJveEJ5dGVMZW5ndGhzLnB1c2goYXUxNihjaHVua1dyaXR0ZW4pKQogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIC8vIGV4aXN0aW5nIGJveAogICAgLy8gICAgIG1ldGEuYm94Qnl0ZUxlbmd0aHNbY3VycmVudEJveE51bV0gPSBhdTE2KG1ldGEuYm94Qnl0ZUxlbmd0aHNbY3VycmVudEJveE51bV0uYXNVaW50NjQoKSArIGNodW5rV3JpdHRlbikKICAgIC8vICAgfQogICAgLy8gCiAgICAvLyAgIGRhdGFXcml0dGVuICs9IGNodW5rV3JpdHRlbgogICAgLy8gICBjdXJyZW50Qm94TnVtKysKICAgIC8vIH0KICAgIGJ6IGluZ2VzdFhHb3ZzX2FmdGVyX3doaWxlQDMwCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdXRpbHMuYWxnby50czoyNQogICAgLy8gcmV0dXJuIEJ5dGVzKG5hbWUpLmNvbmNhdChCeXRlcyhpdG9hKG51bSkpKQogICAgZGlnIDE2CiAgICBjYWxsc3ViIEBkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6Oml0b2EKICAgIGRpZyA0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgYnVyeSAzMQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NDYKICAgIC8vIGNvbnN0IGNodW5rV3JpdHRlbiA9IGFwcGVuZEJveChkYXRhQm94LCBkYXRhLnNsaWNlKGRhdGFXcml0dGVuLCBkYXRhV3JpdHRlbiArIG1heEJveFNpemUpLCBtYXhCb3hTaXplLCB2YWx1ZVNpemUpCiAgICBkaWcgMTYKICAgIGR1cAogICAgZGlnIDEyCiAgICBkdXAKICAgIGNvdmVyIDMKICAgID49CiAgICBkaWcgMQogICAgZGlnIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBzd2FwCiAgICBkaWcgMTYKICAgICsKICAgIGR1cAogICAgZGlnIDMKICAgID49CiAgICBzd2FwCiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBkaWcgMgogICAgc3dhcAogICAgc2VsZWN0CiAgICBkaWcgMjYKICAgIGNvdmVyIDIKICAgIHN1YnN0cmluZzMKICAgIGJ1cnkgMzIKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjc3CiAgICAvLyBpZiAoYm94LmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBpbmdlc3RYR292c19lbHNlX2JvZHlAMjMKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjc5CiAgICAvLyBsZXQgY2FwYWNpdHk6IHVpbnQ2NCA9IG1heEJveFNpemUgLSBib3gubGVuZ3RoCiAgICBkaWcgMjkKICAgIGJveF9sZW4KICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkaWcgMTMKICAgIHN3YXAKICAgIC0KICAgIGR1cAogICAgYnVyeSAyMAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6ODEKICAgIC8vIGlmIChjYXBhY2l0eSA8IHZhbHVlU2l6ZSkgcmV0dXJuIDAKICAgIGRpZyA5CiAgICA8CiAgICBieiBpbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDE4CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxOAoKaW5nZXN0WEdvdnNfYWZ0ZXJfaW5saW5lZF9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjphcHBlbmRCb3hAMjY6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo0OAogICAgLy8gaWYgKG1ldGEuYm94Qnl0ZUxlbmd0aHMubGVuZ3RoID09PSBjdXJyZW50Qm94TnVtKSB7CiAgICBkaWcgMjUKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgMjIKICAgIGR1cAogICAgcHVzaGludCAyNiAvLyAyNgogICAgZXh0cmFjdF91aW50MTYKICAgIGR1cAogICAgY292ZXIgMwogICAgc3dhcAogICAgY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgZHVwCiAgICBidXJ5IDI0CiAgICBkaWcgMTkKICAgID09CiAgICBieiBpbmdlc3RYR292c19lbHNlX2JvZHlAMjgKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjUwCiAgICAvLyBtZXRhLmJveEJ5dGVMZW5ndGhzLnB1c2goYXUxNihjaHVua1dyaXR0ZW4pKQogICAgZGlnIDE5CiAgICBjYWxsc3ViIGF1MTYKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgY29uY2F0IC8vIG9uIGVycm9yOiBtYXggYXJyYXkgbGVuZ3RoIGV4Y2VlZGVkCiAgICBkaWcgMjIKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMAogICAgZGlnIDI3CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMCAvLyAwCiAgICBkaWcgMjQKICAgIGR1cAogICAgY292ZXIgNQogICAgZXh0cmFjdDMKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIGRpZyAyCiAgICBsZW4KICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciA1CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyAxCiAgICB1bmNvdmVyIDQKICAgIC0KICAgIHVuY292ZXIgMwogICAgbGVuCiAgICB1bmNvdmVyIDMKICAgICsKICAgIHN3YXAKICAgIC0KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICByZXBsYWNlMiAyNgogICAgYnVyeSAyNgoKaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUAyOToKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjU2CiAgICAvLyBkYXRhV3JpdHRlbiArPSBjaHVua1dyaXR0ZW4KICAgIGRpZyAxNQogICAgZGlnIDE4CiAgICArCiAgICBidXJ5IDE2CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo1NwogICAgLy8gY3VycmVudEJveE51bSsrCiAgICBkaWcgMTYKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDE3CiAgICBiIGluZ2VzdFhHb3ZzX3doaWxlX3RvcEAxNAoKaW5nZXN0WEdvdnNfZWxzZV9ib2R5QDI4OgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NTMKICAgIC8vIG1ldGEuYm94Qnl0ZUxlbmd0aHNbY3VycmVudEJveE51bV0gPSBhdTE2KG1ldGEuYm94Qnl0ZUxlbmd0aHNbY3VycmVudEJveE51bV0uYXNVaW50NjQoKSArIGNodW5rV3JpdHRlbikKICAgIHN3YXAKICAgIGR1cAogICAgZXh0cmFjdCAyIDAKICAgIGRpZyAxOQogICAgaW50Y18yIC8vIDIKICAgICoKICAgIHN3YXAKICAgIGRpZyAxCiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDIxCiAgICArCiAgICBjYWxsc3ViIGF1MTYKICAgIHN3YXAKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBzd2FwCiAgICByZXBsYWNlMyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGRpZyAyNwogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDI0CiAgICBkdXAKICAgIGNvdmVyIDUKICAgIGV4dHJhY3QzCiAgICBkaWcgMQogICAgY29uY2F0CiAgICBkaWcgMgogICAgbGVuCiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgNQogICAgZHVwCiAgICBjb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHN1YnN0cmluZzMKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgY29uY2F0CiAgICBkaWcgMQogICAgdW5jb3ZlciA0CiAgICAtCiAgICB1bmNvdmVyIDMKICAgIGxlbgogICAgdW5jb3ZlciAzCiAgICArCiAgICBzd2FwCiAgICAtCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMjYKICAgIGJ1cnkgMjYKICAgIGIgaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUAyOQoKaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUAxODoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjgzCiAgICAvLyBpZiAoY2FwYWNpdHkgJSB2YWx1ZVNpemUgIT09IDApIHsKICAgIGRpZyAxOAogICAgZGlnIDkKICAgICUKICAgIGR1cAogICAgYnVyeSAxMgogICAgYnogaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUAyMAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6ODQKICAgIC8vIGNhcGFjaXR5IC09IGNhcGFjaXR5ICUgdmFsdWVTaXplCiAgICBkaWcgMTgKICAgIGRpZyAxMQogICAgLQogICAgYnVyeSAxOQoKaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUAyMDoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjg2CiAgICAvLyBpZiAoZGF0YS5sZW5ndGggPiBjYXBhY2l0eSkgewogICAgZGlnIDMwCiAgICBsZW4KICAgIGR1cAogICAgZGlnIDIwCiAgICA+CiAgICBieiBpbmdlc3RYR292c19lbHNlX2JvZHlAMjIKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjg4CiAgICAvLyBjb25zdCBvcmlnaW5hbEJveExlbmd0aCA9IGJveC5sZW5ndGgKICAgIGRpZyAzMAogICAgZHVwCiAgICBib3hfbGVuCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6ODkKICAgIC8vIGJveC5yZXNpemUoYm94Lmxlbmd0aCArIGNhcGFjaXR5KQogICAgZHVwCiAgICBkaWcgMjIKICAgIGR1cAogICAgY292ZXIgMwogICAgKwogICAgZGlnIDMKICAgIHN3YXAKICAgIGJveF9yZXNpemUKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjkwCiAgICAvLyBib3gucmVwbGFjZShvcmlnaW5hbEJveExlbmd0aCwgZGF0YS5zbGljZSgwLCBjYXBhY2l0eSkpCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciA0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgID49CiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDIKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBkaWcgMwogICAgZGlnIDIKICAgID49CiAgICBkaWcgNAogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgZGlnIDM1CiAgICBjb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICB1bmNvdmVyIDMKICAgIGNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICBidXJ5IDE4CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo0NgogICAgLy8gY29uc3QgY2h1bmtXcml0dGVuID0gYXBwZW5kQm94KGRhdGFCb3gsIGRhdGEuc2xpY2UoZGF0YVdyaXR0ZW4sIGRhdGFXcml0dGVuICsgbWF4Qm94U2l6ZSksIG1heEJveFNpemUsIHZhbHVlU2l6ZSkKICAgIGIgaW5nZXN0WEdvdnNfYWZ0ZXJfaW5saW5lZF9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjphcHBlbmRCb3hAMjYKCmluZ2VzdFhHb3ZzX2Vsc2VfYm9keUAyMjoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBvcmlnaW5hbEJveExlbmd0aCA9IGJveC5sZW5ndGgKICAgIGRpZyAzMAogICAgZHVwCiAgICBib3hfbGVuCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6OTUKICAgIC8vIGJveC5yZXNpemUoYm94Lmxlbmd0aCArIGRhdGEubGVuZ3RoKQogICAgZHVwCiAgICBkaWcgMwogICAgKwogICAgZGlnIDIKICAgIHN3YXAKICAgIGJveF9yZXNpemUKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjk2CiAgICAvLyBib3gucmVwbGFjZShvcmlnaW5hbEJveExlbmd0aCwgZGF0YSkKICAgIGRpZyAzMwogICAgYm94X3JlcGxhY2UKICAgIGJ1cnkgMTgKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjQ2CiAgICAvLyBjb25zdCBjaHVua1dyaXR0ZW4gPSBhcHBlbmRCb3goZGF0YUJveCwgZGF0YS5zbGljZShkYXRhV3JpdHRlbiwgZGF0YVdyaXR0ZW4gKyBtYXhCb3hTaXplKSwgbWF4Qm94U2l6ZSwgdmFsdWVTaXplKQogICAgYiBpbmdlc3RYR292c19hZnRlcl9pbmxpbmVkX0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6OmFwcGVuZEJveEAyNgoKaW5nZXN0WEdvdnNfZWxzZV9ib2R5QDIzOgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTAzCiAgICAvLyBpZiAoY2FwYWNpdHkgJSB2YWx1ZVNpemUgIT09IDApIHsKICAgIGRpZyAxMgogICAgZGlnIDkKICAgICUKICAgIGR1cAogICAgYnVyeSAxMwogICAgYm56IGluZ2VzdFhHb3ZzX2lmX2JvZHlAMjQKICAgIGRpZyAxMgoKaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUAyNToKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjEwNgogICAgLy8gY29uc3QgZGF0YVRvV3JpdGUgPSBkYXRhLnNsaWNlKDAsIGNhcGFjaXR5KQogICAgZGlnIDMxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18wIC8vIDAKICAgIGRpZyAxCiAgICA+PQogICAgaW50Y18wIC8vIDAKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgdW5jb3ZlciAzCiAgICBkdXAKICAgIGRpZyAzCiAgICA+PQogICAgc3dhcAogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgc3Vic3RyaW5nMwogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTA3CiAgICAvLyBib3gudmFsdWUgPSBkYXRhVG9Xcml0ZQogICAgZGlnIDMwCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgZGlnIDEKICAgIGJveF9wdXQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjEwOAogICAgLy8gcmV0dXJuIGRhdGFUb1dyaXRlLmxlbmd0aAogICAgbGVuCiAgICBidXJ5IDE4CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo0NgogICAgLy8gY29uc3QgY2h1bmtXcml0dGVuID0gYXBwZW5kQm94KGRhdGFCb3gsIGRhdGEuc2xpY2UoZGF0YVdyaXR0ZW4sIGRhdGFXcml0dGVuICsgbWF4Qm94U2l6ZSksIG1heEJveFNpemUsIHZhbHVlU2l6ZSkKICAgIGIgaW5nZXN0WEdvdnNfYWZ0ZXJfaW5saW5lZF9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjphcHBlbmRCb3hAMjYKCmluZ2VzdFhHb3ZzX2lmX2JvZHlAMjQ6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxMDQKICAgIC8vIGNhcGFjaXR5IC09IGNhcGFjaXR5ICUgdmFsdWVTaXplCiAgICBkaWcgMTIKICAgIGRpZyAxMgogICAgLQogICAgYiBpbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDI1Cgppbmdlc3RYR292c19hZnRlcl93aGlsZUAzMDoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjU5CiAgICAvLyBtZXRhLnRvdGFsQnl0ZUxlbmd0aCA9IGF1NjQobWV0YS50b3RhbEJ5dGVMZW5ndGguYXNVaW50NjQoKSArIGRhdGFXcml0dGVuKQogICAgZGlnIDI1CiAgICBkdXAKICAgIGludGNfMiAvLyAyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDE3CiAgICArCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdHlwZXMuYWxnby50czozNQogICAgLy8gcmV0dXJuIG5ldyBVaW50NjQobnVtKQogICAgaXRvYgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6NTkKICAgIC8vIG1ldGEudG90YWxCeXRlTGVuZ3RoID0gYXU2NChtZXRhLnRvdGFsQnl0ZUxlbmd0aC5hc1VpbnQ2NCgpICsgZGF0YVdyaXR0ZW4pCiAgICByZXBsYWNlMiAyCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo2MgogICAgLy8gbWV0YUJveC5kZWxldGUoKQogICAgZGlnIDMKICAgIGR1cAogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo2MwogICAgLy8gbWV0YUJveC52YWx1ZSA9IGNsb25lKG1ldGEpCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgZGlnIDEKICAgIGJveF9wdXQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjY1CiAgICAvLyByZXR1cm4gbWV0YS50b3RhbEJ5dGVMZW5ndGguYXNVaW50NjQoKQogICAgZXh0cmFjdCAyIDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTMzCiAgICAvLyBsb2coc2JBcHBlbmQoc3VwZXJib3hOYW1lLCB3cml0ZUJ1ZmZlcikpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTM1CiAgICAvLyBjb21taXR0ZWUuaW5nZXN0ZWRWb3RlcyA9IHUzMihpbmdlc3RlZFZvdGVzKQogICAgZGlnIDE0CiAgICBjYWxsc3ViIHUzMgogICAgZGlnIDUKICAgIHN3YXAKICAgIHJlcGxhY2UyIDI0CiAgICBkdXAKICAgIGJ1cnkgNgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxMzcKICAgIC8vIGlmIChpbmdlc3RlZEFjY291bnRzICsgeEdvdnMubGVuZ3RoID09PSBjb21taXR0ZWUudG90YWxNZW1iZXJzLmFzVWludDY0KCkpIHsKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQzMgogICAgZGlnIDEKICAgID09CiAgICBieiBpbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTM4CiAgICAvLyBlbnN1cmUoY29tbWl0dGVlLmluZ2VzdGVkVm90ZXMgPT09IGNvbW1pdHRlZS50b3RhbFZvdGVzLCBlcnJUb3RhbFZvdGVzTWlzbWF0Y2gpCiAgICBkaWcgNAogICAgZHVwCiAgICBleHRyYWN0IDI0IDQKICAgIHN3YXAKICAgIGV4dHJhY3QgMTIgNAogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6OQogICAgLy8gaWYgKCFjb25kKSB7CiAgICBibnogaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjEzOAogICAgLy8gZW5zdXJlKGNvbW1pdHRlZS5pbmdlc3RlZFZvdGVzID09PSBjb21taXR0ZWUudG90YWxWb3RlcywgZXJyVG90YWxWb3Rlc01pc21hdGNoKQogICAgcHVzaGJ5dGVzICJFUlI6VFZfTU0iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czozOQogICAgLy8gY29tbWl0dGVlcyA9IEJveE1hcDxTdGF0aWNCeXRlczwzMj4sIENvbW1pdHRlZU1ldGFkYXRhPih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgZGlnIDgKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNDAKICAgIC8vIHRoaXMuY29tbWl0dGVlcyhjb21taXR0ZWVJZCkudmFsdWUgPSBjbG9uZShjb21taXR0ZWUpCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgZGlnIDUKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OTUKICAgIC8vIHB1YmxpYyBpbmdlc3RYR292cyhjb21taXR0ZWVJZDogU3RhdGljQnl0ZXM8MzI+LCB4R292czogWEdvdklucHV0W10pOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmluZ2VzdFhHb3ZzX3Rlcm5hcnlfZmFsc2VAMTI6CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czo0MAogICAgLy8gbGV0IGN1cnJlbnRCb3hOdW06IHVpbnQ2NCA9IG1ldGEuYm94Qnl0ZUxlbmd0aHMubGVuZ3RoID09PSAwID8gMCA6IG1ldGEuYm94Qnl0ZUxlbmd0aHMubGVuZ3RoIC0gMQogICAgZGlnIDIxCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgYnVyeSAxNwogICAgYiBpbmdlc3RYR292c190ZXJuYXJ5X21lcmdlQDEzCgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLnVuaW5nZXN0WEdvdnNbcm91dGluZ10oKSAtPiB2b2lkOgp1bmluZ2VzdFhHb3ZzOgogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE0OAogICAgLy8gcHVibGljIHVuaW5nZXN0WEdvdnMoY29tbWl0dGVlSWQ6IFN0YXRpY0J5dGVzPDMyPiwgbnVtWEdvdnM6IHVpbnQ2NCk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwbiAyCiAgICBsZW4KICAgIGludGNfMyAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCA4IC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNDkKICAgIC8vIHRoaXMuZW5zdXJlQ2FsbGVySXNBZG1pbigpCiAgICBjYWxsc3ViIGVuc3VyZUNhbGxlcklzQWRtaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTUxCiAgICAvLyBjb25zdCBjb21taXR0ZWUgPSB0aGlzLm11c3RHZXRDb21taXR0ZWUoY29tbWl0dGVlSWQpCiAgICBkdXAKICAgIGNhbGxzdWIgbXVzdEdldENvbW1pdHRlZQogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNTIKICAgIC8vIGNvbnN0IHN1cGVyYm94TmFtZSA9IHRoaXMuZ2V0Q29tbWl0dGVlU0JOYW1lKGNvbW1pdHRlZUlkKQogICAgY2FsbHN1YiBnZXRDb21taXR0ZWVTQk5hbWUKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6NDUKICAgIC8vIHJldHVybiBtZXRhQm94TWFwKG5hbWUgKyAnX20nKQogICAgYnl0ZWNfMSAvLyAiX20iCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czozNQogICAgLy8gcmV0dXJuIHNiTWV0YS52YWx1ZS50b3RhbEJ5dGVMZW5ndGguYXNVaW50NjQoKSAvIFhHT1ZfU1RPUkVEX1NJWkUKICAgIGludGNfMiAvLyAyCiAgICBwdXNoaW50IDggLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIHB1c2hpbnQgOCAvLyA4CiAgICAvCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTU1CiAgICAvLyBlbnN1cmUobnVtWEdvdnMgPD0gdG90YWxYR292cywgZXJyTnVtWEdvdnNFeGNlZWRlZCkKICAgIDw9CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IHVuaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUAxNwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNTUKICAgIC8vIGVuc3VyZShudW1YR292cyA8PSB0b3RhbFhHb3ZzLCBlcnJOdW1YR292c0V4Y2VlZGVkKQogICAgcHVzaGJ5dGVzICJFUlI6TlhfWEMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKdW5pbmdlc3RYR292c19hZnRlcl9pZl9lbHNlQDE3OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNTYKICAgIC8vIGxldCBpbmdlc3RlZFZvdGVzID0gY29tbWl0dGVlLmluZ2VzdGVkVm90ZXMuYXNVaW50NjQoKQogICAgZGlnIDMKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3RfdWludDMyCiAgICBidXJ5IDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTU3CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSB0b3RhbFhHb3ZzIC0gMTsgaSA+PSB0b3RhbFhHb3ZzIC0gbnVtWEdvdnM7IGktLSkgewogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgYnVyeSAxMAoKdW5pbmdlc3RYR292c193aGlsZV90b3BAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTU3CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSB0b3RhbFhHb3ZzIC0gMTsgaSA+PSB0b3RhbFhHb3ZzIC0gbnVtWEdvdnM7IGktLSkgewogICAgZHVwCiAgICBkaWcgNQogICAgLQogICAgZGlnIDEwCiAgICA8PQogICAgYnogdW5pbmdlc3RYR292c19hZnRlcl93aGlsZUA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE1OAogICAgLy8gY29uc3QgeEdvdlN0b3JlZCA9IHRoaXMuZ2V0U3RvcmVkWEdvdkF0KHN1cGVyYm94TmFtZSwgaSkKICAgIGRpZyAyCiAgICBkdXAKICAgIGRpZyAxMQogICAgZHVwCiAgICBjb3ZlciAzCiAgICBjYWxsc3ViIGdldFN0b3JlZFhHb3ZBdAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNTkKICAgIC8vIGluZ2VzdGVkVm90ZXMgLT0geEdvdlN0b3JlZC52b3Rlcy5hc1VpbnQ2NCgpCiAgICBwdXNoaW50IDQgLy8gNAogICAgZXh0cmFjdF91aW50MzIKICAgIGRpZyAxMQogICAgc3dhcAogICAgLQogICAgYnVyeSAxMQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTMxCiAgICAvLyBjb25zdCBbYm94TnVtLCBieXRlT2Zmc2V0XSA9IHNiR2V0TG9jYXRpb24obmFtZSwgdmFsdWVJbmRleCkKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBjYWxsc3ViIHNiR2V0TG9jYXRpb24KICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGNvdmVyIDMKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgYnVyeSAxNAogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6MjUKICAgIC8vIHJldHVybiBCeXRlcyhuYW1lKS5jb25jYXQoQnl0ZXMoaXRvYShudW0pKSkKICAgIGR1cAogICAgY2FsbHN1YiBAZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjppdG9hCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgY292ZXIgMgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTM0CiAgICAvLyBjb25zdCB2YWx1ZVNpemUgPSBtZXRhLnZhbHVlLnZhbHVlU2l6ZS5hc1VpbnQ2NCgpCiAgICBkaWcgNAogICAgZHVwCiAgICBwdXNoaW50cyAxOCA4IC8vIDE4LCA4CiAgICBib3hfZXh0cmFjdAogICAgYnRvaQogICAgZHVwCiAgICBjb3ZlciAzCiAgICBidXJ5IDEyCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxMzUKICAgIC8vIGNvbnN0IHByZXZCb3hCeXRlTGVuZ3RoID0gbWV0YS52YWx1ZS5ib3hCeXRlTGVuZ3Roc1tib3hOdW1dLmFzVWludDY0KCkKICAgIGR1cAogICAgcHVzaGludCAyOCAvLyAyOAogICAgaW50Y18yIC8vIDIKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICBkaWcgMgogICAgPgogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIHN3YXAKICAgIGludGNfMiAvLyAyCiAgICAqCiAgICBwdXNoaW50IDMwIC8vIDMwCiAgICArCiAgICBkdXAKICAgIGJ1cnkgMTcKICAgIGludGNfMiAvLyAyCiAgICBib3hfZXh0cmFjdAogICAgYnRvaQogICAgZHVwCiAgICBidXJ5IDEyCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxMzcKICAgIC8vIGlmIChwcmV2Qm94Qnl0ZUxlbmd0aCA9PT0gdmFsdWVTaXplKSB7CiAgICA9PQogICAgYnogdW5pbmdlc3RYR292c19lbHNlX2JvZHlANwogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTM5CiAgICAvLyBkYXRhQm94LmRlbGV0ZSgpCiAgICBzd2FwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjE0MQogICAgLy8gbWV0YS52YWx1ZS5ib3hCeXRlTGVuZ3Roc1tib3hOdW1dID0gYXUxNigwKQogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgYXUxNgogICAgZGlnIDMKICAgIGR1cAogICAgcHVzaGludCAyOCAvLyAyOAogICAgaW50Y18yIC8vIDIKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICB1bmNvdmVyIDMKICAgID4KICAgIGFzc2VydCAvLyBpbmRleCBvdXQgb2YgYm91bmRzCiAgICBkaWcgMTMKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKCnVuaW5nZXN0WEdvdnNfYWZ0ZXJfaWZfZWxzZUA4OgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTUyCiAgICAvLyBtZXRhLnZhbHVlLnRvdGFsQnl0ZUxlbmd0aCA9IGF1NjQobWV0YS52YWx1ZS50b3RhbEJ5dGVMZW5ndGguYXNVaW50NjQoKSAtIHZhbHVlU2l6ZSkKICAgIGRpZyAxCiAgICBkdXAKICAgIGludGNfMiAvLyAyCiAgICBwdXNoaW50IDggLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIGRpZyA4CiAgICAtCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvdHlwZXMuYWxnby50czozNQogICAgLy8gcmV0dXJuIG5ldyBVaW50NjQobnVtKQogICAgaXRvYgogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTUyCiAgICAvLyBtZXRhLnZhbHVlLnRvdGFsQnl0ZUxlbmd0aCA9IGF1NjQobWV0YS52YWx1ZS50b3RhbEJ5dGVMZW5ndGguYXNVaW50NjQoKSAtIHZhbHVlU2l6ZSkKICAgIGludGNfMiAvLyAyCiAgICBzd2FwCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNTcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IHRvdGFsWEdvdnMgLSAxOyBpID49IHRvdGFsWEdvdnMgLSBudW1YR292czsgaS0tKSB7CiAgICBkaWcgOQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGJ1cnkgMTAKICAgIGIgdW5pbmdlc3RYR292c193aGlsZV90b3BAMgoKdW5pbmdlc3RYR292c19lbHNlX2JvZHlANzoKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi9zdXBlcmJveC5hbGdvLnRzOjE0NAogICAgLy8gZGF0YUJveC5zcGxpY2UoYnl0ZU9mZnNldCwgdmFsdWVTaXplLCBCeXRlc2BgKQogICAgc3dhcAogICAgZHVwCiAgICBkaWcgMTMKICAgIGRpZyAxMAogICAgZHVwCiAgICBjb3ZlciAzCiAgICBieXRlY18yIC8vICIiCiAgICBib3hfc3BsaWNlCiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoxNDYKICAgIC8vIGRhdGFCb3gucmVzaXplKHByZXZCb3hCeXRlTGVuZ3RoIC0gdmFsdWVTaXplKQogICAgZGlnIDEwCiAgICBzd2FwCiAgICAtCiAgICBzd2FwCiAgICBkaWcgMQogICAgYm94X3Jlc2l6ZQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MTQ4CiAgICAvLyBtZXRhLnZhbHVlLmJveEJ5dGVMZW5ndGhzW2JveE51bV0gPSBhdTE2KHByZXZCb3hCeXRlTGVuZ3RoIC0gdmFsdWVTaXplKQogICAgY2FsbHN1YiBhdTE2CiAgICBkaWcgMwogICAgZHVwCiAgICBwdXNoaW50IDI4IC8vIDI4CiAgICBpbnRjXzIgLy8gMgogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIHVuY292ZXIgMwogICAgPgogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIGRpZyAxMwogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgYiB1bmluZ2VzdFhHb3ZzX2FmdGVyX2lmX2Vsc2VAOAoKdW5pbmdlc3RYR292c19hZnRlcl93aGlsZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNjIKICAgIC8vIGNvbW1pdHRlZS5pbmdlc3RlZFZvdGVzID0gdTMyKGluZ2VzdGVkVm90ZXMpCiAgICBkaWcgOAogICAgY2FsbHN1YiB1MzIKICAgIGRpZyA0CiAgICBzd2FwCiAgICByZXBsYWNlMiAyNAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czozOQogICAgLy8gY29tbWl0dGVlcyA9IEJveE1hcDxTdGF0aWNCeXRlczwzMj4sIENvbW1pdHRlZU1ldGFkYXRhPih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgZGlnIDcKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNjMKICAgIC8vIHRoaXMuY29tbWl0dGVlcyhjb21taXR0ZWVJZCkudmFsdWUgPSBjbG9uZShjb21taXR0ZWUpCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNDgKICAgIC8vIHB1YmxpYyB1bmluZ2VzdFhHb3ZzKGNvbW1pdHRlZUlkOiBTdGF0aWNCeXRlczwzMj4sIG51bVhHb3ZzOiB1aW50NjQpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUuZ2V0QWNjb3VudElkW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0QWNjb3VudElkOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxNjYKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE2OAogICAgLy8gcmV0dXJuIHRoaXMuZ2V0QWNjb3VudElkSWZFeGlzdHMoYWNjb3VudCkKICAgIGNhbGxzdWIgZ2V0QWNjb3VudElkSWZFeGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTY2CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGJ5dGVjIDUgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUubG9nQWNjb3VudElkc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmxvZ0FjY291bnRJZHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE3NgogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgaW50Y18yIC8vIDIKICAgICsKICAgIHN3YXAKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFjY291bnQ+CiAgICBpbnRjXzAgLy8gMAoKbG9nQWNjb3VudElkc19mb3JfaGVhZGVyQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE3OAogICAgLy8gZm9yIChjb25zdCBhY2NvdW50IG9mIGFjY291bnRzKSB7CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBieiBsb2dBY2NvdW50SWRzX2FmdGVyX2ZvckA1CiAgICBkaWcgMgogICAgZXh0cmFjdCAyIDAKICAgIGRpZyAxCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTc5CiAgICAvLyBsb2codGhpcy5nZXRBY2NvdW50SWRJZkV4aXN0cyhhY2NvdW50KS5ieXRlcykKICAgIGNhbGxzdWIgZ2V0QWNjb3VudElkSWZFeGlzdHMKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMQogICAgYiBsb2dBY2NvdW50SWRzX2Zvcl9oZWFkZXJAMgoKbG9nQWNjb3VudElkc19hZnRlcl9mb3JANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTc2CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUuZ2V0Q29tbWl0dGVlTWV0YWRhdGFbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRDb21taXR0ZWVNZXRhZGF0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTgzCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmJvb2wKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MzkKICAgIC8vIGNvbW1pdHRlZXMgPSBCb3hNYXA8U3RhdGljQnl0ZXM8MzI+LCBDb21taXR0ZWVNZXRhZGF0YT4oeyBrZXlQcmVmaXg6ICdjJyB9KQogICAgYnl0ZWNfMCAvLyAiYyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE4NgogICAgLy8gaWYgKGNvbW1pdHRlZUJveC5leGlzdHMpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYnogZ2V0Q29tbWl0dGVlTWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE4NwogICAgLy8gaWYgKG11c3RCZUNvbXBsZXRlKSB7CiAgICBkaWcgMQogICAgYnogZ2V0Q29tbWl0dGVlTWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE4OQogICAgLy8gY29tbWl0dGVlQm94LnZhbHVlLmluZ2VzdGVkVm90ZXMgPT09IGNvbW1pdHRlZUJveC52YWx1ZS50b3RhbFZvdGVzLAogICAgZHVwbiAyCiAgICBwdXNoaW50cyAyNCA0IC8vIDI0LCA0CiAgICBib3hfZXh0cmFjdAogICAgc3dhcAogICAgcHVzaGludHMgMTIgNCAvLyAxMiwgNAogICAgYm94X2V4dHJhY3QKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IGdldENvbW1pdHRlZU1ldGFkYXRhX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxOTAKICAgIC8vIGVyckNvbW1pdHRlZUluY29tcGxldGUsCiAgICBwdXNoYnl0ZXMgIkVSUjpDX05DIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCmdldENvbW1pdHRlZU1ldGFkYXRhX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MTkzCiAgICAvLyByZXR1cm4gY29tbWl0dGVlQm94LnZhbHVlCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCgpnZXRDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OkNvbW1pdHRlZU9yYWNsZS5nZXRDb21taXR0ZWVNZXRhZGF0YUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxODMKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYnl0ZWMgNSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKZ2V0Q29tbWl0dGVlTWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxOTUKICAgIC8vIHJldHVybiBnZXRFbXB0eUNvbW1pdHRlZU1ldGFkYXRhKCkKICAgIGNhbGxzdWIgZ2V0RW1wdHlDb21taXR0ZWVNZXRhZGF0YQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxODMKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYiBnZXRDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OkNvbW1pdHRlZU9yYWNsZS5nZXRDb21taXR0ZWVNZXRhZGF0YUA2CgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLmxvZ0NvbW1pdHRlZU1ldGFkYXRhW3JvdXRpbmddKCkgLT4gdm9pZDoKbG9nQ29tbWl0dGVlTWV0YWRhdGE6CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoxOTgKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwbiAyCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBzd2FwCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4+CiAgICBpbnRjXzAgLy8gMAoKbG9nQ29tbWl0dGVlTWV0YWRhdGFfZm9yX2hlYWRlckAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMDAKICAgIC8vIGZvciAoY29uc3QgY29tbWl0dGVlSWQgb2YgY29tbWl0dGVlSWRzKSB7CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBieiBsb2dDb21taXR0ZWVNZXRhZGF0YV9hZnRlcl9mb3JAOAogICAgZGlnIDIKICAgIGV4dHJhY3QgMiAwCiAgICBkaWcgMQogICAgaW50Y18zIC8vIDMyCiAgICAqCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czozOQogICAgLy8gY29tbWl0dGVlcyA9IEJveE1hcDxTdGF0aWNCeXRlczwzMj4sIENvbW1pdHRlZU1ldGFkYXRhPih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGJ1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMDIKICAgIC8vIGlmIChtZXRhZGF0YS5leGlzdHMpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYnogbG9nQ29tbWl0dGVlTWV0YWRhdGFfZWxzZV9ib2R5QDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjAzCiAgICAvLyBsb2coZW5jb2RlQXJjNChtZXRhZGF0YS52YWx1ZSkpCiAgICBkaWcgMwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGxvZwoKbG9nQ29tbWl0dGVlTWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUA2OgogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIGxvZ0NvbW1pdHRlZU1ldGFkYXRhX2Zvcl9oZWFkZXJAMgoKbG9nQ29tbWl0dGVlTWV0YWRhdGFfZWxzZV9ib2R5QDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjIwNQogICAgLy8gbG9nKGVuY29kZUFyYzQoZ2V0RW1wdHlDb21taXR0ZWVNZXRhZGF0YSgpKSkKICAgIGNhbGxzdWIgZ2V0RW1wdHlDb21taXR0ZWVNZXRhZGF0YQogICAgbG9nCiAgICBiIGxvZ0NvbW1pdHRlZU1ldGFkYXRhX2FmdGVyX2lmX2Vsc2VANgoKbG9nQ29tbWl0dGVlTWV0YWRhdGFfYWZ0ZXJfZm9yQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjE5OAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLmdldENvbW1pdHRlZVN1cGVyYm94TWV0YVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldENvbW1pdHRlZVN1cGVyYm94TWV0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjEwCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMTIKICAgIC8vIGNvbnN0IHN1cGVyYm94TmFtZSA9IHRoaXMuZ2V0Q29tbWl0dGVlU0JOYW1lKGNvbW1pdHRlZUlkKQogICAgY2FsbHN1YiBnZXRDb21taXR0ZWVTQk5hbWUKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjQ1CiAgICAvLyByZXR1cm4gbWV0YUJveE1hcChuYW1lICsgJ19tJykKICAgIGJ5dGVjXzEgLy8gIl9tIgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjIxMwogICAgLy8gcmV0dXJuIHNiTWV0YUJveChzdXBlcmJveE5hbWUpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMTAKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYnl0ZWMgNSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OkNvbW1pdHRlZU9yYWNsZS5nZXRYR292Vm90aW5nUG93ZXJbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRYR292Vm90aW5nUG93ZXI6CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMjMKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwbiAyCiAgICBsZW4KICAgIGludGNfMyAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgY292ZXIgMwogICAgbGVuCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjI1CiAgICAvLyB0aGlzLm11c3RHZXRDb21taXR0ZWUoY29tbWl0dGVlSWQpCiAgICBzd2FwCiAgICBjYWxsc3ViIG11c3RHZXRDb21taXR0ZWUKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMjcKICAgIC8vIGNvbnN0IGFjY291bnRJZCA9IHRoaXMuZ2V0QWNjb3VudElkSWZFeGlzdHMoYWNjb3VudCkKICAgIGNhbGxzdWIgZ2V0QWNjb3VudElkSWZFeGlzdHMKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMjgKICAgIC8vIGVuc3VyZShhY2NvdW50SWQuYXNVaW50NjQoKSAhPT0gMCwgZXJyQWNjb3VudE5vdEV4aXN0cykKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6OQogICAgLy8gaWYgKCFjb25kKSB7CiAgICBibnogZ2V0WEdvdlZvdGluZ1Bvd2VyX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMjgKICAgIC8vIGVuc3VyZShhY2NvdW50SWQuYXNVaW50NjQoKSAhPT0gMCwgZXJyQWNjb3VudE5vdEV4aXN0cykKICAgIHB1c2hieXRlcyAiRVJSOkFfTlgiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjEwCiAgICAvLyBsb2coY29kZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMQogICAgLy8gZXJyKCkKICAgIGVycgoKZ2V0WEdvdlZvdGluZ1Bvd2VyX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjMwCiAgICAvLyBjb25zdCB4R292ID0gdGhpcy5nZXRTdG9yZWRYR292QXQodGhpcy5nZXRDb21taXR0ZWVTQk5hbWUoY29tbWl0dGVlSWQpLCBhY2NvdW50T2Zmc2V0SGludC5hc1VpbnQ2NCgpKQogICAgZGlnIDIKICAgIGNhbGxzdWIgZ2V0Q29tbWl0dGVlU0JOYW1lCiAgICBkaWcgMgogICAgYnRvaQogICAgY2FsbHN1YiBnZXRTdG9yZWRYR292QXQKICAgIGR1cAogICAgYnVyeSA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjIzMQogICAgLy8gZW5zdXJlRXh0cmEoeEdvdi5hY2NvdW50SWQgPT09IGFjY291bnRJZCwgZXJyQWNjb3VudEhpbnRNaXNtYXRjaCwgYWNjb3VudElkLmJ5dGVzKQogICAgZXh0cmFjdCAwIDQKICAgIGRpZyAxCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxNgogICAgLy8gaWYgKCFjb25kKSB7CiAgICBibnogZ2V0WEdvdlZvdGluZ1Bvd2VyX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxNwogICAgLy8gbG9nKGV4dHJhKQogICAgZHVwCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjMxCiAgICAvLyBlbnN1cmVFeHRyYSh4R292LmFjY291bnRJZCA9PT0gYWNjb3VudElkLCBlcnJBY2NvdW50SGludE1pc21hdGNoLCBhY2NvdW50SWQuYnl0ZXMpCiAgICBwdXNoYnl0ZXMgIkVSUjpBSCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTgKICAgIC8vIGxvZyhjb2RlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjE5CiAgICAvLyBlcnIoKQogICAgZXJyCgpnZXRYR292Vm90aW5nUG93ZXJfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyMzMKICAgIC8vIHJldHVybiB4R292LnZvdGVzCiAgICBkaWcgMwogICAgZXh0cmFjdCA0IDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjIzCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGJ5dGVjIDUgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6OkFjY291bnRJZENvbnRyYWN0LmluY3JlYXNlQnVkZ2V0W3JvdXRpbmddKCkgLT4gdm9pZDoKaW5jcmVhc2VCdWRnZXQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MzEKICAgIC8vIEBhYmltZXRob2QoeyB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjM0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgaXR4bnM7IGkrKykgewogICAgaW50Y18wIC8vIDAKCmluY3JlYXNlQnVkZ2V0X3doaWxlX3RvcEAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjM0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgaXR4bnM7IGkrKykgewogICAgZHVwCiAgICBkaWcgMgogICAgPAogICAgYnogaW5jcmVhc2VCdWRnZXRfYWZ0ZXJfd2hpbGVANQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjM1LTQxCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcHJvdmFsUHJvZ3JhbTogZW1wdHkuY2xlYXJTdGF0ZVByb2dyYW0sIC8vIGludGVudGlvbmFsbHkgdXNpbmcgY2xlYXIgc3RhdGUgcHJvZ3JhbSBmb3IgInJldHVybiB0cnVlIgogICAgLy8gICAgIGNsZWFyU3RhdGVQcm9ncmFtOiBlbXB0eS5jbGVhclN0YXRlUHJvZ3JhbSwKICAgIC8vICAgICBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uRGVsZXRlQXBwbGljYXRpb24sCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjM5CiAgICAvLyBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uRGVsZXRlQXBwbGljYXRpb24sCiAgICBwdXNoaW50IDUgLy8gNQogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czozMwogICAgLy8gY29uc3QgZW1wdHkgPSBjb21waWxlKEVtcHR5Q29udHJhY3QpCiAgICBieXRlYyA4IC8vIGJhc2U2NChDNEVCUXc9PSkKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW1QYWdlcwogICAgYnl0ZWMgOCAvLyBiYXNlNjQoQzRFQlF3PT0pCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbVBhZ2VzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MzUtNDAKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwcm92YWxQcm9ncmFtOiBlbXB0eS5jbGVhclN0YXRlUHJvZ3JhbSwgLy8gaW50ZW50aW9uYWxseSB1c2luZyBjbGVhciBzdGF0ZSBwcm9ncmFtIGZvciAicmV0dXJuIHRydWUiCiAgICAvLyAgICAgY2xlYXJTdGF0ZVByb2dyYW06IGVtcHR5LmNsZWFyU3RhdGVQcm9ncmFtLAogICAgLy8gICAgIG9uQ29tcGxldGlvbjogT25Db21wbGV0ZUFjdGlvbi5EZWxldGVBcHBsaWNhdGlvbiwKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgNiAvLyA2CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czozNS00MQogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHByb3ZhbFByb2dyYW06IGVtcHR5LmNsZWFyU3RhdGVQcm9ncmFtLCAvLyBpbnRlbnRpb25hbGx5IHVzaW5nIGNsZWFyIHN0YXRlIHByb2dyYW0gZm9yICJyZXR1cm4gdHJ1ZSIKICAgIC8vICAgICBjbGVhclN0YXRlUHJvZ3JhbTogZW1wdHkuY2xlYXJTdGF0ZVByb2dyYW0sCiAgICAvLyAgICAgb25Db21wbGV0aW9uOiBPbkNvbXBsZXRlQWN0aW9uLkRlbGV0ZUFwcGxpY2F0aW9uLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MzQKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBpdHhuczsgaSsrKSB7CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEKICAgIGIgaW5jcmVhc2VCdWRnZXRfd2hpbGVfdG9wQDIKCmluY3JlYXNlQnVkZ2V0X2FmdGVyX3doaWxlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MzEKICAgIC8vIEBhYmltZXRob2QoeyB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6OkNvbW1pdHRlZU9yYWNsZS5tdXN0R2V0Q29tbWl0dGVlKGNvbW1pdHRlZUlkOiBieXRlcykgLT4gYnl0ZXM6Cm11c3RHZXRDb21taXR0ZWU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI1NgogICAgLy8gcHJpdmF0ZSBtdXN0R2V0Q29tbWl0dGVlKGNvbW1pdHRlZUlkOiBTdGF0aWNCeXRlczwzMj4pOiBDb21taXR0ZWVNZXRhZGF0YSB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MzkKICAgIC8vIGNvbW1pdHRlZXMgPSBCb3hNYXA8U3RhdGljQnl0ZXM8MzI+LCBDb21taXR0ZWVNZXRhZGF0YT4oeyBrZXlQcmVmaXg6ICdjJyB9KQogICAgYnl0ZWNfMCAvLyAiYyIKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjU4CiAgICAvLyBlbnN1cmUoY29tbWl0dGVlQm94LmV4aXN0cywgZXJyQ29tbWl0dGVlTm90RXhpc3RzKQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS91dGlscy5hbGdvLnRzOjkKICAgIC8vIGlmICghY29uZCkgewogICAgYm56IG11c3RHZXRDb21taXR0ZWVfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI1OAogICAgLy8gZW5zdXJlKGNvbW1pdHRlZUJveC5leGlzdHMsIGVyckNvbW1pdHRlZU5vdEV4aXN0cykKICAgIGJ5dGVjIDcgLy8gIkVSUjpDX05YIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCm11c3RHZXRDb21taXR0ZWVfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czoyNTkKICAgIC8vIHJldHVybiBjb21taXR0ZWVCb3gudmFsdWUKICAgIGZyYW1lX2RpZyAwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgc3dhcAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL29yYWNsZS9vcmFjbGUuYWxnby50czo6Q29tbWl0dGVlT3JhY2xlLmdldENvbW1pdHRlZVNCTmFtZShjb21taXR0ZWVJZDogYnl0ZXMpIC0+IGJ5dGVzOgpnZXRDb21taXR0ZWVTQk5hbWU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI2MgogICAgLy8gcHJpdmF0ZSBnZXRDb21taXR0ZWVTQk5hbWUoY29tbWl0dGVlSWQ6IFN0YXRpY0J5dGVzPDMyPik6IHN0cmluZyB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9vcmFjbGUvb3JhY2xlLmFsZ28udHM6MjYzCiAgICAvLyByZXR1cm4gdGhpcy5tdXN0R2V0Q29tbWl0dGVlKGNvbW1pdHRlZUlkKS5zdXBlcmJveFByZWZpeAogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIG11c3RHZXRDb21taXR0ZWUKICAgIGR1cAogICAgcHVzaGludCAyOCAvLyAyOAogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAxCiAgICBsZW4KICAgIHN1YnN0cmluZzMKICAgIGV4dHJhY3QgMiAwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjpDb21taXR0ZWVPcmFjbGUuZ2V0U3RvcmVkWEdvdkF0KHN1cGVyYm94TmFtZTogYnl0ZXMsIGluZGV4OiB1aW50NjQpIC0+IGJ5dGVzOgpnZXRTdG9yZWRYR292QXQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI2NgogICAgLy8gcHJpdmF0ZSBnZXRTdG9yZWRYR292QXQoc3VwZXJib3hOYW1lOiBzdHJpbmcsIGluZGV4OiB1aW50NjQpOiBYR292U3RvcmVkIHsKICAgIHByb3RvIDIgMQogICAgLy8gbm9kZV9tb2R1bGVzL0BkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3N1cGVyYm94LmFsZ28udHM6MjM2CiAgICAvLyBjb25zdCBbYm94TnVtLCBieXRlT2Zmc2V0XSA9IHNiR2V0TG9jYXRpb24obmFtZSwgdmFsdWVJbmRleCkKICAgIGZyYW1lX2RpZyAtMgogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIHNiR2V0TG9jYXRpb24KICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBzd2FwCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIG5vZGVfbW9kdWxlcy9AZDEzY28vc3VwZXJib3gvc21hcnRfY29udHJhY3RzL3N1cGVyYm94L2xpYi91dGlscy5hbGdvLnRzOjI1CiAgICAvLyByZXR1cm4gQnl0ZXMobmFtZSkuY29uY2F0KEJ5dGVzKGl0b2EobnVtKSkpCiAgICBzd2FwCiAgICBjYWxsc3ViIEBkMTNjby9zdXBlcmJveC9zbWFydF9jb250cmFjdHMvc3VwZXJib3gvbGliL3V0aWxzLmFsZ28udHM6Oml0b2EKICAgIGZyYW1lX2RpZyAtMgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMzgKICAgIC8vIGNvbnN0IHZhbHVlU2l6ZSA9IHNiTWV0YUJveFZhbHVlKG5hbWUpLnZhbHVlU2l6ZS5hc1VpbnQ2NCgpCiAgICBmcmFtZV9kaWcgLTIKICAgIGNhbGxzdWIgc2JNZXRhQm94VmFsdWUKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBub2RlX21vZHVsZXMvQGQxM2NvL3N1cGVyYm94L3NtYXJ0X2NvbnRyYWN0cy9zdXBlcmJveC9saWIvc3VwZXJib3guYWxnby50czoyMzkKICAgIC8vIHJldHVybiBib3gudmFsdWUuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIHZhbHVlU2l6ZSkKICAgIHN3YXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkdXAKICAgIGxlbgogICAgZGlnIDMKICAgIGRpZyAxCiAgICA+PQogICAgZGlnIDQKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgdW5jb3ZlciA0CiAgICB1bmNvdmVyIDQKICAgICsKICAgIGR1cAogICAgZGlnIDMKICAgID49CiAgICBzd2FwCiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBkaWcgMgogICAgc3dhcAogICAgc2VsZWN0CiAgICBzdWJzdHJpbmczCiAgICAvLyBzbWFydF9jb250cmFjdHMvb3JhY2xlL29yYWNsZS5hbGdvLnRzOjI2OAogICAgLy8gcmV0dXJuIGRlY29kZUFyYzQ8WEdvdlN0b3JlZD4oeEdvdkRhdGEpCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6OkFjY291bnRJZENvbnRyYWN0LmdldEFjY291bnRJZElmRXhpc3RzKGFjY291bnQ6IGJ5dGVzKSAtPiBieXRlczoKZ2V0QWNjb3VudElkSWZFeGlzdHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYmFzZS9iYXNlLmFsZ28udHM6MTIKICAgIC8vIHByb3RlY3RlZCBnZXRBY2NvdW50SWRJZkV4aXN0cyhhY2NvdW50OiBBY2NvdW50KTogVWludDMyIHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjEwCiAgICAvLyBhY2NvdW50SWRzID0gQm94TWFwPEFjY291bnQsIFVpbnQzMj4oeyBrZXlQcmVmaXg6ICdhJyB9KQogICAgcHVzaGJ5dGVzICJhIgogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjE0CiAgICAvLyBpZiAoYm94LmV4aXN0cykgcmV0dXJuIGJveC52YWx1ZQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBnZXRBY2NvdW50SWRJZkV4aXN0c19lbHNlX2JvZHlAMgogICAgZnJhbWVfZGlnIDAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBzd2FwCiAgICByZXRzdWIKCmdldEFjY291bnRJZElmRXhpc3RzX2Vsc2VfYm9keUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjE1CiAgICAvLyBlbHNlIHJldHVybiB1MzIoMCkKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIHUzMgogICAgc3dhcAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjpBY2NvdW50SWRDb250cmFjdC5lbnN1cmVDYWxsZXJJc0FkbWluKCkgLT4gdm9pZDoKZW5zdXJlQ2FsbGVySXNBZG1pbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL2Jhc2UuYWxnby50czoyOAogICAgLy8gZW5zdXJlKFR4bi5zZW5kZXIgPT09IEdsb2JhbC5jcmVhdG9yQWRkcmVzcywgZXJyVW5hdXRob3JpemVkKQogICAgdHhuIFNlbmRlcgogICAgZ2xvYmFsIENyZWF0b3JBZGRyZXNzCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czo5CiAgICAvLyBpZiAoIWNvbmQpIHsKICAgIGJueiBlbnN1cmVDYWxsZXJJc0FkbWluX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvYmFzZS5hbGdvLnRzOjI4CiAgICAvLyBlbnN1cmUoVHhuLnNlbmRlciA9PT0gR2xvYmFsLmNyZWF0b3JBZGRyZXNzLCBlcnJVbmF1dGhvcml6ZWQpCiAgICBwdXNoYnl0ZXMgIkVSUjpBVVRIIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Jhc2UvdXRpbHMuYWxnby50czoxMAogICAgLy8gbG9nKGNvZGUpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9iYXNlL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGVycigpCiAgICBlcnIKCmVuc3VyZUNhbGxlcklzQWRtaW5fYWZ0ZXJfaWZfZWxzZUAzOgogICAgcmV0c3ViCg==",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CyAEAAECICYJAWMCX20AEmxhc3RTdXBlcmJveFByZWZpeAowMTIzNDU2Nzg5BBUffHUNbGFzdEFjY291bnRJZAhFUlI6Q19OWAQLgQFDMRhAAAcnBiJnKyJnMRtBAFwxGRREMRhEggsE1QvEPQTzDPhNBLwhVTkEdNxyDASY+p8qBOx07b4EL9VBAARtmD8QBDa9FfIEkKRfugRBGOy/NhoAjgsBHQIVAmUGKQdTB2UHmgfpCDEIRwisADEZFDEYFBBEI0OKAQGL/4EKDEEABycEi/8jWImL/4EKCoj/5ov/gQoYJwRMI1hQiYoBAYv/FkmTJQ5EVwQEiSKI/+0iiP/pIoj/5SKI/+EiiP/dTwRPBFBPA1BPAlAiFlBMUIAEAB4AAFCJigEBi/8WSZOBEA5EVwYCiYoBAYv/gQoMQQAHJwSL/yNYiYv/gQoKiP/mi/+BChgnBEwjWFCJigEBi/8pUEm9RQFEvkiJigIBKov+iP/oSYESW0sBIllLAoEaWUsDTgJSSU4DIllOAov/SwELSU4DCEwkWw5EIkmLBUmLAgxEiwFXAgBMJAtZSYwAiwQIiwMNQQAOiwOLBAmLBRZMFlCMAImLBIsACIwEiwUjCIwFQv/GNhoBRwIVJRJENhoCSU4CFYEEEkQ2GgNJTgIVgQQSRDYaBElOAhWBBBJENhoFSU4CFYEEEkQ2GgZJFYEIEkQXTIgICihMUEm9RQFBAAyACEVSUjpDX0VYsABLBBdLBhcNQAANgAlFUlI6UEVfTFSwACKI/qAiK2VEiP5zgAFTTFBLB0sHUEsGUEsFUEsEFlBPAlBLARUWVwYCTwJQTIACAB5QTFBLAUm8SEy/SwaIByIpUEm9RQEUREm8SIAvABwAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAgAHgAAAA9bdWludDMyLHVpbnQzMl2/IitlRCMIK0xnI0M2GgFHAhUlEkSIB0koTFBJvUUBQAAEJwewAEmDAhgEuiKI/fgSQAANgAlFUlI6SVZfTlqwAEm8SEsBiAadKVBJvUUBREkkgQi6FxREvEgjQyJHCypHDTYaAUcCFSUSRDYaAklOAkkiWUlOA0mBKAskCE8CFRJEiAbcSwGIBkRJTgJOA08CiAZSSU4DKVBJTgMkgQi6F4EICklOAwhJTwKBCFoOQAANgAlFUlI6VFhfWEOwACKI/WVFHEsBQQAPSwEjCUsETIgGJlcABEUcSwSBGFpFDypFGCJFDksNSwYMQQC3SwZXAgBLDoEoC4EoWElFGlcEIElFI4gGPklFIhdAAHeAAWFLIlBJRSG9RQFBAAyACEVSUjpBX0VYsAAiJwZlRCMIJwZLAWeI/PBLIEsBv0sZTFwASUUYSVcABEUcIlpLHBcNQAALgAdFUlI6T09PsABLFklXJARLHElOA0xQSxpMUEUagSRaSxAIRRBLDiMIRQ9FHEL/YUsYVwAESUUeSyESQAANSxywgAZFUlI6SUSwAEsgQv+YSwSBDFpLDw9AAA2ACUVSUjpUVl9YQ7AASwOI/NdJRRtJgQpbRQ5JgRJbSUULSxkVSUUNTBgUREkiWUsBgRpZUiJZSUUXQAIqIkURIkUQSw9LCgxBAcVLEIj8c0sETFBJRR9LEElLDElOAw9LAUsDTwJNTEsQCElLAw9MTwNPAk1JSwIMSwJMTUsaTgJSRSC9RQFBAUhLHb1ESw1MCUlFFEsJDEEAziJFEksZSSJZSU4CRRZJgRpZSU4DTE4CUklOAiJZSUUYSxMSQQBYSxOI++1PAkxQSxYjCBZXBgJcAEsbSU4CIksYSU4FWEsBUEsCFU8DTwVJTgNPAlJPAkxQSwFPBAlPAxVPAwhMCRZXBgJcGkUaSw9LEghFEEsQIwhFEUL/KkxJVwIASxMkC0xLAVlLFQiI+4dMJAhMXUsbSU4CIksYSU4FWEsBUEsCFU8DTwVJTgNPAlJPAkxQSwFPBAlPAxVPAwhMCRZXBgJcGkUaQv+gSxJLCRhJRQxBAAdLEksLCUUTSx4VSUsUDUEAOEseSb1ESUsWSU4DCEsDTNMiTwRJTgIPIksCTwJNSwNLAg9LBE8DTwJNSyNOAlJPA04Cu0USQv7hSx5JvURJSwMISwJM00shu0USQv7MSwxLCRhJRQ1AACtLDEsfSRUiSwEPIksCTwJNTwNJSwMPTE8DTwJNUkseSbxISwG/FUUSQv6WSwxLDAlC/89LGUkkW0sRCBZcAksDSbxISbxISwG/VwIIsEsOiPpJSwVMXBhJRQaBCFpLARJBABtLBElXGARMVwwEEkAADYAJRVJSOlRWX01NsAAoSwhQSbxISwW/I0NLFSMJRRFC/dAqRwU2GgFHAhUlEkQ2GgJJFYEIEkQXSU8CiAMlSYgCjk4CiAKhSU4CKVBJTgIkgQi6F4EICklOAg5AAA2ACUVSUjpOWF9YQ7AASwOBGFpFCUkjCUUKSUsFCUsKDkEAtksCSUsLSU4DiAJwgQRaSwtMCUULSU8CiPoPSSJbSU4CTgOBCFtFDkmI+clPAkxQTgJLBEmDAhIIuhdJTgNFDEmBHCS6F0sCDURMJAuBHghJRREkuhdJRQwSQQAwTLxIIoj5gUsDSYEcJLoXTwMNREsNTwK7SwFJJIEIuhdLCAkWJEy7SwkjCUUKQv9qTElLDUsKSU4DKtJLCkwJTEsB04j5QksDSYEcJLoXTwMNREsNTwK7Qv++SwiI+O5LBExcGChLB1BJvEhMvyNDNhoBSRUlEkSIAfAnBUxQsCNDNhoBRwIiWUlOAiULJAhMFRJEIklLAgxBABlLAlcCAEsBSU4CJQslWIgBvrAjCEUBQv/gI0M2GgFJFSUSRDYaAkkVIxJEIlNMKExQSb1FAUEALEsBQQAdRwKDAhgEukyDAgwEuhJAAAyACEVSUjpDX05DsABJvkQnBUxQsCNDiPhaQv/zIjYaAUcCIllJTgIlCyQITBUSRCJJSwIMQQArSwJXAgBLASULJVgoTFBJRQW9RQFBAA1LA75EsEkjCEUBQv/ViPgVsEL/8SNDNhoBSRUlEkSIALMpUL5EJwVMULAjQyI2GgFHAhUlEkQ2GgJJFSUSRDYaA0lOAxWBBBJETIgAb0iIAOJJF0AADIAIRVJSOkFfTliwAEsCiABtSwIXiAB7SUUFVwAESwESQAAMSbCABkVSUjpBSLAASwNXBAQnBUxQsCNDNhoBFyJJSwIMQQAdsYEFshknCLJCJwiyQIEGshAisgGzSSMIRQFC/9wjQ4oBASiL/1BJvUUBQAAEJwewAIsAvkRMiYoBAYv/iP/gSYEcWUsBFVJXAgCJigIBi/6L/4j3pEkiW0yBCFtMiPdki/5MUIv+iPeBgRJbTL5ESRVLA0sBD0sESwJPAk1PBE8ECElLAw9MTwNPAk1JSwIMSwJMTVKJigEBgAFhi/9QSb1FAUEABosAvkRMiSKI9slMiTEAMgkSQAAMgAhFUlI6QVVUSLAAiQ==",
        "clear": "C4EBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 3,
            "patch": 2
        }
    },
    "events": [],
    "templateVariables": {}
}