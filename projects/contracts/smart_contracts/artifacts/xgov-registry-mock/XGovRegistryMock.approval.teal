#pragma version 11
#pragma typetrack false

// @algorandfoundation/algorand-typescript/arc4/index.d.ts::Contract.approvalProgram() -> uint64:
main:
    intcblock 0 1 6 32
    bytecblock base64(C4EBQw==) "x"
    txn ApplicationID
    bnz main_after_if_else@2
    // smart_contracts/base/base.algo.ts:20
    // lastAccountId = GlobalState<uint64>({ initialValue: 0 })
    pushbytes "lastAccountId"
    intc_0 // 0
    app_global_put

main_after_if_else@2:
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:23
    // export class XGovRegistryMock extends AccountIdContract {
    txn NumAppArgs
    bz main___algots__.defaultCreate@13
    txn OnCompletion
    !
    assert // OnCompletion must be NoOp
    txn ApplicationID
    assert
    pushbytess 0x27630d65 0x8d2d9a33 0xdf3a667e 0x4118ecbf // method "get_xgov_box(address)((address,uint64,uint64,uint64),bool)", method "createProposal()void", method "setXGovBox(address,(address,uint64,uint64,uint64))void", method "increaseBudget(uint64)void"
    txna ApplicationArgs 0
    match getXGovBox createProposal setXGovBox increaseBudget
    err

main___algots__.defaultCreate@13:
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:23
    // export class XGovRegistryMock extends AccountIdContract {
    txn OnCompletion
    !
    txn ApplicationID
    !
    &&
    assert // OnCompletion must be NoOp && can only call when creating
    intc_1 // 1
    return


// smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts::XGovRegistryMock.getXGovBox[routing]() -> void:
getXGovBox:
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:26
    // @abimethod({ readonly: true, name: 'get_xgov_box' })
    txna ApplicationArgs 1
    dup
    len
    intc_3 // 32
    ==
    assert // invalid number of bytes for arc4.static_array<arc4.uint8, 32>
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:24
    // xgovBox = BoxMap<Account, XGovBoxValue>({ keyPrefix: 'x' })
    bytec_1 // "x"
    swap
    concat
    dup
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:29
    // const { exists } = box
    box_len
    dup
    uncover 2
    pop
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:30
    // const value: XGovBoxValue = exists ? box.value : this.getEmptyXGovBoxValue()
    bz getXGovBox_ternary_false@3
    dig 1
    box_get
    assert // Box must have value

getXGovBox_ternary_merge@4:
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:31
    // return [value, exists]
    pushbytes 0x00
    intc_0 // 0
    dig 3
    setbit
    concat
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:26
    // @abimethod({ readonly: true, name: 'get_xgov_box' })
    pushbytes 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    return

getXGovBox_ternary_false@3:
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:35-40
    // return {
    //   votingAddress: Global.zeroAddress,
    //   toleratedAbsences: 0,
    //   lastVoteTimestamp: 0,
    //   subscriptionRound: 0,
    // }
    pushbytes base32(AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA)
    b getXGovBox_ternary_merge@4


// smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts::XGovRegistryMock.createProposal[routing]() -> void:
createProposal:
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:48-55
    // const created = itxn
    //   .applicationCall({
    //     approvalProgram: proposalContract.approvalProgram, // intentionally using clear state program for "return true"
    //     clearStateProgram: proposalContract.clearStateProgram,
    //     globalNumBytes: 2,
    //     globalNumUint: 4,
    //   })
    //   .submit()
    itxn_begin
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:53
    // globalNumUint: 4,
    pushint 4 // 4
    itxn_field GlobalNumUint
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:52
    // globalNumBytes: 2,
    pushint 2 // 2
    itxn_field GlobalNumByteSlice
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:46
    // const proposalContract = compile(XGovProposalMock)
    bytec_0 // base64(C4EBQw==)
    itxn_field ClearStateProgramPages
    pushbytes base64(CyAEAQAgCCYFCHByb3Bvc2VyBnN0YXR1cwxjb21taXR0ZWVfaWQMdm90ZV9vcGVuX3RzD3ZvdGluZ19kdXJhdGlvbjEYQAAyKDEAZykjZyqAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZysjZycEI2cxG0EAQDEZFEQxGESCBwQkYV+QBIbdPWEELoFVFATQejSeBEXMxbkElp9azwSjotV6NhoAjgcACwA+AE4AXwBvAIAAkgAxGRQxGBQQRCJDNhoBSRUkEkSAAVZMUEm9SU8CSEEAGUsBvkQXFoABACNLA1RQgAQVH3x1TFCwIkMjQv/oNhoBSRUkEkSIAGgoTGciQzYaAUkVJRJEF4gAVylMZyJDNhoBSRUkEkSIAEcqTGciQzYaAUkVJRJEF4gANitMZyJDNhoBSRUlEkQXiAAlJwRMZyJDNhoBSRUkEkQ2GgJJFSUSRBeIAAuAAVZPAlBMFr8iQzEAIyhlRBJAAAyACEVSUjpBVVRIsACJ)
    itxn_field ApprovalProgramPages
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:48-54
    // const created = itxn
    //   .applicationCall({
    //     approvalProgram: proposalContract.approvalProgram, // intentionally using clear state program for "return true"
    //     clearStateProgram: proposalContract.clearStateProgram,
    //     globalNumBytes: 2,
    //     globalNumUint: 4,
    //   })
    intc_2 // 6
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:48-55
    // const created = itxn
    //   .applicationCall({
    //     approvalProgram: proposalContract.approvalProgram, // intentionally using clear state program for "return true"
    //     clearStateProgram: proposalContract.clearStateProgram,
    //     globalNumBytes: 2,
    //     globalNumUint: 4,
    //   })
    //   .submit()
    itxn_submit
    itxn CreatedApplicationID
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:59
    // proposal.call.setProposer({ appId, args: [Txn.sender] })
    itxn_begin
    txn Sender
    pushbytes 0x86dd3d61 // method "setProposer(address)void"
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    intc_0 // 0
    itxn_field OnCompletion
    itxn_field ApplicationID
    intc_2 // appl
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    itxn_submit
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:45
    // public createProposal() {
    intc_1 // 1
    return


// smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts::XGovRegistryMock.setXGovBox[routing]() -> void:
setXGovBox:
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:62
    // public setXGovBox(voterAddress: Account, value: XGovBoxValue): void {
    txna ApplicationArgs 1
    dup
    len
    intc_3 // 32
    ==
    assert // invalid number of bytes for arc4.static_array<arc4.uint8, 32>
    txna ApplicationArgs 2
    dup
    len
    pushint 56 // 56
    ==
    assert // invalid number of bytes for smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts::XGovBoxValue
    // smart_contracts/base/base.algo.ts:80
    // ensure(Txn.sender === Global.creatorAddress, errUnauthorized)
    txn Sender
    global CreatorAddress
    ==
    // smart_contracts/base/utils.algo.ts:9
    // if (!cond) {
    bnz setXGovBox_after_if_else@3
    // smart_contracts/base/base.algo.ts:80
    // ensure(Txn.sender === Global.creatorAddress, errUnauthorized)
    pushbytes "ERR:AUTH"
    // smart_contracts/base/utils.algo.ts:10
    // log(code)
    log
    // smart_contracts/base/utils.algo.ts:11
    // err()
    err

setXGovBox_after_if_else@3:
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:24
    // xgovBox = BoxMap<Account, XGovBoxValue>({ keyPrefix: 'x' })
    bytec_1 // "x"
    dig 2
    concat
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:64
    // this.xgovBox(voterAddress).value = clone(value)
    dig 1
    box_put
    // smart_contracts/xgov-registry-mock/xGovRegistryMock.algo.ts:62
    // public setXGovBox(voterAddress: Account, value: XGovBoxValue): void {
    intc_1 // 1
    return


// smart_contracts/base/base.algo.ts::AccountIdContract.increaseBudget[routing]() -> void:
increaseBudget:
    // smart_contracts/base/base.algo.ts:87
    // @abimethod({ validateEncoding: 'unsafe-disabled' })
    txna ApplicationArgs 1
    btoi
    // smart_contracts/base/base.algo.ts:90
    // for (let i: uint64 = 0; i < itxns; i++) {
    intc_0 // 0

increaseBudget_while_top@2:
    // smart_contracts/base/base.algo.ts:90
    // for (let i: uint64 = 0; i < itxns; i++) {
    dup
    dig 2
    <
    bz increaseBudget_after_while@5
    // smart_contracts/base/base.algo.ts:91-97
    // itxn
    //   .applicationCall({
    //     approvalProgram: empty.clearStateProgram, // intentionally using clear state program for "return true"
    //     clearStateProgram: empty.clearStateProgram,
    //     onCompletion: OnCompleteAction.DeleteApplication,
    //   })
    //   .submit()
    itxn_begin
    // smart_contracts/base/base.algo.ts:95
    // onCompletion: OnCompleteAction.DeleteApplication,
    pushint 5 // 5
    itxn_field OnCompletion
    // smart_contracts/base/base.algo.ts:89
    // const empty = compile(EmptyContract)
    bytec_0 // base64(C4EBQw==)
    itxn_field ClearStateProgramPages
    bytec_0 // base64(C4EBQw==)
    itxn_field ApprovalProgramPages
    // smart_contracts/base/base.algo.ts:91-96
    // itxn
    //   .applicationCall({
    //     approvalProgram: empty.clearStateProgram, // intentionally using clear state program for "return true"
    //     clearStateProgram: empty.clearStateProgram,
    //     onCompletion: OnCompleteAction.DeleteApplication,
    //   })
    intc_2 // 6
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    // smart_contracts/base/base.algo.ts:91-97
    // itxn
    //   .applicationCall({
    //     approvalProgram: empty.clearStateProgram, // intentionally using clear state program for "return true"
    //     clearStateProgram: empty.clearStateProgram,
    //     onCompletion: OnCompleteAction.DeleteApplication,
    //   })
    //   .submit()
    itxn_submit
    // smart_contracts/base/base.algo.ts:90
    // for (let i: uint64 = 0; i < itxns; i++) {
    dup
    intc_1 // 1
    +
    bury 1
    b increaseBudget_while_top@2

increaseBudget_after_while@5:
    // smart_contracts/base/base.algo.ts:87
    // @abimethod({ validateEncoding: 'unsafe-disabled' })
    intc_1 // 1
    return
